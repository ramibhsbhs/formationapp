"use strict";(self.webpackChunkformationApp=self.webpackChunkformationApp||[]).push([[801],{9801:(Fe,Z,d)=>{d.r(Z),d.d(Z,{CondidatModule:()=>Ue});var l=d(6895),u=d(7917),g=d(5080),t=d(1571),w=d(5332);const A=["progressChart"],I=["attemptsChart"];function C(i,r){1&i&&(t.TgZ(0,"div",42),t._UZ(1,"i",43),t.TgZ(2,"p"),t._uU(3,"Vous n'avez pas encore commenc\xe9 de formation."),t.qZA()())}function z(i,r){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("Score final: ",e.score,"%")}}function U(i,r){if(1&i&&(t.TgZ(0,"div",48)(1,"div",9)(2,"h4",49),t._uU(3),t.qZA(),t.TgZ(4,"span",50),t._uU(5),t.qZA()(),t.TgZ(6,"div",51),t._UZ(7,"div",52),t.qZA(),t.TgZ(8,"div",53)(9,"span"),t._uU(10),t.qZA(),t.YNc(11,z,2,1,"span",38),t.qZA()()),2&i){const e=r.$implicit;t.xp6(3),t.Oqu(e.formationTitle),t.xp6(1),t.Q6J("ngClass",e.finalQuizPassed?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),t.xp6(1),t.hij(" ",e.finalQuizPassed?"Compl\xe9t\xe9":"En cours"," "),t.xp6(2),t.Udp("width",e.modulesCompleted/e.totalModules*100,"%"),t.xp6(3),t.AsE("",e.modulesCompleted," / ",e.totalModules," modules compl\xe9t\xe9s"),t.xp6(1),t.Q6J("ngIf",null!==e.score)}}function F(i,r){if(1&i&&(t.TgZ(0,"div")(1,"div",44),t._UZ(2,"canvas",null,45),t.qZA(),t.TgZ(4,"div",46),t.YNc(5,U,12,8,"div",47),t.qZA()()),2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.dashboardData.formationProgress)}}function Q(i,r){1&i&&(t.TgZ(0,"div",42),t._UZ(1,"i",54),t.TgZ(2,"p"),t._uU(3,"Aucune donn\xe9e disponible pour le moment."),t.qZA()())}function M(i,r){1&i&&(t.TgZ(0,"div",55),t._UZ(1,"canvas",null,56),t.qZA())}function k(i,r){1&i&&(t.TgZ(0,"div",57),t._UZ(1,"div",58),t.qZA())}function E(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",59)(1,"strong",60),t._uU(2,"Erreur!"),t.qZA(),t.TgZ(3,"span",61),t._uU(4," Impossible de charger les donn\xe9es du tableau de bord."),t.qZA(),t.TgZ(5,"button",62),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.refreshData())}),t._uU(6,"R\xe9essayer"),t.qZA()()}}const D=function(i){return{"animate-spin":i}};g.kL.register(...g.zX);let N=(()=>{class i{constructor(e,o){this.dashboardService=e,this.router=o,this.loading=!0,this.error=!1}ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loading=!0,this.error=!1,this.dashboardService.getCandidateDashboardData().subscribe({next:e=>{this.dashboardData=e,this.loading=!1,setTimeout(()=>{this.initCharts()},100)},error:e=>{console.error("Erreur lors du chargement des donn\xe9es du tableau de bord",e),this.loading=!1,this.error=!0}})}initCharts(){this.initProgressChart(),this.initAttemptsChart()}initProgressChart(){if(this.progressChartCanvas&&this.dashboardData?.formationProgress?.length>0){const e=this.progressChartCanvas.nativeElement.getContext("2d");this.progressChart&&this.progressChart.destroy();const o=this.dashboardData.formationProgress.map(a=>this.truncateTitle(a.formationTitle)),n=this.dashboardData.formationProgress.map(a=>a.modulesCompleted),s=this.dashboardData.formationProgress.map(a=>a.totalModules);this.progressChart=new g.kL(e,{type:"bar",data:{labels:o,datasets:[{label:"Modules compl\xe9t\xe9s",data:n,backgroundColor:"#4F46E5",borderWidth:0,borderRadius:4},{label:"Total des modules",data:s,backgroundColor:"#E5E7EB",borderWidth:0,borderRadius:4}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Progression des formations"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Nombre de modules"}},x:{title:{display:!0,text:"Formations"}}}}})}}initAttemptsChart(){if(this.attemptsChartCanvas&&this.dashboardData?.attemptsOverTime?.length>0){const e=this.attemptsChartCanvas.nativeElement.getContext("2d");this.attemptsChart&&this.attemptsChart.destroy(),this.attemptsChart=new g.kL(e,{type:"line",data:{labels:this.dashboardData.attemptsOverTime.map(o=>o.month),datasets:[{label:"Tentatives de quiz",data:this.dashboardData.attemptsOverTime.map(o=>o.count),borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Vos tentatives de quiz par mois"}},scales:{y:{beginAtZero:!0}}}})}}truncateTitle(e){return e.length>20?e.substring(0,17)+"...":e}refreshData(){this.loadDashboardData()}viewFormations(){this.router.navigate(["/condidat/formations"])}viewCertifications(){this.router.navigate(["/condidat/certification"])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(w.s),t.Y36(u.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],viewQuery:function(e,o){if(1&e&&(t.Gf(A,5),t.Gf(I,5)),2&e){let n;t.iGM(n=t.CRH())&&(o.progressChartCanvas=n.first),t.iGM(n=t.CRH())&&(o.attemptsChartCanvas=n.first)}},decls:88,vars:16,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"flex","justify-between","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-gray-600","mt-2"],[1,"px-6","py-2.5","bg-gradient-to-r","from-primary","to-blue-700","text-white","font-medium","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","duration-300","hover:from-blue-700","hover:to-primary","!h-10",3,"click"],[1,"flex","items-center"],[1,"fas","fa-sync-alt","mr-2",3,"ngClass"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"stat-card"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-lg","font-semibold","text-gray-700"],[1,"p-2","bg-blue-100","rounded-full"],[1,"fas","fa-graduation-cap","text-blue-600"],[1,"stat-value","text-blue-600"],[1,"stat-label"],[1,"p-2","bg-green-100","rounded-full"],[1,"fas","fa-check-circle","text-green-600"],[1,"stat-value","text-green-600"],[1,"p-2","bg-purple-100","rounded-full"],[1,"fas","fa-certificate","text-purple-600"],[1,"stat-value","text-purple-600"],[1,"p-2","bg-yellow-100","rounded-full"],[1,"fas","fa-star","text-yellow-600"],[1,"stat-value","text-yellow-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow"],[1,"flex","items-center","mb-4"],[1,"p-3","bg-blue-100","rounded-full","mr-4"],[1,"fas","fa-book","text-blue-600","text-xl"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-gray-600"],[1,"w-full","px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","transition-colors",3,"click"],[1,"p-3","bg-purple-100","rounded-full","mr-4"],[1,"fas","fa-certificate","text-purple-600","text-xl"],[1,"w-full","px-4","py-2","bg-purple-600","text-white","rounded-md","hover:bg-purple-700","transition-colors",3,"click"],[1,"bg-white","p-6","rounded-lg","shadow-md","mb-8"],[1,"text-lg","font-semibold","text-gray-700","mb-4"],["class","text-center py-8 text-gray-500",4,"ngIf"],[4,"ngIf"],["class","h-64",4,"ngIf"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-8",4,"ngIf"],[1,"text-center","py-8","text-gray-500"],[1,"fas","fa-info-circle","text-2xl","mb-2"],[1,"h-64","mb-4"],["progressChart",""],[1,"mt-6","space-y-4"],["class","border border-gray-200 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"font-medium","text-gray-800"],[1,"px-2","py-1","rounded","text-xs","font-medium",3,"ngClass"],[1,"w-full","bg-gray-200","rounded-full","h-2.5","mb-2"],[1,"bg-blue-600","h-2.5","rounded-full"],[1,"flex","justify-between","text-sm","text-gray-600"],[1,"fas","fa-chart-line","text-2xl","mb-2"],[1,"h-64"],["attemptsChart",""],[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-primary"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-8"],[1,"font-bold"],[1,"block","sm:inline"],[1,"underline","ml-2",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),t._uU(4,"Tableau de bord candidat"),t.qZA(),t.TgZ(5,"p",3),t._uU(6,"Suivez votre progression et vos formations"),t.qZA()(),t.TgZ(7,"button",4),t.NdJ("click",function(){return o.refreshData()}),t.TgZ(8,"span",5),t._UZ(9,"i",6),t._uU(10," Actualiser "),t.qZA()()(),t.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"h3",10),t._uU(15,"Formations"),t.qZA(),t.TgZ(16,"div",11),t._UZ(17,"i",12),t.qZA()(),t.TgZ(18,"p",13),t._uU(19),t.qZA(),t.TgZ(20,"p",14),t._uU(21,"Formations inscrites"),t.qZA()(),t.TgZ(22,"div",8)(23,"div",9)(24,"h3",10),t._uU(25,"Compl\xe9t\xe9es"),t.qZA(),t.TgZ(26,"div",15),t._UZ(27,"i",16),t.qZA()(),t.TgZ(28,"p",17),t._uU(29),t.qZA(),t.TgZ(30,"p",14),t._uU(31,"Formations termin\xe9es"),t.qZA()(),t.TgZ(32,"div",8)(33,"div",9)(34,"h3",10),t._uU(35,"Certifications"),t.qZA(),t.TgZ(36,"div",18),t._UZ(37,"i",19),t.qZA()(),t.TgZ(38,"p",20),t._uU(39),t.qZA(),t.TgZ(40,"p",14),t._uU(41,"Certifications obtenues"),t.qZA()(),t.TgZ(42,"div",8)(43,"div",9)(44,"h3",10),t._uU(45,"Score moyen"),t.qZA(),t.TgZ(46,"div",21),t._UZ(47,"i",22),t.qZA()(),t.TgZ(48,"p",23),t._uU(49),t.ALo(50,"number"),t.qZA(),t.TgZ(51,"p",14),t._uU(52,"Sur tous vos quiz"),t.qZA()()(),t.TgZ(53,"div",24)(54,"div",25)(55,"div",26)(56,"div",27),t._UZ(57,"i",28),t.qZA(),t.TgZ(58,"div")(59,"h3",29),t._uU(60,"Mes formations"),t.qZA(),t.TgZ(61,"p",30),t._uU(62,"Acc\xe9dez \xe0 vos formations et continuez votre apprentissage"),t.qZA()()(),t.TgZ(63,"button",31),t.NdJ("click",function(){return o.viewFormations()}),t._uU(64," Voir mes formations "),t.qZA()(),t.TgZ(65,"div",25)(66,"div",26)(67,"div",32),t._UZ(68,"i",33),t.qZA(),t.TgZ(69,"div")(70,"h3",29),t._uU(71,"Mes certifications"),t.qZA(),t.TgZ(72,"p",30),t._uU(73,"Consultez et t\xe9l\xe9chargez vos certifications obtenues"),t.qZA()()(),t.TgZ(74,"button",34),t.NdJ("click",function(){return o.viewCertifications()}),t._uU(75," Voir mes certifications "),t.qZA()()(),t.TgZ(76,"div",35)(77,"h3",36),t._uU(78,"Progression de vos formations"),t.qZA(),t.YNc(79,C,4,0,"div",37),t.YNc(80,F,6,1,"div",38),t.qZA(),t.TgZ(81,"div",35)(82,"h3",36),t._uU(83,"Vos tentatives de quiz"),t.qZA(),t.YNc(84,Q,4,0,"div",37),t.YNc(85,M,3,0,"div",39),t.qZA(),t.YNc(86,k,2,0,"div",40),t.YNc(87,E,7,0,"div",41),t.qZA()),2&e&&(t.xp6(9),t.Q6J("ngClass",t.VKq(14,D,o.loading)),t.xp6(10),t.Oqu(o.dashboardData&&o.dashboardData.totalFormationsEnrolled||0),t.xp6(10),t.Oqu(o.dashboardData&&o.dashboardData.totalFormationsCompleted||0),t.xp6(10),t.hij("",o.dashboardData&&o.dashboardData.totalCertificationsEarned||0," "),t.xp6(10),t.hij("",t.xi3(50,11,o.dashboardData&&o.dashboardData.averageScore||0,"1.1-1"),"%"),t.xp6(30),t.Q6J("ngIf",!o.dashboardData||!o.dashboardData.formationProgress||0===o.dashboardData.formationProgress.length),t.xp6(1),t.Q6J("ngIf",o.dashboardData&&o.dashboardData.formationProgress&&o.dashboardData.formationProgress.length>0),t.xp6(4),t.Q6J("ngIf",!o.dashboardData||!o.dashboardData.attemptsOverTime||0===o.dashboardData.attemptsOverTime.length),t.xp6(1),t.Q6J("ngIf",o.dashboardData&&o.dashboardData.attemptsOverTime&&o.dashboardData.attemptsOverTime.length>0),t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.error))},dependencies:[l.mk,l.sg,l.O5,l.JJ]}),i})();var J=d(2340),S=d(529);let p=(()=>{class i{constructor(e){this.http=e,this.baseUrl=J.N.baseUrl}getFormations(){return this.http.get(`${this.baseUrl}/formation/condidat`)}getFormation(e){return this.http.get(`${this.baseUrl}/formation/condidat/${e}`)}checkQuizEligibility(e){return this.http.get(`${this.baseUrl}/quizs/validate/${e}`)}checkModuleQuizEligibility(e,o,n){let s=`${this.baseUrl}/quizs/validate/module/${e}/${o}`;return n&&(s+=`?sessionId=${n}`),this.http.get(s)}checkFinalQuizEligibility(e,o){let n=`${this.baseUrl}/quizs/validate/final/${e}`;return o&&(n+=`?sessionId=${o}`),this.http.get(n)}getModuleQuizResults(e,o,n){let s=`${this.baseUrl}/quizresults/module/${e}/${o}`;return n&&(s+=`?sessionId=${n}`),this.http.get(s)}getFormationProgress(e,o){let n=`${this.baseUrl}/quizresults/formation/${e}/progress`;return o&&(n+=`?sessionId=${o}`),this.http.get(n)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(S.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var f=d(433);function Y(i,r){if(1&i&&(t.TgZ(0,"div",23)(1,"div",24)(2,"span",25),t._uU(3,"Progression"),t.qZA(),t.TgZ(4,"span",26),t._uU(5),t.qZA()(),t.TgZ(6,"div",27),t._UZ(7,"div",28),t.qZA()()),2&i){const e=t.oxw();t.xp6(5),t.hij("",e.getProgressPercentage(),"%"),t.xp6(2),t.Udp("width",e.getProgressPercentage(),"%")}}const j=function(i){return["./",i]};let V=(()=>{class i{constructor(){this.viewDetails=new t.vpe}ngOnInit(){}getCategoryColor(e){switch(e){case"Technical Training":return"bg-blue-100 text-blue-800";case"Soft Skills":return"bg-red-100 text-red-800";case"Leadership":return"bg-green-100 text-green-800";case"Project Management":return"bg-purple-100 text-purple-800";case"Compliance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}getBannerGradient(e){switch(e){case"Technical Training":return"from-blue-400 to-blue-600";case"Soft Skills":return"from-red-400 to-red-600";case"Leadership":return"from-green-400 to-green-600";case"Project Management":return"from-purple-400 to-purple-600";case"Compliance":return"from-yellow-400 to-yellow-600";default:return"from-gray-400 to-gray-600"}}getCategoryLabel(e){switch(e){case"Technical Training":return"Technique";case"Soft Skills":return"S\xe9curit\xe9";case"Leadership":return"Qualit\xe9";case"Project Management":return"Project Management";case"Compliance":return"Compliance";default:return e}}getProgressPercentage(){if(!this.formation.userProgress||0===this.formation.userProgress.length)return 0;const o=this.formation.modules.length;return o>0?Math.round(this.formation.userProgress.length/o*100):0}getLastUpdateDate(){return"Il y a 3 jours"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-condidat-formation-card"]],inputs:{formation:"formation"},outputs:{viewDetails:"viewDetails"},decls:37,vars:12,consts:[[1,"group","relative","bg-white","rounded-xl","shadow-md","overflow-hidden","border","border-gray-100","hover:shadow-xl","transition-all","duration-300","transform","hover:-translate-y-1"],[1,"h-2","bg-gradient-to-r",3,"ngClass"],[1,"absolute","top-4","right-4","z-10"],[1,"px-3","py-1.5","rounded-full","text-xs","font-bold","shadow-sm",3,"ngClass"],[1,"p-6"],[1,"font-bold","text-gray-800","text-xl","mb-3","group-hover:text-blue-700","transition-colors","duration-300"],[1,"relative","mb-5"],[1,"text-gray-600","text-sm","mb-1","line-clamp-2","min-h-[3rem]"],[1,"absolute","bottom-0","left-0","right-0","h-6","bg-gradient-to-t","from-white","to-transparent"],[1,"grid","grid-cols-2","gap-4","mb-5"],[1,"flex","items-center"],[1,"w-10","h-10","rounded-lg","bg-blue-50","flex","items-center","justify-center","mr-3"],[1,"fa-solid","fa-calendar","text-blue-600"],[1,"text-gray-900","font-bold","text-lg","leading-none","!mb-0"],[1,"text-gray-500","text-xs","!mb-0"],[1,"w-10","h-10","rounded-lg","bg-indigo-50","flex","items-center","justify-center","mr-3"],[1,"fa-solid","fa-book","text-indigo-600"],["class","mb-5",4,"ngIf"],[1,"px-6","py-4","bg-gray-50","border-t","border-gray-100","flex","justify-between","items-center"],[1,"text-xs","text-gray-500"],[1,"fas","fa-clock","mr-1"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","shadow-sm","hover:bg-blue-700","transition-colors","flex","items-center",3,"routerLink"],[1,"fa-solid","fa-arrow-right","mr-2"],[1,"mb-5"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xs","font-medium","text-gray-700"],[1,"text-xs","font-medium","text-blue-700"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-blue-600","h-2","rounded-full"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"span",3),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"h3",5),t._uU(7),t.qZA(),t.TgZ(8,"div",6)(9,"p",7),t._uU(10),t.qZA(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11),t._UZ(15,"i",12),t.qZA(),t.TgZ(16,"div")(17,"p",13),t._uU(18),t.qZA(),t.TgZ(19,"p",14),t._uU(20,"Sessions"),t.qZA()()(),t.TgZ(21,"div",10)(22,"div",15),t._UZ(23,"i",16),t.qZA(),t.TgZ(24,"div")(25,"p",13),t._uU(26),t.qZA(),t.TgZ(27,"p",14),t._uU(28,"Modules"),t.qZA()()()(),t.YNc(29,Y,8,3,"div",17),t.qZA(),t.TgZ(30,"div",18)(31,"div",19),t._UZ(32,"i",20),t._uU(33),t.qZA(),t.TgZ(34,"button",21),t._UZ(35,"i",22),t._uU(36," Voir d\xe9tails "),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngClass",o.getBannerGradient(o.formation.category)),t.xp6(2),t.Q6J("ngClass",o.getCategoryColor(o.formation.category)),t.xp6(1),t.hij(" ",o.getCategoryLabel(o.formation.category)," "),t.xp6(3),t.hij(" ",o.formation.title," "),t.xp6(3),t.hij(" ",o.formation.description," "),t.xp6(8),t.Oqu(o.formation.sessions.length),t.xp6(8),t.Oqu(o.formation.modules.length),t.xp6(3),t.Q6J("ngIf",o.formation.userProgress&&o.formation.userProgress.length>0),t.xp6(4),t.hij(" Derni\xe8re mise \xe0 jour: ",o.getLastUpdateDate()," "),t.xp6(1),t.Q6J("routerLink",t.VKq(10,j,o.formation.id)))},dependencies:[l.mk,l.O5,u.rH]}),i})();function P(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return n.searchTerm="",t.KtG(n.filterFormations())}),t._UZ(1,"i",54),t.qZA()}}function L(i,r){if(1&i&&(t.TgZ(0,"option",55),t._uU(1),t.qZA()),2&i){const e=r.$implicit,o=t.oxw();t.Q6J("value",e),t.xp6(1),t.hij(" ",o.getCategoryLabel(e)," ")}}function O(i,r){if(1&i&&(t.TgZ(0,"span")(1,"span",60),t._uU(2),t.qZA(),t._uU(3," formation(s) trouv\xe9e(s) "),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(e.filteredFormations.length)}}function R(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1," Aucune formation ne correspond \xe0 votre recherche "),t.qZA())}function H(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.resetFilters())}),t._UZ(1,"i",62),t._uU(2," Effacer les filtres "),t.qZA()}}function $(i,r){if(1&i&&(t.TgZ(0,"div",56)(1,"div",57),t.YNc(2,O,4,1,"span",58),t.YNc(3,R,2,0,"span",58),t.qZA(),t.YNc(4,H,3,0,"button",59),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.filteredFormations.length>0),t.xp6(1),t.Q6J("ngIf",0===e.filteredFormations.length),t.xp6(1),t.Q6J("ngIf",e.searchTerm||e.selectedCategory)}}function B(i,r){1&i&&(t.TgZ(0,"div",63)(1,"div",17),t._UZ(2,"div",64)(3,"div",65),t.qZA(),t.TgZ(4,"p",66),t._uU(5,"Chargement des formations..."),t.qZA()())}function K(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",72)(1,"app-condidat-formation-card",73),t.NdJ("viewDetails",function(n){t.CHM(e);const s=t.oxw(3);return t.KtG(s.onViewDetails(n))}),t.qZA()()}if(2&i){const e=r.$implicit,o=t.oxw(3);t.Udp("animation-delay",.1*o.filteredFormations.indexOf(e)+"s"),t.xp6(1),t.Q6J("formation",e)}}function G(i,r){if(1&i&&(t.TgZ(0,"div",70),t.YNc(1,K,2,3,"div",71),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.filteredFormations)}}function W(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",74)(1,"div",75),t._UZ(2,"div",76),t.TgZ(3,"div",77),t._UZ(4,"i",78),t.qZA()(),t.TgZ(5,"h3",79),t._uU(6," Aucune formation trouv\xe9e "),t.qZA(),t.TgZ(7,"p",80),t._uU(8," Nous n'avons trouv\xe9 aucune formation correspondant \xe0 vos crit\xe8res de recherche. "),t.TgZ(9,"span",81),t._uU(10,"Essayez de modifier vos filtres ou d'utiliser des termes de recherche diff\xe9rents."),t.qZA()(),t.TgZ(11,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.resetFilters())}),t._UZ(12,"i",83),t._uU(13," R\xe9initialiser les filtres "),t.qZA(),t.TgZ(14,"div",84),t._UZ(15,"div",85),t.qZA()()}}function X(i,r){if(1&i&&(t.TgZ(0,"div",67),t.YNc(1,G,2,1,"div",68),t.YNc(2,W,16,0,"div",69),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.filteredFormations.length>0),t.xp6(1),t.Q6J("ngIf",0===e.filteredFormations.length&&!e.isLoading)}}const tt=function(i){return{"animate-spin":i}};let et=(()=>{class i{constructor(e){this.condidatFormationService=e,this.formations=[],this.filteredFormations=[],this.categories=["Technical Training","Soft Skills","Leadership","Project Management","Compliance"],this.isLoading=!1,this.searchTerm="",this.selectedCategory=""}ngOnInit(){this.fetchFormations()}fetchFormations(){this.isLoading=!0,this.condidatFormationService.getFormations().subscribe({next:e=>{this.formations=e,this.filteredFormations=[...this.formations],this.isLoading=!1},error:e=>{console.error("Error fetching formations:",e),this.isLoading=!1}})}filterFormations(){this.filteredFormations=this.formations.filter(e=>(""===this.searchTerm||e.title.toLowerCase().includes(this.searchTerm.toLowerCase())||e.description.toLowerCase().includes(this.searchTerm.toLowerCase()))&&(""===this.selectedCategory||e.category===this.selectedCategory))}resetFilters(){this.searchTerm="",this.selectedCategory="",this.filteredFormations=[...this.formations]}onViewDetails(e){console.log("View details for formation ID:",e)}getCompletedFormationsCount(){return this.formations.filter(e=>!0===e.finalQuizPassed).length}getActiveSessionsCount(){const e=new Date;let o=0;return this.formations.forEach(n=>{n.sessions.forEach(s=>{const a=new Date(s.startDate),m=new Date(s.endDate);a<=e&&m>=e&&o++})}),o}getCategoryLabel(e){switch(e){case"Technical Training":return"Technique";case"Soft Skills":return"S\xe9curit\xe9";case"Leadership":return"Qualit\xe9";case"Project Management":return"Project Management";case"Compliance":return"Compliance";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-formations"]],decls:80,vars:13,consts:[[1,"animate-fade-in","min-h-screen","bg-gradient-to-b","from-gray-50","to-white"],[1,"container","mx-auto","px-6","py-6","relative"],[1,"flex","flex-col","md:flex-row","justify-between"],[1,"mb-8","md:mb-0","max-w-2xl"],[1,"text-5xl","font-extrabold","mb-4","tracking-tight","leading-none","text-gray-800"],[1,"bg-clip-text","text-transparent","bg-gradient-to-r","from-primary","to-indigo-700"],[1,"text-xl","text-gray-600","font-light","leading-relaxed"],[1,"border-l-4","border-primary","pl-4","italic","block"],[1,"flex"],[1,"px-8","py-4","bg-gradient-to-r","from-primary","to-indigo-600","text-white","font-medium","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:-translate-y-1","hover:from-indigo-600","hover:to-primary","flex","items-center","h-10",3,"click"],[1,"fas","fa-sync-alt","mr-3","text-lg",3,"ngClass"],[1,"font-semibold"],[1,"container","mx-auto","px-6","-mt-6","mb-8","relative","z-20"],[1,"bg-white","rounded-xl","shadow-lg","p-6","border","border-gray-100"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex-1"],["for","searchInput",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"fas","fa-search","text-blue-500"],["id","searchInput","type","text","placeholder","Rechercher par titre ou description...","autocomplete","off",1,"block","w-full","pl-10","pr-10","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","shadow-sm",3,"ngModel","ngModelChange","input"],["class","absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",3,"click",4,"ngIf"],[1,"w-full","md:w-64"],["for","categorySelect",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","categorySelect",1,"block","w-full","px-3","py-3","pr-10","border","border-gray-300","rounded-lg","appearance-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","shadow-sm","bg-white",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","inset-y-0","right-0","flex","items-center","px-2","pointer-events-none"],[1,"fas","fa-chevron-down","text-gray-500"],["class","mt-4 pt-4 border-t border-gray-100 flex justify-between items-center",4,"ngIf"],[1,"container","mx-auto","px-6","pb-16"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8","mb-12"],[1,"bg-white","rounded-xl","shadow-lg","overflow-hidden","border","border-gray-100","hover:shadow-xl","transition-all","duration-300","transform","hover:-translate-y-2","group"],[1,"h-2","bg-gradient-to-r","from-primary","to-indigo-600"],[1,"p-8","flex","items-center"],[1,"w-20","h-20","rounded-xl","bg-gradient-to-br","from-blue-50","to-indigo-50","flex","items-center","justify-center","mr-5","transform","transition-transform","duration-500","group-hover:rotate-6","shadow-inner"],[1,"fas","fa-graduation-cap","text-primary","text-3xl","group-hover:scale-110","transition-transform"],[1,"text-gray-500","text-sm","font-medium","uppercase","tracking-wider","mb-1"],[1,"flex","items-end"],[1,"text-5xl","font-extrabold","text-gray-800","leading-none","bg-clip-text","text-transparent","bg-gradient-to-r","from-primary","to-indigo-700"],[1,"text-primary","ml-3","mb-1","text-sm","font-medium"],[1,"h-2","bg-gradient-to-r","from-green-500","to-teal-500"],[1,"w-20","h-20","rounded-xl","bg-gradient-to-br","from-green-50","to-teal-50","flex","items-center","justify-center","mr-5","transform","transition-transform","duration-500","group-hover:rotate-6","shadow-inner"],[1,"fas","fa-check-circle","text-green-600","text-3xl","group-hover:scale-110","transition-transform"],[1,"text-5xl","font-extrabold","text-gray-800","leading-none","bg-clip-text","text-transparent","bg-gradient-to-r","from-green-500","to-teal-500"],[1,"text-green-600","ml-3","mb-1","text-sm","font-medium"],[1,"h-2","bg-gradient-to-r","from-purple-500","to-indigo-500"],[1,"w-20","h-20","rounded-xl","bg-gradient-to-br","from-purple-50","to-indigo-50","flex","items-center","justify-center","mr-5","transform","transition-transform","duration-500","group-hover:rotate-6","shadow-inner"],[1,"fas","fa-calendar-alt","text-purple-600","text-3xl","group-hover:scale-110","transition-transform"],[1,"text-5xl","font-extrabold","text-gray-800","leading-none","bg-clip-text","text-transparent","bg-gradient-to-r","from-purple-500","to-indigo-500"],[1,"text-purple-600","ml-3","mb-1","text-sm","font-medium"],["class","flex flex-col justify-center items-center py-20",4,"ngIf"],["class","space-y-8",4,"ngIf"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[3,"value"],[1,"mt-4","pt-4","border-t","border-gray-100","flex","justify-between","items-center"],[1,"text-sm","text-gray-600"],[4,"ngIf"],["class","text-sm text-blue-600 hover:text-blue-800 flex items-center",3,"click",4,"ngIf"],[1,"font-medium"],[1,"text-sm","text-blue-600","hover:text-blue-800","flex","items-center",3,"click"],[1,"fas","fa-times-circle","mr-1"],[1,"flex","flex-col","justify-center","items-center","py-20"],[1,"animate-spin","rounded-full","h-20","w-20","border-4","border-gray-200"],[1,"animate-spin","rounded-full","h-20","w-20","border-t-4","border-blue-600","absolute","top-0","left-0"],[1,"mt-4","text-gray-600","font-medium"],[1,"space-y-8"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",4,"ngIf"],["class","text-center py-20 px-8 bg-gradient-to-b from-white to-gray-50 rounded-2xl shadow-lg border border-gray-100 animate-fadeIn max-w-3xl mx-auto",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],["class","col-span-1 animate-fadeIn",3,"animation-delay",4,"ngFor","ngForOf"],[1,"col-span-1","animate-fadeIn"],[3,"formation","viewDetails"],[1,"text-center","py-20","px-8","bg-gradient-to-b","from-white","to-gray-50","rounded-2xl","shadow-lg","border","border-gray-100","animate-fadeIn","max-w-3xl","mx-auto"],[1,"mb-8","relative"],[1,"absolute","-top-4","left-1/2","transform","-translate-x-1/2","w-32","h-1","bg-gradient-to-r","from-blue-300","to-indigo-500","rounded-full","opacity-70"],[1,"inline-flex","items-center","justify-center","w-24","h-24","rounded-full","bg-gradient-to-br","from-blue-50","to-indigo-50","text-blue-600","shadow-inner"],[1,"fas","fa-search","text-5xl"],[1,"text-3xl","font-extrabold","mb-4","bg-clip-text","text-transparent","bg-gradient-to-r","from-blue-600","to-indigo-600","text-center"],[1,"text-gray-600","max-w-lg","mx-auto","mb-8","leading-relaxed","text-lg","font-light","text-center"],[1,"block","mt-2","font-medium","text-gray-700"],[1,"px-8","py-4","bg-gradient-to-r","from-primary","to-indigo-600","text-white","rounded-xl","hover:from-indigo-600","hover:to-blue-600","shadow-md","hover:shadow-xl","transform","hover:-translate-y-1","transition-all","duration-300","flex","items-center","mx-auto","font-medium",3,"click"],[1,"fas","fa-redo-alt","mr-3","animate-spin-slow"],[1,"mt-10","flex","justify-center"],[1,"w-16","h-1","bg-gray-200","rounded-full"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"span",5),t._uU(6," Catalogue de formations "),t.qZA()(),t.TgZ(7,"p",6)(8,"span",7),t._uU(9," D\xe9couvrez toutes les formations disponibles et d\xe9veloppez vos comp\xe9tences professionnelles "),t.qZA()()(),t.TgZ(10,"div",8)(11,"button",9),t.NdJ("click",function(){return o.fetchFormations()}),t._UZ(12,"i",10),t.TgZ(13,"span",11),t._uU(14,"Actualiser"),t.qZA()()()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"label",16),t._uU(20,"Rechercher"),t.qZA(),t.TgZ(21,"div",17)(22,"div",18),t._UZ(23,"i",19),t.qZA(),t.TgZ(24,"input",20),t.NdJ("ngModelChange",function(s){return o.searchTerm=s})("input",function(){return o.filterFormations()}),t.qZA(),t.YNc(25,P,2,0,"button",21),t.qZA()(),t.TgZ(26,"div",22)(27,"label",23),t._uU(28,"Cat\xe9gorie"),t.qZA(),t.TgZ(29,"div",17)(30,"select",24),t.NdJ("ngModelChange",function(s){return o.selectedCategory=s})("change",function(){return o.filterFormations()}),t.TgZ(31,"option",25),t._uU(32,"Toutes les cat\xe9gories"),t.qZA(),t.YNc(33,L,2,2,"option",26),t.qZA(),t.TgZ(34,"div",27),t._UZ(35,"i",28),t.qZA()()()(),t.YNc(36,$,5,3,"div",29),t.qZA()(),t.TgZ(37,"div",30)(38,"div",31)(39,"div",32),t._UZ(40,"div",33),t.TgZ(41,"div",34)(42,"div",35),t._UZ(43,"i",36),t.qZA(),t.TgZ(44,"div")(45,"p",37),t._uU(46,"Formations disponibles"),t.qZA(),t.TgZ(47,"div",38)(48,"p",39),t._uU(49),t.qZA(),t.TgZ(50,"p",40),t._uU(51,"formations"),t.qZA()()()()(),t.TgZ(52,"div",32),t._UZ(53,"div",41),t.TgZ(54,"div",34)(55,"div",42),t._UZ(56,"i",43),t.qZA(),t.TgZ(57,"div")(58,"p",37),t._uU(59,"Formations compl\xe9t\xe9es "),t.qZA(),t.TgZ(60,"div",38)(61,"p",44),t._uU(62),t.qZA(),t.TgZ(63,"p",45),t._uU(64,"termin\xe9es"),t.qZA()()()()(),t.TgZ(65,"div",32),t._UZ(66,"div",46),t.TgZ(67,"div",34)(68,"div",47),t._UZ(69,"i",48),t.qZA(),t.TgZ(70,"div")(71,"p",37),t._uU(72,"Sessions actives"),t.qZA(),t.TgZ(73,"div",38)(74,"p",49),t._uU(75),t.qZA(),t.TgZ(76,"p",50),t._uU(77,"en cours"),t.qZA()()()()()(),t.YNc(78,B,6,0,"div",51),t.YNc(79,X,3,2,"div",52),t.qZA()()),2&e&&(t.xp6(12),t.Q6J("ngClass",t.VKq(11,tt,o.isLoading)),t.xp6(12),t.Q6J("ngModel",o.searchTerm),t.xp6(1),t.Q6J("ngIf",o.searchTerm),t.xp6(5),t.Q6J("ngModel",o.selectedCategory),t.xp6(3),t.Q6J("ngForOf",o.categories),t.xp6(3),t.Q6J("ngIf",o.searchTerm||o.selectedCategory),t.xp6(13),t.hij(" ",o.formations.length," "),t.xp6(13),t.hij(" ",o.getCompletedFormationsCount()," "),t.xp6(13),t.hij(" ",o.getActiveSessionsCount()," "),t.xp6(3),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading))},dependencies:[l.mk,l.sg,l.O5,f.YN,f.Kr,f.Fj,f.EJ,f.JJ,f.On,V]}),i})();var it=d(7445),T=d(7480),h=d(9140),ot=d(8690);const nt=function(i,r){return{"bg-gradient-to-tr from-green-600 to-green-400 shadow-green-100":i,"bg-gradient-to-r from-red-400 to-pink-500":r}};function rt(i,r){if(1&i&&(t.TgZ(0,"div",5),t.O4$(),t.TgZ(1,"svg",6),t._UZ(2,"path",7),t.qZA(),t.kcU(),t.TgZ(3,"span",8),t._uU(4),t.qZA()()),2&i){const e=t.oxw();t.Q6J("ngClass",t.WLB(2,nt,"upcoming"===e.countdownState,"ongoing"===e.countdownState)),t.xp6(4),t.hij(" ","upcoming"===e.countdownState?"Commence dans "+e.countdownText:"Termine dans "+e.countdownText," ")}}function st(i,r){1&i&&(t.TgZ(0,"div",9),t._UZ(1,"div",10),t.qZA())}function at(i,r){if(1&i&&(t.TgZ(0,"div",11)(1,"div",12)(2,"strong",13),t._uU(3,"Erreur!"),t.qZA(),t.TgZ(4,"span",14),t._uU(5),t.qZA()()()),2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.error)}}function lt(i,r){1&i&&t._UZ(0,"i",45)}function dt(i,r){1&i&&t._UZ(0,"i",46)}const ut=function(i,r){return{"bg-gray-100":i,"bg-white":r}},ct=function(i,r){return{"bg-indigo-100 text-indigo-600":i,"bg-gray-200 text-gray-600":r}};function mt(i,r){if(1&i&&(t.TgZ(0,"div",38)(1,"div",39)(2,"div",40),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"h3",41),t._uU(6),t.qZA(),t.TgZ(7,"p",42),t._uU(8),t.qZA()()(),t.TgZ(9,"div"),t.YNc(10,lt,1,0,"i",43),t.YNc(11,dt,1,0,"i",44),t.qZA()()),2&i){const e=r.$implicit,o=r.index;t.Q6J("ngClass",t.WLB(7,ut,!e.isAccessible,e.isAccessible)),t.xp6(2),t.Q6J("ngClass",t.WLB(10,ct,0===o,0!==o)),t.xp6(1),t.hij(" ",o+1," "),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Q6J("ngIf",e.isAccessible),t.xp6(1),t.Q6J("ngIf",!e.isAccessible)}}function ft(i,r){1&i&&(t.TgZ(0,"div")(1,"h3",47),t._uU(2,"Formation compl\xe9t\xe9e avec succ\xe8s"),t.qZA(),t.TgZ(3,"div",48)(4,"p"),t._uU(5,'F\xe9licitations ! Vous avez compl\xe9t\xe9 cette formation avec succ\xe8s. Vous pouvez consulter votre certificat dans la section "Certifications".'),t.qZA()()())}function gt(i,r){if(1&i&&(t.TgZ(0,"div")(1,"h3",49),t._uU(2,"Formation en cours"),t.qZA(),t.TgZ(3,"div",50)(4,"p"),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(5),t.hij("Vous avez commenc\xe9 cette formation mais ne l'avez pas encore termin\xe9e. ",e.hasAvailableSessions()?'Cliquez sur "Continuer la formation" pour reprendre ou vous vous \xeates arr\xeat\xe9 .':"Attendez une nouvelle session pour repasser le test.","")}}function pt(i,r){1&i&&(t.TgZ(0,"div")(1,"h3",51),t._uU(2,"Pr\xeat \xe0 commencer"),t.qZA(),t.TgZ(3,"div",52)(4,"p"),t._uU(5,'Vous pouvez commencer cette formation d\xe8s maintenant. Cliquez sur le bouton "Commencer la formation" pour acc\xe9der au contenu des modules.'),t.qZA()()())}function ht(i,r){1&i&&(t.TgZ(0,"p"),t._UZ(1,"i",55),t._uU(2," Toutes les sessions de cette formation sont termin\xe9es. Veuillez attendre de nouvelles sessions. "),t.qZA())}function xt(i,r){1&i&&(t.TgZ(0,"p"),t._UZ(1,"i",56),t._uU(2," Les sessions de cette formation n'ont pas encore commenc\xe9. Veuillez revenir ult\xe9rieurement. "),t.qZA())}function _t(i,r){1&i&&(t.TgZ(0,"p"),t._UZ(1,"i",57),t._uU(2," Il n'y a actuellement aucune session disponible pour cette formation. Veuillez v\xe9rifier ult\xe9rieurement. "),t.qZA())}function vt(i,r){if(1&i&&(t.TgZ(0,"div")(1,"h3",53),t._uU(2,"Aucune session disponible"),t.qZA(),t.TgZ(3,"div",54),t.YNc(4,ht,3,0,"p",34),t.YNc(5,xt,3,0,"p",34),t.YNc(6,_t,3,0,"p",34),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.areAllSessionsEnded()),t.xp6(1),t.Q6J("ngIf",e.areAllSessionsNotStarted()),t.xp6(1),t.Q6J("ngIf",!e.areAllSessionsEnded()&&!e.areAllSessionsNotStarted())}}function bt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.goToFinalQuiz())}),t._UZ(1,"i",63),t.TgZ(2,"span"),t._uU(3,"Passer le quiz final"),t.qZA()()}}function Zt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",58)(1,"button",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.startFormation())}),t._UZ(2,"i",60),t.TgZ(3,"span"),t._uU(4),t.qZA()(),t.YNc(5,bt,4,0,"button",61),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.hasAttemptedFormation()?"Continuer la formation":"Commencer la formation"),t.xp6(1),t.Q6J("ngIf",e.canTakeFinalQuiz()&&e.formation&&e.formation.quizId)}}function Tt(i,r){1&i&&(t.TgZ(0,"div",64)(1,"div",65)(2,"div",66),t._UZ(3,"i",67),t.TgZ(4,"div")(5,"p",68),t._uU(6," Aucun Module "),t.qZA(),t.TgZ(7,"p",69),t._uU(8,"Cette formation ne contient aucun module pour le moment. "),t.qZA()()()()())}function yt(i,r){if(1&i&&t._UZ(0,"app-formation-feedbacks",70),2&i){const e=t.oxw(2);t.Q6J("formationId",e.formation.id)("canDelete",!1)}}const qt=function(i,r,e,o){return{"bg-green-50 border-green-200":i,"bg-amber-50 border-amber-200":r,"bg-indigo-50 border-indigo-200":e,"bg-slate-50 border-slate-200":o}},wt=function(i,r,e,o){return{"fas fa-trophy text-green-500":i,"fas fa-hourglass-half text-amber-500":r,"fas fa-graduation-cap text-indigo-500":e,"fas fa-calendar-alt text-slate-500":o}};function At(i,r){if(1&i&&(t.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"span",19),t._uU(5,"Titre: "),t.qZA(),t.TgZ(6,"span",20),t._uU(7),t.qZA()(),t.TgZ(8,"span",21),t._uU(9),t.qZA()(),t.TgZ(10,"div",22)(11,"span",23),t._uU(12,"Description: "),t.qZA(),t.TgZ(13,"p",24),t._uU(14),t.qZA()(),t.TgZ(15,"div")(16,"span",23),t._uU(17,"Contenu: "),t.qZA(),t._UZ(18,"div",25),t.qZA()(),t.TgZ(19,"div",16)(20,"h2",26),t._uU(21,"Modules de Formation"),t.qZA(),t.TgZ(22,"div",27),t.YNc(23,mt,12,13,"div",28),t.qZA(),t.TgZ(24,"div",29)(25,"div",30)(26,"div",31),t._UZ(27,"i",32),t.qZA(),t.TgZ(28,"div",33),t.YNc(29,ft,6,0,"div",34),t.YNc(30,gt,6,1,"div",34),t.YNc(31,pt,6,0,"div",34),t.YNc(32,vt,7,3,"div",34),t.qZA()()(),t.YNc(33,Zt,6,2,"div",35),t.YNc(34,Tt,9,0,"div",36),t.qZA(),t.TgZ(35,"div",16)(36,"h2",26),t._uU(37,"\xc9valuations"),t.qZA(),t.YNc(38,yt,1,2,"app-formation-feedbacks",37),t.qZA()()),2&i){const e=t.oxw();t.xp6(7),t.Oqu(e.formation.title),t.xp6(2),t.hij(" ",e.formation.category," "),t.xp6(5),t.Oqu(e.formation.description),t.xp6(4),t.Q6J("innerHTML",e.formation.content,t.oJD),t.xp6(5),t.Q6J("ngForOf",e.formation.modules),t.xp6(1),t.Q6J("ngClass",t.l5B(14,qt,e.hasPassedFormation(),e.hasAttemptedFormation()&&!e.hasPassedFormation(),!e.hasAttemptedFormation()&&e.hasAvailableSessions(),!e.hasAttemptedFormation()&&!e.hasAvailableSessions())),t.xp6(3),t.Q6J("ngClass",t.l5B(19,wt,e.hasPassedFormation(),e.hasAttemptedFormation()&&!e.hasPassedFormation(),!e.hasAttemptedFormation()&&e.hasAvailableSessions(),!e.hasAttemptedFormation()&&!e.hasAvailableSessions())),t.xp6(2),t.Q6J("ngIf",e.hasPassedFormation()),t.xp6(1),t.Q6J("ngIf",e.hasAttemptedFormation()&&!e.hasPassedFormation()),t.xp6(1),t.Q6J("ngIf",!e.hasAttemptedFormation()&&e.hasAvailableSessions()),t.xp6(1),t.Q6J("ngIf",!e.hasAttemptedFormation()&&!e.hasAvailableSessions()),t.xp6(1),t.Q6J("ngIf",!e.hasPassedFormation()&&e.hasAvailableSessions()),t.xp6(1),t.Q6J("ngIf",e.formation&&e.formation.modules&&0===e.formation.modules.length),t.xp6(4),t.Q6J("ngIf",e.formation)}}let It=(()=>{class i{constructor(e,o,n,s,a){this.condidatService=e,this.route=o,this.router=n,this.attachmentService=s,this.toaster=a,this.loading=!0,this.error=null,this.formation=null,this.countdownText="",this.countdownState="upcoming"}ngOnInit(){const e=Number(this.route.snapshot.paramMap.get("id"));this.loadFormation(e)}loadFormation(e){this.loading=!0,this.condidatService.getFormation(e).subscribe({next:o=>{if(this.formation=o,o.modules&&o.modules.length>0){o.modules.sort((s,a)=>s.position-a.position),o.modules[0].isAccessible=!0;const n=this.getAvailableSession();n&&n.sessionId&&this.condidatService.getFormationProgress(o.id,n.sessionId).subscribe({next:s=>{console.log("Progression r\xe9cup\xe9r\xe9e:",s),this.updateModulesProgress(s)},error:s=>{console.error("Erreur lors de la r\xe9cup\xe9ration de la progression:",s)}})}this.loading=!1,console.log("Formation charg\xe9e:",this.formation),this.initCountdown()},error:o=>{this.error=o?.message||"Failed to load formation.",this.loading=!1}})}getFileIcon(e){return this.attachmentService.getFileIcon(e)}getFileIconColor(e){return this.attachmentService.getFileIconColor(e)}getFileName(e){return this.attachmentService.getFileName(e)}ngOnDestroy(){this.timerSub?.unsubscribe()}formatDuration(e){const o=Math.floor(e/864e5),n=Math.floor(e%864e5/36e5),s=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3),m=[];return o&&m.push(`${o}d`),n&&m.push(`${n}h`),s&&m.push(`${s}m`),m.push(`${a}s`),m.join(" ")}initCountdown(){if(!this.formation?.sessions?.length)return;const e=this.formation.sessions[this.formation.sessions.length-1];this.timerSub=(0,it.F)(1e3).subscribe(()=>{const o=new Date,n=new Date(e.startDate),s=new Date(e.endDate);let a;if(o<n)this.countdownState="upcoming",a=n.getTime()-o.getTime();else{if(!(o>=n&&o<=s))return this.countdownState="finished",this.countdownText="",void this.timerSub?.unsubscribe();this.countdownState="ongoing",a=s.getTime()-o.getTime()}this.countdownText=this.formatDuration(a)})}hasAttemptedFormation(){return!(!this.formation||!this.formation.sessions)&&this.formation.sessions.some(e=>e.hasAttempted)}hasPassedFormation(){return!(!this.formation||!this.formation.sessions)&&(this.formation.sessions.some(n=>n.hasAttempted&&n.score>=70)&&!0===this.formation.finalQuizPassed)}hasAvailableSessions(){if(!this.formation||!this.formation.sessions||0===this.formation.sessions.length||this.hasPassedFormation())return!1;const e=new Date;return this.formation.sessions.some(o=>{if(!o.startDate||!o.endDate)return!1;const n=new Date(o.startDate),s=new Date(o.endDate);return e>=n&&e<=s&&(!0===o.canRepass||!o.hasAttempted||!0===o.hasAttempted&&o.score<70)})}isSessionActive(e){if(!e||!e.startDate||!e.endDate)return!1;const o=new Date,n=new Date(e.startDate),s=new Date(e.endDate);return o>=n&&o<=s}areAllSessionsEnded(){if(!this.formation||!this.formation.sessions||0===this.formation.sessions.length)return!1;const e=new Date;return this.formation.sessions.every(o=>{if(!o.endDate)return!1;const n=new Date(o.endDate);return e>n})}areAllSessionsNotStarted(){if(!this.formation||!this.formation.sessions||0===this.formation.sessions.length)return!1;const e=new Date;return this.formation.sessions.every(o=>{if(!o.startDate)return!1;const n=new Date(o.startDate);return e<n})}startFormation(){if(!this.formation||!this.formation.modules||!this.formation.modules.length)return void this.toaster.showInfo("Cette formation ne contient aucun module.","Information");if(!this.hasAvailableSessions()){const o=this.formation.sessions&&this.formation.sessions.every(s=>{if(!s.endDate)return!1;const a=new Date(s.endDate);return new Date>a}),n=this.formation.sessions&&this.formation.sessions.every(s=>{if(!s.startDate)return!1;const a=new Date(s.startDate);return new Date<a});return void this.toaster.showInfo(o?"Toutes les sessions de cette formation sont termin\xe9es.":n?"Les sessions de cette formation n'ont pas encore commenc\xe9.":"Aucune session disponible pour cette formation.","Information")}const e=this.getAvailableSession();if(e&&e.sessionId)if(this.hasAttemptedFormation())this.condidatService.getFormationProgress(this.formation.id,e.sessionId).subscribe({next:o=>{if(!this.formation||!this.formation.modules||0===this.formation.modules.length)return void this.toaster.showError("Erreur lors de la r\xe9cup\xe9ration des informations de la formation.","Erreur");this.updateModulesProgress(o);let n=this.formation.modules.find(s=>!s.isCompleted);n||(n=[...this.formation.modules].sort((s,a)=>a.position-s.position)[0]),this.router.navigate(["/condidat/module",this.formation.id,n.id,e.sessionId])},error:o=>{if(console.error("Erreur lors de la r\xe9cup\xe9ration de la progression:",o),!this.formation||!this.formation.modules||0===this.formation.modules.length)return void this.toaster.showError("Erreur lors de la r\xe9cup\xe9ration des informations de la formation.","Erreur");const n=[...this.formation.modules].sort((s,a)=>s.position-a.position)[0];this.router.navigate(["/condidat/module",this.formation.id,n.id,e.sessionId])}});else{if(!this.formation||!this.formation.modules||0===this.formation.modules.length)return void this.toaster.showError("Erreur lors de la r\xe9cup\xe9ration des informations de la formation.","Erreur");const o=[...this.formation.modules].sort((n,s)=>n.position-s.position)[0];this.router.navigate(["/condidat/module",this.formation.id,o.id,e.sessionId])}else this.toaster.showInfo("Aucune session disponible pour cette formation.","Information")}canTakeFinalQuiz(){return!(!this.formation||this.hasPassedFormation()||!this.formation.quizId||!this.hasAvailableSessions())}goToFinalQuiz(){if(!this.formation||!this.formation.quizId)return void this.toaster.showInfo("Cette formation n'a pas de quiz final.","Information");const e=this.getAvailableSession();e?!0!==this.formation.finalQuizPassed?this.condidatService.checkFinalQuizEligibility(this.formation.id,e.sessionId).subscribe({next:o=>{o.canTakeQuiz?this.navigateToFinalQuiz(e):this.toaster.showInfo(o.previousAttempt&&o.previousAttempt.passedStatus?"Vous avez d\xe9j\xe0 r\xe9ussi le quiz final de cette formation.":o.previousAttempt?"Vous avez d\xe9j\xe0 tent\xe9 le quiz final. Veuillez r\xe9essayer plus tard.":"Vous devez d'abord r\xe9ussir tous les quiz des modules de la formation.","Information")},error:o=>{this.toaster.showError("Erreur lors de la v\xe9rification de l'\xe9ligibilit\xe9 au quiz final.","Erreur"),console.error("Erreur lors de la v\xe9rification de l'\xe9ligibilit\xe9 au quiz final:",o)}}):this.toaster.showInfo("Vous avez d\xe9j\xe0 r\xe9ussi le quiz final de cette formation.","Information"):this.toaster.showInfo("Aucune session disponible pour passer le quiz final.","Information")}navigateToFinalQuiz(e){if(!this.formation)return;const o={formationId:this.formation.id,type:"final"};e&&e.sessionId&&(o.sessionId=e.sessionId),this.router.navigate(["/condidat/validate-quiz"],{queryParams:o})}updateModulesProgress(e){if(this.formation&&this.formation.modules&&e)for(let o=0;o<this.formation.modules.length;o++){const n=this.formation.modules[o];if(!n.quizId){n.isCompleted=!0,o+1<this.formation.modules.length&&(this.formation.modules[o+1].isAccessible=!0);continue}const s=e.find(a=>a.moduleId===n.id);s&&s.hasPassed?(n.isCompleted=!0,o+1<this.formation.modules.length&&(this.formation.modules[o+1].isAccessible=!0)):s&&s.hasAttempted&&(n.isCompleted=!1,this.formation.canPassFinalWithoutModules&&o+1<this.formation.modules.length&&(this.formation.modules[o+1].isAccessible=!0))}}getAvailableSession(){if(!this.formation||!this.formation.sessions||0===this.formation.sessions.length||this.hasPassedFormation())return null;const e=new Date,o=this.formation.sessions.filter(n=>{if(!n.startDate||!n.endDate)return!1;const s=new Date(n.startDate),a=new Date(n.endDate);return e>=s&&e<=a&&(!0===n.canRepass||!n.hasAttempted||!0===n.hasAttempted&&n.score<70)});return o.sort((n,s)=>n.startDate&&s.startDate?new Date(s.startDate).getTime()-new Date(n.startDate).getTime():0),o.length>0?o[0]:null}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p),t.Y36(u.gz),t.Y36(u.F0),t.Y36(T.L),t.Y36(h.M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-formation-details"]],decls:5,vars:4,consts:[[1,"min-h-screen","bg-gray-50","p-8","relative"],["class","fixed top-6 right-6 text-white p-4 rounded-full shadow-md flex items-center space-x-3 animate-fade-in duration-700",3,"ngClass",4,"ngIf"],["class","flex justify-center items-center h-screen",4,"ngIf"],["class","p-4 max-w-4xl mx-auto",4,"ngIf"],["class","max-w-4xl mx-auto space-y-8",4,"ngIf"],[1,"fixed","top-6","right-6","text-white","p-4","rounded-full","shadow-md","flex","items-center","space-x-3","animate-fade-in","duration-700",3,"ngClass"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","animate-pulse"],["stroke-linecap","round","stroke-linejoin","round","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","font-medium"],[1,"flex","justify-center","items-center","h-screen"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-blue-500"],[1,"p-4","max-w-4xl","mx-auto"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"font-bold"],[1,"block","sm:inline"],[1,"max-w-4xl","mx-auto","space-y-8"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center","gap-2"],[1,"text-gray-500","font-medium","text-lg"],[1,"text-xl","font-extrabold","text-gray-700","inline","uppercase"],[1,"px-4","py-1","bg-blue-100","text-blue-800","rounded-full","text-sm"],[1,"mb-4"],[1,"text-gray-500","font-medium","text-md"],[1,"text-gray-600","text-base","inline"],[1,"prose","max-w-none","inline","text-gray-600","text-base",3,"innerHTML"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"space-y-4","mb-6"],["class","p-4 border rounded-lg flex justify-between items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"p-5","rounded-lg","border",3,"ngClass"],[1,"flex","items-start"],[1,"flex-shrink-0","mt-0.5"],[1,"text-2xl",3,"ngClass"],[1,"ml-4"],[4,"ngIf"],["class","mt-6 flex justify-center space-x-4",4,"ngIf"],["class","flex mt-4",4,"ngIf"],[3,"formationId","canDelete",4,"ngIf"],[1,"p-4","border","rounded-lg","flex","justify-between","items-center",3,"ngClass"],[1,"flex","items-center"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","mr-3",3,"ngClass"],[1,"font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],["class","fas fa-unlock text-green-500",4,"ngIf"],["class","fas fa-lock text-gray-400",4,"ngIf"],[1,"fas","fa-unlock","text-green-500"],[1,"fas","fa-lock","text-gray-400"],[1,"text-lg","font-medium","text-green-800"],[1,"mt-2","text-sm","text-green-700"],[1,"text-lg","font-medium","text-amber-800"],[1,"mt-2","text-sm","text-amber-700"],[1,"text-lg","font-medium","text-indigo-800"],[1,"mt-2","text-sm","text-indigo-700"],[1,"text-lg","font-medium","text-slate-800"],[1,"mt-2","text-sm","text-slate-700"],[1,"fas","fa-calendar-times","mr-1"],[1,"fas","fa-calendar-day","mr-1"],[1,"fas","fa-info-circle","mr-1"],[1,"mt-6","flex","justify-center","space-x-4"],[1,"px-6","py-3","bg-indigo-600","hover:bg-indigo-700","text-white","rounded-lg","font-medium","flex","items-center","transition-colors","shadow-md",3,"click"],[1,"fas","fa-play-circle","mr-2"],["class","px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium flex items-center transition-colors shadow-md",3,"click",4,"ngIf"],[1,"px-6","py-3","bg-green-600","hover:bg-green-700","text-white","rounded-lg","font-medium","flex","items-center","transition-colors","shadow-md",3,"click"],[1,"fas","fa-check-circle","mr-2"],[1,"flex","mt-4"],[1,"w-full","relative","group","border","rounded-lg","p-4","bg-red-50","border-red-200"],[1,"flex","items-center","space-x-3"],[1,"fas","fa-exclamation-circle","text-red-500","text-2xl"],[1,"font-medium","text-gray-700"],[1,"text-sm","text-gray-500"],[3,"formationId","canDelete"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,rt,5,5,"div",1),t.YNc(2,st,2,0,"div",2),t.YNc(3,at,6,1,"div",3),t.YNc(4,At,39,24,"div",4),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf","finished"!==o.countdownState&&!o.loading&&o.formation&&""!==o.countdownText),t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",o.formation&&!o.loading))},dependencies:[l.mk,l.sg,l.O5,ot.e]}),i})();var x=d(848),Ct=d(885),zt=d(1112);function Ut(i,r){1&i&&(t.TgZ(0,"div",5),t._UZ(1,"div",6),t.qZA())}function Ft(i,r){if(1&i&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.error," ")}}function Qt(i,r){1&i&&(t.TgZ(0,"div",10)(1,"p",11),t._uU(2,"You don't have any certifications yet."),t.qZA()())}const Mt=function(i){return[".",i]};function kt(i,r){if(1&i&&(t.TgZ(0,"tr",18)(1,"td",19),t._uU(2),t.qZA(),t.TgZ(3,"td",19),t._uU(4),t.qZA(),t.TgZ(5,"td",19),t._uU(6),t.ALo(7,"date"),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td",19)(10,"span",20),t._uU(11),t.qZA()(),t.TgZ(12,"td",19)(13,"span",21),t._uU(14),t.qZA()(),t.TgZ(15,"td",22)(16,"a",23),t.O4$(),t.TgZ(17,"svg",24),t._UZ(18,"path",25)(19,"path",26),t.qZA()()()()),2&i){const e=r.$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(e.session.formation.title),t.xp6(2),t.Oqu(e.session.title),t.xp6(2),t.AsE(" ",t.xi3(7,9,e.session.startDate,"shortDate")," - ",t.xi3(8,12,e.session.endDate,"shortDate")," "),t.xp6(4),t.Q6J("ngClass",o.getScoreClass(e.score)),t.xp6(1),t.hij(" ",e.score,"% "),t.xp6(2),t.Q6J("ngClass",e.score>=70?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),t.xp6(1),t.hij(" ",o.getPassStatus(e.score)," "),t.xp6(2),t.Q6J("routerLink",t.VKq(15,Mt,e.id))}}function Et(i,r){if(1&i&&(t.TgZ(0,"div",12)(1,"table",13)(2,"thead",14)(3,"tr")(4,"th",15),t._uU(5," Formation"),t.qZA(),t.TgZ(6,"th",15),t._uU(7," Session"),t.qZA(),t.TgZ(8,"th",15),t._uU(9,"Date "),t.qZA(),t.TgZ(10,"th",15),t._uU(11,"Score "),t.qZA(),t.TgZ(12,"th",15),t._uU(13," Status"),t.qZA(),t.TgZ(14,"th",15),t._uU(15," Actions"),t.qZA()()(),t.TgZ(16,"tbody",16),t.YNc(17,kt,20,17,"tr",17),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(17),t.Q6J("ngForOf",e.certifications)}}function Dt(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Qt,3,0,"div",8),t.YNc(2,Et,18,1,"div",9),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.certifications.length),t.xp6(1),t.Q6J("ngIf",e.certifications.length>0)}}let Nt=(()=>{class i{constructor(e){this.certificationService=e,this.certifications=[],this.isLoading=!1,this.error=null}ngOnInit(){this.loadCertifications()}loadCertifications(){this.isLoading=!0,this.error=null,this.certificationService.getUserCertifications().subscribe({next:e=>{this.certifications=e,this.isLoading=!1},error:e=>{this.error="Failed to load certifications. Please try again later.",this.isLoading=!1,console.error("Error loading certifications:",e)}})}getPassStatus(e){return e>=70?"Passed":"Failed"}getScoreClass(e){return e>=90?"text-green-700 bg-green-100":e>=70?"text-green-600 bg-green-50":e>=50?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(zt.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-certification-list"]],decls:6,vars:3,consts:[[1,"p-6"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","flex justify-center items-center py-10",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","py-10"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-blue-500"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-6"],["class","text-center py-8",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-8"],[1,"text-gray-600"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","border","border-gray-200","shadow-md","rounded-lg","overflow-hidden"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4"],[1,"px-2","py-1","rounded-full","text-sm","font-semibold",3,"ngClass"],[1,"px-2","py-1","rounded-full","text-sm",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-blue-500","hover:text-blue-700",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"My Certifications"),t.qZA(),t.YNc(3,Ut,2,0,"div",2),t.YNc(4,Ft,2,1,"div",3),t.YNc(5,Dt,3,2,"div",4),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.error))},dependencies:[l.mk,l.sg,l.O5,u.yS,l.uU]}),i})();var _=d(262),v=d(9646),b=d(8746);function Jt(i,r){1&i&&(t.TgZ(0,"div",4),t._UZ(1,"div",5),t.qZA())}function St(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"strong",8),t._uU(3,"Erreur!"),t.qZA(),t.TgZ(4,"span",9),t._uU(5),t.qZA()(),t.TgZ(6,"div",10)(7,"button",11),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goBack())}),t._uU(8," Retour aux formations "),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Oqu(e.error)}}function Yt(i,r){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" - Module: ",e.moduleTitle,"")}}function jt(i,r){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" - Session: ",e.sessionTitle,"")}}function Vt(i,r){1&i&&(t.ynx(0),t._uU(1," - Test Final"),t.BQk())}function Pt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21),t.O4$(),t.TgZ(4,"svg",22),t._UZ(5,"path",23),t.qZA()(),t.kcU(),t.TgZ(6,"div",24)(7,"p",25),t._uU(8," Vous \xeates \xe9ligible pour passer ce test. "),t.qZA()()()(),t.TgZ(9,"p",26),t._uU(10," Vous \xeates sur le point de commencer le test pour cette session de formation. Veuillez vous assurer que vous \xeates pr\xeat et que vous disposez du temps n\xe9cessaire pour terminer le test. "),t.qZA(),t.TgZ(11,"div",27)(12,"h3",28),t._uU(13,"Informations importantes :"),t.qZA(),t.TgZ(14,"ul",29)(15,"li"),t._uU(16,"Assurez-vous d'avoir une connexion internet stable"),t.qZA(),t.TgZ(17,"li"),t._uU(18,"Ne rafra\xeechissez pas la page pendant le test"),t.qZA(),t.TgZ(19,"li"),t._uU(20,"R\xe9pondez \xe0 toutes les questions avant de soumettre"),t.qZA(),t.TgZ(21,"li"),t._uU(22,"Une fois le test commenc\xe9, vous devez le terminer"),t.qZA()()(),t.TgZ(23,"div",30)(24,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.goBack())}),t._uU(25," Annuler "),t.qZA(),t.TgZ(26,"button",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.startQuiz())}),t.O4$(),t.TgZ(27,"svg",33),t._UZ(28,"path",34),t.qZA(),t._uU(29," Commencer le test "),t.qZA()()()}}function Lt(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1,"(R\xe9ussi)"),t.qZA())}function Ot(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1,"(\xc9chou\xe9)"),t.qZA())}const Rt=function(i,r){return{"text-green-600":i,"text-red-600":r}};function Ht(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",35)(2,"div",20)(3,"div",21),t.O4$(),t.TgZ(4,"svg",36),t._UZ(5,"path",37),t.qZA()(),t.kcU(),t.TgZ(6,"div",24)(7,"p",38),t._uU(8," Vous avez d\xe9j\xe0 pass\xe9 ce test et ne pouvez pas le repasser pour le moment. "),t.qZA()()()(),t.TgZ(9,"div",39)(10,"h3",40),t._uU(11,"R\xe9sultat de votre derni\xe8re tentative :"),t.qZA(),t.TgZ(12,"div",41)(13,"div")(14,"p",42),t._uU(15,"Date de passage :"),t.qZA(),t.TgZ(16,"p",43),t._uU(17),t.qZA()(),t.TgZ(18,"div")(19,"p",42),t._uU(20,"Score obtenu :"),t.qZA(),t.TgZ(21,"p",44),t._uU(22),t.YNc(23,Lt,2,0,"span",16),t.YNc(24,Ot,2,0,"span",16),t.qZA()()()(),t.TgZ(25,"p",26),t._uU(26," Vous devez attendre la prochaine session pour pouvoir repasser ce test. Veuillez contacter votre formateur pour plus d'informations. "),t.qZA(),t.TgZ(27,"div",30)(28,"button",45),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.goBack())}),t._uU(29," Retour aux formations "),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(17),t.Oqu(e.formatDate(e.previousAttempt.createdAt)),t.xp6(4),t.Q6J("ngClass",t.WLB(5,Rt,e.previousAttempt.score>=70,e.previousAttempt.score<70)),t.xp6(1),t.hij(" ",e.previousAttempt.score,"% "),t.xp6(1),t.Q6J("ngIf",e.previousAttempt.score>=70),t.xp6(1),t.Q6J("ngIf",e.previousAttempt.score<70)}}function $t(i,r){if(1&i&&(t.TgZ(0,"div",12)(1,"div",13)(2,"h1",14),t._uU(3,"Validation du Test"),t.qZA(),t.TgZ(4,"p",15),t._uU(5),t.YNc(6,Yt,2,1,"ng-container",16),t.YNc(7,jt,2,1,"ng-container",16),t.YNc(8,Vt,2,0,"ng-container",16),t.qZA()(),t.YNc(9,Pt,30,0,"div",17),t.YNc(10,Ht,30,8,"div",17),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.formationTitle," "),t.xp6(1),t.Q6J("ngIf","module"===e.quizType&&e.moduleTitle),t.xp6(1),t.Q6J("ngIf","session"===e.quizType&&e.sessionTitle),t.xp6(1),t.Q6J("ngIf","final"===e.quizType),t.xp6(1),t.Q6J("ngIf",e.canTakeQuiz),t.xp6(1),t.Q6J("ngIf",!e.canTakeQuiz&&e.previousAttempt)}}let y=(()=>{class i{constructor(e,o,n,s){this.route=e,this.router=o,this.condidatService=n,this.toaster=s,this.sessionId=null,this.formationId=null,this.moduleId=null,this.isLoading=!0,this.error=null,this.canTakeQuiz=!1,this.previousAttempt=null,this.formationTitle="",this.sessionTitle="",this.moduleTitle="",this.quizType="session"}ngOnInit(){const e=this.route.snapshot.paramMap,o=this.route.snapshot.queryParams;if(o.type){if(this.quizType=o.type,"module"===this.quizType){if(this.formationId=Number(o.formationId),this.moduleId=Number(o.moduleId),o.sessionId&&(this.sessionId=Number(o.sessionId)),!this.formationId||!this.moduleId)return this.error="Param\xe8tres invalides pour le quiz de module",void(this.isLoading=!1);this.checkModuleQuizEligibility()}else if("final"===this.quizType){if(this.formationId=Number(o.formationId),o.sessionId&&(this.sessionId=Number(o.sessionId)),!this.formationId)return this.error="Param\xe8tres invalides pour le quiz final",void(this.isLoading=!1);this.checkFinalQuizEligibility()}}else{if(this.sessionId=Number(e.get("sessionId")),!this.sessionId)return this.error="ID de session invalide",void(this.isLoading=!1);this.checkSessionQuizEligibility()}}checkSessionQuizEligibility(){if(this.isLoading=!0,this.error=null,!this.sessionId)return this.error="ID de session invalide",void(this.isLoading=!1);this.condidatService.checkQuizEligibility(this.sessionId).pipe((0,_.K)(e=>(this.error=e?.error?.message||"Erreur lors de la v\xe9rification de l'\xe9ligibilit\xe9 au quiz",(0,v.of)(null))),(0,b.x)(()=>{this.isLoading=!1})).subscribe(e=>{!e||(this.canTakeQuiz=e.canTakeQuiz,this.quizId=e.quizId,this.previousAttempt=e.previousAttempt,this.formationTitle=e.formationTitle||"",this.sessionTitle=e.sessionTitle||"")})}checkModuleQuizEligibility(){if(this.isLoading=!0,this.error=null,!this.formationId||!this.moduleId)return this.error="Param\xe8tres invalides pour le quiz de module",void(this.isLoading=!1);this.condidatService.checkModuleQuizEligibility(this.formationId,this.moduleId,this.sessionId||void 0).pipe((0,_.K)(e=>(this.error=e?.error?.message||"Erreur lors de la v\xe9rification de l'\xe9ligibilit\xe9 au quiz de module",(0,v.of)(null))),(0,b.x)(()=>{this.isLoading=!1})).subscribe(e=>{!e||(this.canTakeQuiz=e.canTakeQuiz,this.quizId=e.quizId,this.previousAttempt=e.previousAttempt,this.formationTitle=e.formationTitle||"",this.moduleTitle=e.moduleTitle||"")})}checkFinalQuizEligibility(){if(this.isLoading=!0,this.error=null,!this.formationId)return this.error="Param\xe8tres invalides pour le quiz final",void(this.isLoading=!1);this.condidatService.checkFinalQuizEligibility(this.formationId,this.sessionId||void 0).pipe((0,_.K)(e=>(this.error=e?.error?.message||"Erreur lors de la v\xe9rification de l'\xe9ligibilit\xe9 au quiz final",(0,v.of)(null))),(0,b.x)(()=>{this.isLoading=!1})).subscribe(e=>{!e||(this.canTakeQuiz=e.canTakeQuiz,this.quizId=e.quizId,this.previousAttempt=e.previousAttempt,this.formationTitle=e.formationTitle||"")})}startQuiz(){if(!this.canTakeQuiz)return void this.toaster.showInfo("Vous ne pouvez pas passer ce test pour le moment.","Information");console.log("D\xe9marrage du quiz avec les param\xe8tres :",{quizType:this.quizType,quizId:this.quizId,formationId:this.formationId,moduleId:this.moduleId,sessionId:this.sessionId});const e={type:this.quizType};if("module"===this.quizType)e.formationId=this.formationId,e.moduleId=this.moduleId,this.sessionId&&(e.sessionId=this.sessionId);else{if("final"!==this.quizType)return void this.router.navigate(["/condidat/quiz",this.quizId,this.sessionId]);e.formationId=this.formationId,this.sessionId&&(e.sessionId=this.sessionId)}this.router.navigate(["/condidat/quiz",this.quizId],{queryParams:e}),console.log("Navigation vers le quiz avec les param\xe8tres :",e)}goBack(){this.router.navigate("module"===this.quizType&&this.formationId&&this.moduleId?this.sessionId?["/condidat/module",this.formationId,this.moduleId,this.sessionId]:["/condidat/module",this.formationId,this.moduleId]:"final"===this.quizType&&this.formationId?["/condidat/formations",this.formationId]:["/condidat/formations"])}formatDate(e){return e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.gz),t.Y36(u.F0),t.Y36(p),t.Y36(h.M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-quiz-validation"]],decls:4,vars:3,consts:[[1,"min-h-screen","bg-gray-50","p-8"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","p-4 max-w-4xl mx-auto",4,"ngIf"],["class","max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-blue-500"],[1,"p-4","max-w-4xl","mx-auto"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"font-bold"],[1,"block","sm:inline"],[1,"mt-4","flex","justify-center"],[1,"px-4","py-2","bg-gray-200","text-gray-700","rounded","hover:bg-gray-300",3,"click"],[1,"max-w-4xl","mx-auto","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"bg-gradient-to-r","from-blue-500","to-indigo-600","px-6","py-4"],[1,"text-2xl","font-bold","text-white"],[1,"text-blue-100"],[4,"ngIf"],["class","p-6",4,"ngIf"],[1,"p-6"],[1,"bg-green-50","border-l-4","border-green-500","p-4","mb-6"],[1,"flex"],[1,"flex-shrink-0"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-green-500"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-green-700"],[1,"text-gray-600","mb-6"],[1,"bg-gray-50","p-4","rounded-lg","mb-6"],[1,"font-medium","text-gray-900","mb-2"],[1,"list-disc","pl-5","text-gray-600","space-y-1"],[1,"flex","justify-end"],[1,"px-4","py-2","bg-gray-200","text-gray-700","rounded","mr-3","hover:bg-gray-300",3,"click"],[1,"px-6","py-2","bg-green-600","text-white","rounded","hover:bg-green-700","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14 5l7 7m0 0l-7 7m7-7H3"],[1,"bg-yellow-50","border-l-4","border-yellow-500","p-4","mb-6"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-yellow-500"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"text-sm","text-yellow-700"],[1,"bg-white","border","border-gray-200","rounded-lg","p-5","mb-6"],[1,"font-medium","text-gray-900","mb-4"],[1,"grid","grid-cols-2","gap-4","text-sm"],[1,"text-gray-500"],[1,"font-medium"],[1,"font-medium",3,"ngClass"],[1,"px-4","py-2","bg-blue-600","text-white","rounded","hover:bg-blue-700",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Jt,2,0,"div",1),t.YNc(2,St,9,1,"div",2),t.YNc(3,$t,11,6,"div",3),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.error))},dependencies:[l.mk,l.O5]}),i})();var Bt=d(727),c=d(4991),Kt=d(4459);function Gt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.markAllAsRead())}),t._uU(1," Tout marquer comme lu "),t.qZA()}}function Wt(i,r){1&i&&(t.TgZ(0,"div",10),t._UZ(1,"div",11),t.qZA())}function Xt(i,r){if(1&i&&(t.TgZ(0,"div",12)(1,"strong",13),t._uU(2,"Erreur!"),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.error)}}function te(i,r){1&i&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"i",17),t.TgZ(3,"h2",18),t._uU(4,"Aucune notification"),t.qZA(),t.TgZ(5,"p",19),t._uU(6,"Vous n'avez pas encore re\xe7u de notifications."),t.qZA()()())}function ee(i,r){1&i&&t._UZ(0,"div",34)}function ie(i,r){1&i&&(t.TgZ(0,"div",35),t._UZ(1,"i",36),t._uU(2," Voir plus "),t.qZA())}function oe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",22),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.handleNotificationClick(s))}),t.TgZ(1,"div",23)(2,"div",24),t._UZ(3,"i",25),t.qZA(),t.TgZ(4,"div",26)(5,"div",27)(6,"h3",28),t._uU(7),t.qZA(),t.YNc(8,ee,1,0,"div",29),t.qZA(),t.TgZ(9,"p",30),t._uU(10),t.qZA(),t.TgZ(11,"div",31)(12,"p",32),t._uU(13),t.qZA(),t.YNc(14,ie,3,0,"div",33),t.qZA()()()()}if(2&i){const e=r.$implicit,o=t.oxw(2);t.Q6J("ngClass",o.getNotificationTypeClass(e.type)),t.xp6(3),t.Q6J("ngClass",o.getNotificationIconClass(e.type)),t.xp6(4),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",!e.received),t.xp6(2),t.Oqu(e.body),t.xp6(3),t.Oqu(o.getTimeAgo(e.date)),t.xp6(1),t.Q6J("ngIf",e.actionUrl)}}function ne(i,r){if(1&i&&(t.TgZ(0,"div",20),t.YNc(1,oe,15,7,"div",21),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.notifications)}}let re=(()=>{class i{constructor(e,o,n){this.notificationService=e,this.toaster=o,this.router=n,this.notifications=[],this.isLoading=!0,this.error=null,this.notificationType=c.k,this.subscription=new Bt.w0}ngOnInit(){this.notificationService.enterNotificationsPage(),this.subscription.add(this.notificationService.notifications$.subscribe({next:e=>{this.notifications=e,this.isLoading=!1},error:e=>{this.error=e?.error?.message||"Erreur lors du chargement des notifications",this.isLoading=!1,this.toaster.showError("Erreur","Impossible de charger les notifications")}}))}ngOnDestroy(){this.notificationService.exitNotificationsPage(),this.subscription.unsubscribe()}markAllAsRead(){this.notificationService.markAllAsRead().subscribe({next:()=>{this.notifications.forEach(e=>{e.received=!0}),this.toaster.showInfo("Toutes les notifications ont \xe9t\xe9 marqu\xe9es comme lues","Succ\xe8s")},error:e=>{this.toaster.showError("Erreur","Impossible de marquer toutes les notifications comme lues")}})}handleNotificationClick(e){e.actionUrl&&this.router.navigateByUrl(e.actionUrl)}getNotificationTypeClass(e){switch(e){case c.k.Success:return"bg-green-50 border-green-500";case c.k.Warning:return"bg-yellow-50 border-yellow-500";case c.k.Danger:return"bg-red-50 border-red-500";default:return"bg-blue-50 border-blue-500"}}getNotificationIconClass(e){switch(e){case c.k.Success:return"text-green-500 fas fa-check-circle";case c.k.Warning:return"text-yellow-500 fas fa-exclamation-triangle";case c.k.Danger:return"text-red-500 fas fa-times-circle";default:return"text-blue-500 fas fa-info-circle"}}getTimeAgo(e){const o=new Date,n=new Date(e),s=Math.floor((o.getTime()-n.getTime())/1e3);if(s<60)return"Il y a quelques secondes";if(s<3600){const a=Math.floor(s/60);return`Il y a ${a} minute${a>1?"s":""}`}if(s<86400){const a=Math.floor(s/3600);return`Il y a ${a} heure${a>1?"s":""}`}{const a=Math.floor(s/86400);return`Il y a ${a} jour${a>1?"s":""}`}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Kt.g),t.Y36(h.M),t.Y36(u.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-notifications"]],decls:10,vars:5,consts:[[1,"min-h-screen","bg-gray-50","p-8"],[1,"max-w-4xl","mx-auto"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800"],["class","px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",3,"click",4,"ngIf"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["class","bg-white rounded-lg shadow-md p-8 text-center",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-blue-500"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"font-bold"],[1,"block","sm:inline"],[1,"bg-white","rounded-lg","shadow-md","p-8","text-center"],[1,"flex","flex-col","items-center"],[1,"fas","fa-bell-slash","text-gray-400","mb-4",2,"font-size","4rem"],[1,"text-xl","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500"],[1,"space-y-4"],["class","rounded-lg shadow-md p-5 transition-all hover:shadow-lg border-l-4 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"rounded-lg","shadow-md","p-5","transition-all","hover:shadow-lg","border-l-4","cursor-pointer",3,"ngClass","click"],[1,"flex"],[1,"flex-shrink-0","mr-4"],[2,"font-size","1.5rem",3,"ngClass"],[1,"flex-1"],[1,"flex","items-center","mb-1"],[1,"font-semibold","text-lg","text-gray-800","!mb-0","flex-1"],["class","ml-2 h-2 w-2 bg-blue-500 rounded-full",4,"ngIf"],[1,"text-gray-600","mb-2"],[1,"flex","justify-between","items-center"],[1,"text-sm","text-gray-500"],["class","text-sm text-blue-600",4,"ngIf"],[1,"ml-2","h-2","w-2","bg-blue-500","rounded-full"],[1,"text-sm","text-blue-600"],[1,"fas","fa-arrow-right","mr-1"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"Mes Notifications"),t.qZA(),t.YNc(5,Gt,2,0,"button",4),t.qZA(),t.YNc(6,Wt,2,0,"div",5),t.YNc(7,Xt,5,1,"div",6),t.YNc(8,te,7,0,"div",7),t.YNc(9,ne,2,1,"div",8),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngIf",o.notifications.length>0),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.error&&0===o.notifications.length),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&!o.error&&o.notifications.length>0))},dependencies:[l.mk,l.sg,l.O5]}),i})();function se(i,r){1&i&&(t.TgZ(0,"div",9),t._UZ(1,"div",10),t.qZA())}function ae(i,r){if(1&i&&(t.TgZ(0,"div",11)(1,"strong",12),t._uU(2,"Erreur!"),t.qZA(),t.TgZ(3,"span",13),t._uU(4),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.error)}}function le(i,r){if(1&i&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.formation.title)}}function de(i,r){if(1&i&&(t.TgZ(0,"div",35),t._UZ(1,"i",36),t.TgZ(2,"span"),t._uU(3),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("Session: ",e.currentSession.sessionTitle,"")}}function ue(i,r){if(1&i&&(t.TgZ(0,"a",39)(1,"div",40),t._UZ(2,"img",41),t.TgZ(3,"div")(4,"p",42),t._uU(5),t.qZA(),t.TgZ(6,"p",43),t._uU(7),t.qZA()()()()),2&i){const e=r.$implicit,o=t.oxw(3);t.Q6J("href",e.lien,t.LSH),t.xp6(2),t.Q6J("src",o.getFileIcon(e.type),t.LSH),t.xp6(3),t.hij(" ",o.getFileName(e.lien)," "),t.xp6(1),t.Q6J("ngClass",o.getFileIconColor(e.type)),t.xp6(1),t.hij(" ",e.type," ")}}function ce(i,r){if(1&i&&(t.TgZ(0,"div",37),t.YNc(1,ue,8,5,"a",38),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.currentModule.attachments)}}function me(i,r){1&i&&(t.TgZ(0,"div",44),t._UZ(1,"img",45),t.TgZ(2,"p",46),t._uU(3,"Aucune ressource disponible pour ce module"),t.qZA()())}function fe(i,r){1&i&&(t.TgZ(0,"div",44),t._UZ(1,"div",49),t.TgZ(2,"p",46),t._uU(3,"Chargement des informations du quiz..."),t.qZA()())}function ge(i,r){if(1&i&&(t.TgZ(0,"div",50)(1,"div",51),t._UZ(2,"i",52),t.TgZ(3,"p",53),t._uU(4),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(4),t.Oqu(e.quizError)}}function pe(i,r){1&i&&t._UZ(0,"i",64)}function he(i,r){1&i&&t._UZ(0,"i",65)}function xe(i,r){if(1&i&&(t.TgZ(0,"span",74),t._uU(1),t.qZA()),2&i){const e=t.oxw(6);t.xp6(1),t.AsE(" Tentatives: ",(null==e.quizResults?null:e.quizResults.attemptCount)||0," / ",e.currentModule.maxAttempts," ")}}function _e(i,r){1&i&&(t.TgZ(0,"span",74),t._uU(1," Tentatives illimit\xe9es "),t.qZA())}function ve(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"p",69),t._UZ(2,"i",70),t._uU(3," Vous pouvez repasser ce quiz en cliquant sur le bouton ci-dessous. "),t.YNc(4,xe,2,2,"span",71),t.YNc(5,_e,2,0,"span",71),t.qZA(),t.TgZ(6,"button",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(5);return t.KtG(n.goToModuleQuiz())}),t._UZ(7,"i",73),t._uU(8," Repasser le quiz "),t.qZA()()}if(2&i){const e=t.oxw(5);t.xp6(4),t.Q6J("ngIf",e.currentModule&&e.currentModule.maxAttempts>0),t.xp6(1),t.Q6J("ngIf",e.currentModule&&0===e.currentModule.maxAttempts)}}function be(i,r){if(1&i&&(t.TgZ(0,"p",75),t._UZ(1,"i",76),t._uU(2),t.qZA()),2&i){const e=t.oxw(5);t.xp6(2),t.hij(" Vous avez atteint le nombre maximum de tentatives pour ce quiz (",e.currentModule&&e.currentModule.maxAttempts,"). ")}}function Ze(i,r){if(1&i&&(t.TgZ(0,"div",66),t.YNc(1,ve,9,2,"div",67),t.YNc(2,be,3,1,"ng-template",null,68,t.W1O),t.qZA()),2&i){const e=t.MAs(3),o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",o.canRetakeQuiz())("ngIfElse",e)}}function Te(i,r){if(1&i&&(t.TgZ(0,"div",54)(1,"div",55)(2,"div",56),t.YNc(3,pe,1,0,"i",57),t.YNc(4,he,1,0,"i",58),t.qZA(),t.TgZ(5,"div",59)(6,"h3",60),t._uU(7),t.qZA(),t.TgZ(8,"div",61)(9,"p",25)(10,"span",62),t._uU(11,"Score :"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"p",25)(14,"span",62),t._uU(15,"Date :"),t.qZA(),t._uU(16),t.ALo(17,"date"),t.qZA(),t.YNc(18,Ze,4,2,"div",63),t.qZA()()()()),2&i){const e=t.oxw(3);t.xp6(3),t.Q6J("ngIf",e.hasPassedModuleQuiz()),t.xp6(1),t.Q6J("ngIf",!e.hasPassedModuleQuiz()),t.xp6(2),t.Q6J("ngClass",e.hasPassedModuleQuiz()?"text-green-800":"text-red-800"),t.xp6(1),t.hij(" ",e.hasPassedModuleQuiz()?"Quiz r\xe9ussi":"Quiz \xe9chou\xe9"," "),t.xp6(5),t.hij(" ",e.quizResults.score,"% "),t.xp6(4),t.hij(" ",t.xi3(17,7,e.quizResults.attemptDate,"dd/MM/yyyy HH:mm")," "),t.xp6(2),t.Q6J("ngIf",!e.hasPassedModuleQuiz())}}function ye(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",54)(1,"div",55),t._UZ(2,"i",77),t.TgZ(3,"div",59)(4,"h3",78),t._uU(5,"Quiz \xe0 compl\xe9ter"),t.qZA(),t.TgZ(6,"p",79),t._uU(7," Pour passer au module suivant, vous devez compl\xe9ter le quiz de ce module. "),t.qZA(),t.TgZ(8,"p",80),t._UZ(9,"i",70),t._uU(10," Cliquez sur le bouton ci-dessous pour commencer le quiz. "),t.qZA(),t.TgZ(11,"div",66)(12,"button",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.goToModuleQuiz())}),t._UZ(13,"i",81),t._uU(14," Commencer le quiz "),t.qZA()()()()()}}function qe(i,r){if(1&i&&(t.TgZ(0,"div",23)(1,"h2",24),t._uU(2,"Quiz du module"),t.qZA(),t.YNc(3,fe,4,0,"div",27),t.YNc(4,ge,5,1,"div",47),t.YNc(5,Te,19,10,"div",48),t.YNc(6,ye,15,0,"div",48),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.loadingQuiz),t.xp6(1),t.Q6J("ngIf",e.quizError),t.xp6(1),t.Q6J("ngIf",e.hasAttemptedModuleQuiz()&&!e.loadingQuiz),t.xp6(1),t.Q6J("ngIf",!e.hasAttemptedModuleQuiz()&&!e.loadingQuiz&&e.moduleQuiz)}}function we(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"h1",17),t._uU(4),t.qZA(),t.TgZ(5,"div",18),t._uU(6),t.qZA()(),t.TgZ(7,"div",19),t.YNc(8,le,2,1,"p",20),t.YNc(9,de,4,1,"div",21),t.qZA()(),t.TgZ(10,"div",22)(11,"div",23)(12,"h2",24),t._uU(13,"Description"),t.qZA(),t.TgZ(14,"p",25),t._uU(15),t.qZA()(),t.TgZ(16,"div",23)(17,"h2",24),t._uU(18,"Ressources"),t.qZA(),t.YNc(19,ce,2,1,"div",26),t.YNc(20,me,4,0,"div",27),t.qZA(),t.YNc(21,qe,7,4,"div",28),t.TgZ(22,"div",29)(23,"button",30),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goBackToFormation())}),t._UZ(24,"i",31),t.TgZ(25,"span"),t._uU(26,"Retour \xe0 la formation"),t.qZA()(),t.TgZ(27,"button",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.completeAndContinue())}),t.TgZ(28,"span"),t._uU(29),t.qZA(),t._UZ(30,"i",33),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.currentModule.title),t.xp6(2),t.AsE(" Module ",e.currentModule.position," / ",(null==e.formation||null==e.formation.modules?null:e.formation.modules.length)||0," "),t.xp6(2),t.Q6J("ngIf",e.formation),t.xp6(1),t.Q6J("ngIf",e.currentSession),t.xp6(6),t.Oqu(e.currentModule.description),t.xp6(4),t.Q6J("ngIf",e.currentModule.attachments&&e.currentModule.attachments.length>0),t.xp6(1),t.Q6J("ngIf",!e.currentModule.attachments||0===e.currentModule.attachments.length),t.xp6(1),t.Q6J("ngIf",e.currentModule.quizId),t.xp6(8),t.Oqu(e.getContinueButtonText())}}let q=(()=>{class i{constructor(e,o,n,s,a){this.route=e,this.router=o,this.condidatService=n,this.toaster=s,this.attachmentService=a,this.formationId=0,this.moduleId=0,this.sessionId=null,this.loading=!0,this.error=null,this.formation=null,this.currentModule=null,this.nextModuleId=null,this.isLastModule=!1,this.currentSession=null,this.moduleQuiz=null,this.quizResults=null,this.loadingQuiz=!1,this.quizError=null,this.canTakeQuiz=!1}ngOnInit(){this.route.params.subscribe(e=>{this.formationId=+e.formationId,this.moduleId=+e.moduleId,e.sessionId&&(this.sessionId=+e.sessionId),this.loadFormation()})}loadFormation(){this.loading=!0,this.error=null,this.condidatService.getFormation(this.formationId).subscribe({next:e=>{if(this.formation=e,e.modules&&e.modules.sort((n,s)=>n.position-s.position),this.currentModule=e.modules.find(n=>n.id===this.moduleId)||null,!this.currentModule)return this.error="Module non trouv\xe9",void(this.loading=!1);this.sessionId&&e.sessions&&(this.currentSession=e.sessions.find(n=>n.sessionId===this.sessionId),this.currentSession||this.toaster.showInfo("Session non trouv\xe9e. Vous \xeates en mode consultation.","Attention"));const o=e.modules.findIndex(n=>n.id===this.moduleId);-1!==o&&o<e.modules.length-1?this.nextModuleId=e.modules[o+1].id:this.isLastModule=!0,this.loading=!1,this.loadModuleQuiz()},error:e=>{this.error=e?.message||"Erreur lors du chargement de la formation",this.loading=!1}})}loadModuleQuiz(){!this.currentModule||!this.currentModule.quizId||(this.loadingQuiz=!0,this.quizError=null,this.loadQuizResults(),this.checkQuizEligibility())}loadQuizResults(){!this.currentModule||this.condidatService.getModuleQuizResults(this.formationId,this.moduleId,this.sessionId||void 0).subscribe({next:e=>{this.quizResults=e,console.log("R\xe9sultats du quiz:",e)},error:e=>{console.log("Pas de r\xe9sultats de quiz disponibles:",e)}})}checkQuizEligibility(){!this.currentModule||!this.currentModule.quizId||this.condidatService.checkModuleQuizEligibility(this.formationId,this.moduleId,this.sessionId||void 0).subscribe({next:e=>{this.canTakeQuiz=e.canTakeQuiz,this.moduleQuiz={id:e.quizId,title:e.moduleTitle,previousAttempt:e.previousAttempt},this.loadingQuiz=!1},error:e=>{this.quizError=e?.message||"Erreur lors de la v\xe9rification de l'\xe9ligibilit\xe9 au quiz",this.loadingQuiz=!1}})}completeAndContinue(){if(this.formation&&this.currentModule){if(this.currentModule.quizId)if(this.hasAttemptedModuleQuiz()&&!this.hasPassedModuleQuiz()){if(this.canRetakeQuiz())return void this.goToModuleQuiz();if(this.toaster.showInfo("Vous avez atteint le nombre maximum de tentatives pour ce quiz.","Information"),!this.formation.canPassFinalWithoutModules)return;this.currentModule.isCompleted=!0}else if(!this.hasAttemptedModuleQuiz()&&this.canTakeQuiz)return void this.goToModuleQuiz();if(this.currentModule.isCompleted=!0,this.isLastModule)return this.toaster.showInfo("Vous avez termin\xe9 tous les modules. Vous allez \xeatre redirig\xe9 vers le quiz final.","F\xe9licitations"),void setTimeout(()=>{this.goToFinalQuiz()},2e3);this.nextModuleId&&this.goToNextModule()}}goToModuleQuiz(){if(!this.currentModule||!this.currentModule.quizId)return;if(!this.currentModule.quizId)return void this.toaster.showInfo("Ce module n'a pas de quiz associ\xe9.","Information");const e={formationId:this.formationId,moduleId:this.moduleId,type:"module"};this.sessionId&&(e.sessionId=this.sessionId),this.router.navigate(["/condidat/validate-quiz"],{queryParams:e}),console.log("Navigation vers le quiz du module avec les param\xe8tres :",e)}goToNextModule(){!this.nextModuleId||this.router.navigate(this.sessionId?["/condidat/module",this.formationId,this.nextModuleId,this.sessionId]:["/condidat/module",this.formationId,this.nextModuleId])}goToFinalQuiz(){if(this.formation){if(!this.formation.quizId)return void this.toaster.showInfo("Cette formation n'a pas de quiz final.","Information");if(!0===this.formation.finalQuizPassed)return void this.toaster.showInfo("Vous avez d\xe9j\xe0 r\xe9ussi le quiz final de cette formation.","Information");this.condidatService.checkFinalQuizEligibility(this.formationId,this.sessionId||void 0).subscribe({next:e=>{e.canTakeQuiz?this.navigateToFinalQuiz():this.toaster.showInfo(e.previousAttempt&&e.previousAttempt.passedStatus?"Vous avez d\xe9j\xe0 r\xe9ussi le quiz final de cette formation.":e.previousAttempt?"Vous avez d\xe9j\xe0 tent\xe9 le quiz final. Veuillez r\xe9essayer plus tard.":"Vous devez d'abord r\xe9ussir tous les quiz des modules de la formation.","Information")},error:e=>{this.toaster.showError("Erreur lors de la v\xe9rification de l'\xe9ligibilit\xe9 au quiz final.","Erreur"),console.error("Erreur lors de la v\xe9rification de l'\xe9ligibilit\xe9 au quiz final:",e)}})}}navigateToFinalQuiz(){const e={formationId:this.formationId,type:"final"};this.sessionId&&(e.sessionId=this.sessionId),this.router.navigate(["/condidat/validate-quiz"],{queryParams:e})}hasPassedModuleQuiz(){return!!(this.quizResults&&this.currentModule&&this.currentModule.quizId&&this.quizResults.quizId===this.currentModule.quizId)&&!0===this.quizResults.hasPassed}hasAttemptedModuleQuiz(){return!!(this.quizResults&&this.currentModule&&this.currentModule.quizId&&this.quizResults.quizId===this.currentModule.quizId)&&!0===this.quizResults.hasAttempted}canRetakeQuiz(){return!this.quizResults||!this.currentModule||!this.hasPassedModuleQuiz()&&(0===this.currentModule.maxAttempts||(this.quizResults.attemptCount||0)<this.currentModule.maxAttempts)}getContinueButtonText(){return this.currentModule?.quizId&&this.canTakeQuiz?"Passer le quiz du module":this.isLastModule?"Terminer et passer au quiz final":"Module suivant"}goBackToFormation(){this.router.navigate(["/condidat/formations",this.formationId])}getFileIcon(e){return this.attachmentService.getFileIcon(e)}getFileIconColor(e){return this.attachmentService.getFileIconColor(e)}getFileName(e){return e.split("/").pop()||e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.gz),t.Y36(u.F0),t.Y36(p),t.Y36(h.M),t.Y36(T.L))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-module-view"]],decls:15,vars:5,consts:[[1,"container","mx-auto","px-4","py-8","max-w-5xl"],[1,"flex","items-center","text-sm","text-gray-600","mb-6"],[1,"hover:text-blue-600","cursor-pointer",3,"click"],[1,"mx-2"],[1,"text-gray-800","font-medium"],[1,"text-blue-600","font-medium"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6","role","alert",4,"ngIf"],["class","bg-white rounded-lg shadow-md overflow-hidden",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-blue-500"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-6"],[1,"font-bold"],[1,"block","sm:inline"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"bg-gradient-to-r","from-blue-500","to-indigo-600","px-6","py-4"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-white"],[1,"bg-white","bg-opacity-20","px-3","py-1","rounded-full","text-white","text-sm"],[1,"flex","justify-between","items-center","mt-2"],["class","text-blue-100",4,"ngIf"],["class","bg-green-400 bg-opacity-30 px-3 py-1 rounded-full text-white text-xs flex items-center",4,"ngIf"],[1,"p-6"],[1,"mb-8"],[1,"text-xl","font-semibold","text-gray-800","mb-3"],[1,"text-gray-700"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",4,"ngIf"],["class","bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",4,"ngIf"],["class","mb-8",4,"ngIf"],[1,"flex","justify-between","mt-8"],[1,"px-4","py-2","bg-gray-200","hover:bg-gray-300","text-gray-700","rounded-lg","text-sm","font-medium","flex","items-center","transition-colors",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"px-6","py-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","text-sm","font-medium","flex","items-center","transition-colors",3,"click"],[1,"fas","fa-arrow-right","ml-2"],[1,"text-blue-100"],[1,"bg-green-400","bg-opacity-30","px-3","py-1","rounded-full","text-white","text-xs","flex","items-center"],[1,"fas","fa-calendar-alt","mr-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["target","_blank","class","group border rounded-lg p-4 bg-gray-50 hover:bg-blue-50 hover:border-blue-300 transition-colors",3,"href",4,"ngFor","ngForOf"],["target","_blank",1,"group","border","rounded-lg","p-4","bg-gray-50","hover:bg-blue-50","hover:border-blue-300","transition-colors",3,"href"],[1,"flex","items-center","space-x-3"],["alt","File Icon",1,"w-12","h-12",3,"src"],[1,"font-medium","text-gray-700","group-hover:text-blue-600","truncate"],[1,"text-sm",3,"ngClass"],[1,"bg-gray-50","border","border-gray-200","rounded-lg","p-6","text-center"],["src","/assets/icons/nofile.svg","alt","No Files",1,"w-16","h-16","mx-auto","mb-3"],[1,"text-gray-600"],["class","bg-red-50 border border-red-200 rounded-lg p-6",4,"ngIf"],["class","bg-blue-50 border border-blue-200 rounded-lg p-6",4,"ngIf"],[1,"animate-spin","rounded-full","h-8","w-8","border-t-2","border-b-2","border-blue-500","mx-auto","mb-3"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6"],[1,"flex","items-center"],[1,"fas","fa-exclamation-circle","text-red-500","text-xl","mr-3"],[1,"text-red-700"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-6"],[1,"flex","items-start"],[1,"flex-shrink-0"],["class","fas fa-check-circle text-green-500 text-2xl",4,"ngIf"],["class","fas fa-times-circle text-red-500 text-2xl",4,"ngIf"],[1,"ml-4"],[1,"font-medium","text-lg",3,"ngClass"],[1,"mt-2"],[1,"font-medium"],["class","mt-3",4,"ngIf"],[1,"fas","fa-check-circle","text-green-500","text-2xl"],[1,"fas","fa-times-circle","text-red-500","text-2xl"],[1,"mt-3"],[4,"ngIf","ngIfElse"],["maxAttemptsReached",""],[1,"text-blue-700","mb-2"],[1,"fas","fa-info-circle","mr-1"],["class","block mt-1 text-sm",4,"ngIf"],[1,"px-4","py-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","text-sm","font-medium","flex","items-center","transition-colors",3,"click"],[1,"fas","fa-redo","mr-2"],[1,"block","mt-1","text-sm"],[1,"text-red-600","mb-2"],[1,"fas","fa-exclamation-circle","mr-1"],[1,"fas","fa-question-circle","text-blue-500","text-2xl"],[1,"font-medium","text-lg","text-blue-800"],[1,"mt-2","text-gray-700"],[1,"mt-1","text-blue-700"],[1,"fas","fa-play","mr-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return o.goBackToFormation()}),t._uU(3,"Formations"),t.qZA(),t.TgZ(4,"span",3),t._uU(5,"/"),t.qZA(),t.TgZ(6,"span",4),t._uU(7),t.qZA(),t.TgZ(8,"span",3),t._uU(9,"/"),t.qZA(),t.TgZ(10,"span",5),t._uU(11),t.qZA()(),t.YNc(12,se,2,0,"div",6),t.YNc(13,ae,5,1,"div",7),t.YNc(14,we,31,10,"div",8),t.qZA()),2&e&&(t.xp6(7),t.Oqu(null==o.formation?null:o.formation.title),t.xp6(4),t.hij("Module ",null==o.currentModule?null:o.currentModule.position,""),t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",!o.loading&&!o.error&&o.currentModule))},dependencies:[l.mk,l.sg,l.O5,l.uU]}),i})();var Ae=d(7814);const Ie=[{path:"",component:N},{path:"formations",component:et},{path:"formations/:id",component:It},{path:"formations/:formationId/finaltest/:quizId",component:x.O},{path:"validate-quiz/:sessionId",component:y},{path:"validate-quiz",component:y},{path:"quiz/:quizId/:sessionId",component:x.O},{path:"quiz/:quizId",component:x.O},{path:"module/:formationId/:moduleId",component:q},{path:"module/:formationId/:moduleId/:sessionId",component:q},{path:"certification",component:Nt},{path:"certification/:id",component:Ct.L},{path:"notifications",component:re},{path:"settings",component:Ae.f}];let Ce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.Bz.forChild(Ie),u.Bz]}),i})();var ze=d(6191);let Ue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.ez,Ce,f.u5,ze.m]}),i})()}}]);