"use strict";(self.webpackChunkformationApp=self.webpackChunkformationApp||[]).push([[174],{174:(vi,it,f)=>{f.r(it),f.d(it,{AdminModule:()=>_i});var g=f(6895),Z=f(1174),t=f(1571);let Et=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"home works!"),t.qZA())}}),n})();var c=f(433);let St=(()=>{class n{constructor(){this.edit=new t.vpe,this.delete=new t.vpe,this.addSession=new t.vpe}ngOnInit(){}getCategoryColor(e){switch(e){case"technical":return"bg-blue-100 text-blue-800";case"safety":return"bg-red-100 text-red-800";case"quality":return"bg-green-100 text-green-800";case"management":return"bg-purple-100 text-purple-800";case"communication":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}getCategoryLabel(e){switch(e){case"technical":return"Technique";case"safety":return"S\xe9curit\xe9";case"quality":return"Qualit\xe9";case"management":return"Management";case"communication":return"Communication";default:return e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-training-card"]],inputs:{training:"training"},outputs:{edit:"edit",delete:"delete",addSession:"addSession"},decls:32,vars:7,consts:[[1,"bg-white","rounded-lg","shadow-md","overflow-hidden","border","border-gray-200","hover:shadow-lg","transition-shadow"],[1,"p-4"],[1,"flex","justify-between","items-start","mb-3"],[1,"font-semibold","text-gray-800","text-lg"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"text-gray-600","text-sm","mb-4","line-clamp-2"],[1,"grid","grid-cols-2","gap-2","mb-3"],[1,"flex","items-center","text-gray-600","text-sm"],[1,"fa-solid","fa-clock","w-4","h-4","mr-2","text-gray-400"],[1,"fa-solid","fa-calendar","text-gray-300","mr-2"],[1,"fa-solid","fa-users","mr-2","text-gray-400"],[1,"px-4","py-3","bg-gray-50","border-t","border-gray-200","flex","justify-between"],[1,"text-primary","text-sm","font-medium","flex","items-center","hover:text-primary-dark",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],[1,"flex","space-x-2"],[1,"text-gray-600","hover:text-gray-900",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["d","M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"],["fill-rule","evenodd","d","M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule","evenodd"],[1,"text-gray-600","hover:text-red-600",3,"click"],["fill-rule","evenodd","d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule","evenodd"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.qZA(),t.TgZ(5,"span",4),t._uU(6),t.qZA()(),t.TgZ(7,"p",5),t._uU(8),t.qZA(),t.TgZ(9,"div",6)(10,"div",7),t._UZ(11,"i",8),t._uU(12),t.qZA(),t.TgZ(13,"div",7),t._UZ(14,"i",9),t._uU(15),t.qZA(),t.TgZ(16,"div",7),t._UZ(17,"i",10),t._uU(18),t.qZA()()(),t.TgZ(19,"div",11)(20,"button",12),t.NdJ("click",function(){return o.addSession.emit(o.training.id)}),t.O4$(),t.TgZ(21,"svg",13),t._UZ(22,"path",14),t.qZA(),t._uU(23," Session "),t.qZA(),t.kcU(),t.TgZ(24,"div",15)(25,"button",16),t.NdJ("click",function(){return o.edit.emit(o.training.id)}),t.O4$(),t.TgZ(26,"svg",17),t._UZ(27,"path",18)(28,"path",19),t.qZA()(),t.kcU(),t.TgZ(29,"button",20),t.NdJ("click",function(){return o.delete.emit(o.training.id)}),t.O4$(),t.TgZ(30,"svg",17),t._UZ(31,"path",21),t.qZA()()()()()),2&e&&(t.xp6(4),t.Oqu(o.training.title),t.xp6(1),t.Q6J("ngClass",o.getCategoryColor(o.training.category)),t.xp6(1),t.hij(" ",o.getCategoryLabel(o.training.category)," "),t.xp6(2),t.hij(" ",o.training.description," "),t.xp6(4),t.hij(" ",o.training.duration," heures "),t.xp6(3),t.hij(" ",o.training.sessions," sessions "),t.xp6(3),t.hij(" ",o.training.participants," participants "))},dependencies:[g.mk]}),n})();function Rt(n,i){if(1&n&&(t.TgZ(0,"div",8)(1,"h2",9),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.currentTraining?"Modifier la formation":"Nouvelle formation"," ")}}function Zt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",29)(1,"app-training-card",30),t.NdJ("edit",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.handleEditTraining(r))})("delete",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.handleDeleteTraining(r))})("addSession",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.handleAddSession(r))}),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("training",e)}}function Ft(n,i){1&n&&(t.TgZ(0,"div",31)(1,"p",32),t._uU(2,"Aucune formation ne correspond \xe0 votre recherche."),t.qZA()())}function It(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),t.O4$(),t.TgZ(4,"svg",14),t._UZ(5,"path",15),t.qZA()(),t.kcU(),t.TgZ(6,"input",16),t.NdJ("ngModelChange",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.searchTerm=r)})("input",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.onSearch(r))}),t.qZA()(),t.TgZ(7,"div",17)(8,"div",13),t.O4$(),t.TgZ(9,"svg",14),t._UZ(10,"path",18),t.qZA()(),t.kcU(),t.TgZ(11,"select",19),t.NdJ("ngModelChange",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.filterCategory=r)})("change",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.onFilterCategory(r))}),t.TgZ(12,"option",20),t._uU(13,"Toutes les cat\xe9gories"),t.qZA(),t.TgZ(14,"option",21),t._uU(15,"Technique"),t.qZA(),t.TgZ(16,"option",22),t._uU(17,"S\xe9curit\xe9"),t.qZA(),t.TgZ(18,"option",23),t._uU(19,"Qualit\xe9"),t.qZA(),t.TgZ(20,"option",24),t._uU(21,"Management"),t.qZA(),t.TgZ(22,"option",25),t._uU(23,"Communication"),t.qZA()()()(),t.TgZ(24,"div",26),t.YNc(25,Zt,2,1,"div",27),t.qZA(),t.YNc(26,Ft,3,0,"div",28),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.searchTerm),t.xp6(5),t.Q6J("ngModel",e.filterCategory),t.xp6(14),t.Q6J("ngForOf",e.filteredTrainings),t.xp6(1),t.Q6J("ngIf",0===e.filteredTrainings.length)}}let Lt=(()=>{class n{constructor(){this.trainings=[{id:1,title:"Formation \xe0 la s\xe9curit\xe9 en atelier",description:"Formation obligatoire sur les r\xe8gles de s\xe9curit\xe9 \xe0 respecter en atelier. Couvre les \xe9quipements de protection, les proc\xe9dures d'urgence et les bonnes pratiques.",category:"safety",duration:4,sessions:12,participants:78},{id:2,title:"Maintenance de premier niveau",description:"Comment effectuer l'entretien de base des machines et \xe9quipements pour pr\xe9venir les pannes et optimiser leur dur\xe9e de vie.",category:"technical",duration:8,sessions:6,participants:42},{id:3,title:"Leadership et gestion d'\xe9quipe",description:"Techniques de management pour les chefs d'\xe9quipe. Communication efficace, r\xe9solution de conflits et motivation des \xe9quipes.",category:"management",duration:16,sessions:3,participants:24},{id:4,title:"Contr\xf4le qualit\xe9",description:"Formation aux proc\xe9dures de contr\xf4le qualit\xe9, aux normes ISO 9001 et aux techniques d'am\xe9lioration continue.",category:"quality",duration:12,sessions:5,participants:35},{id:5,title:"Communication efficace",description:"Am\xe9liorer la communication au sein des \xe9quipes et avec les autres d\xe9partements. Techniques de communication \xe9crite et orale.",category:"communication",duration:6,sessions:4,participants:30},{id:6,title:"Utilisation des machines CNC",description:"Formation technique \xe0 l'utilisation et \xe0 la programmation des machines \xe0 commande num\xe9rique.",category:"technical",duration:24,sessions:2,participants:16}],this.searchTerm="",this.isFormOpen=!1,this.currentTraining=null,this.filterCategory=""}get filteredTrainings(){return this.trainings.filter(e=>e.title.toLowerCase().includes(this.searchTerm.toLowerCase())&&(""===this.filterCategory||e.category===this.filterCategory))}onSearch(e){this.searchTerm=e.target.value}onFilterCategory(e){this.filterCategory=e.target.value}openForm(e=null){this.currentTraining=e,this.isFormOpen=!0}closeForm(){this.isFormOpen=!1,this.currentTraining=null}handleFormSubmit(e){if(this.currentTraining)this.trainings=this.trainings.map(o=>o.id===this.currentTraining.id?{...o,...e}:o);else{const o={id:this.trainings.length+1,...e,sessions:0,participants:0};this.trainings=[...this.trainings,o]}this.closeForm()}handleEditTraining(e){const o=this.trainings.find(r=>r.id===e);o&&this.openForm(o)}handleDeleteTraining(e){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette formation ?")&&(this.trainings=this.trainings.filter(o=>o.id!==e))}handleAddSession(e){alert(`Ajouter une session pour la formation avec l'ID: ${e}`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-training"]],decls:11,vars:3,consts:[[1,"animate-fade-in","container","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"px-4","py-2","bg-primary","text-white","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-primary-dark","flex","items-center","space-x-2","transition-colors",3,"routerLink"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],["class","mb-8",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"mb-8"],[1,"text-2xl","font-semibold","mb-4"],[1,"space-y-6"],[1,"flex","flex-col","md:flex-row","space-y-3","md:space-y-0","md:space-x-4"],[1,"relative","flex-grow"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["type","text","placeholder","Rechercher une formation...",1,"pl-10","w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent",3,"ngModel","ngModelChange","input"],[1,"relative"],["fill-rule","evenodd","d","M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3.586L3.293 6.707A1 1 0 013 6V3z","clip-rule","evenodd"],[1,"pl-10","w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent",3,"ngModel","ngModelChange","change"],["value",""],["value","technical"],["value","safety"],["value","quality"],["value","management"],["value","communication"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","col-span-1",4,"ngFor","ngForOf"],["class","text-center py-10",4,"ngIf"],[1,"col-span-1"],[3,"training","edit","delete","addSession"],[1,"text-center","py-10"],[1,"text-gray-500","text-lg"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Gestion des formations"),t.qZA(),t.TgZ(4,"button",3),t.O4$(),t.TgZ(5,"svg",4),t._UZ(6,"path",5),t.qZA(),t.kcU(),t.TgZ(7,"span"),t._uU(8,"Nouvelle formation"),t.qZA()()(),t.YNc(9,Rt,3,1,"div",6),t.YNc(10,It,27,4,"div",7),t.qZA()),2&e&&(t.xp6(4),t.Q6J("routerLink","create"),t.xp6(5),t.Q6J("ngIf",o.isFormOpen),t.xp6(1),t.Q6J("ngIf",!o.isFormOpen))},dependencies:[g.sg,g.O5,Z.rH,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,St],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.primary[_ngcontent-%COMP%]{background-color:#4a90e2}.primary-dark[_ngcontent-%COMP%]{background-color:#357abd}.form-input[_ngcontent-%COMP%]{width:100%;border-radius:var(--radius);border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.75rem}.form-input[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: hsl(var(--primary))}"]}),n})();var w=f(2016),A=f(1273),m=f(1281),C=f(3353),k=f(445);class Y{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class G extends Y{constructor(i,e,o,r){super(),this.component=i,this.viewContainerRef=e,this.injector=o,this.componentFactoryResolver=r}}class ot extends Y{constructor(i,e,o,r){super(),this.templateRef=i,this.viewContainerRef=e,this.context=o,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class Nt extends Y{constructor(i){super(),this.element=i instanceof t.SBq?i.nativeElement:i}}class H{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof G?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof ot?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof Nt?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ut extends H{constructor(i,e,o,r,s){super(),this.outletElement=i,this._componentFactoryResolver=e,this._appRef=o,this._defaultInjector=r,this.attachDomPortal=a=>{const l=a.element,h=this._document.createComment("dom-portal");l.parentNode.insertBefore(h,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=s}attachComponentPortal(i){const o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(o,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=o.create(i.injector||this._defaultInjector||t.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let e=i.viewContainerRef,o=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return o.rootNodes.forEach(r=>this.outletElement.appendChild(r)),o.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(o);-1!==r&&e.remove(r)}),this._attachedPortal=i,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let j=(()=>{class n extends H{constructor(e,o,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new t.vpe,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const o=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=o.createComponent(s,o.length,e.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t._Vd),t.Y36(t.s_b),t.Y36(g.K0))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[t.qOj]}),n})(),F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var x=f(7579),nt=f(727),rt=f(6451),I=f(5698),Bt=f(2722);const st=(0,C.Mq)();class qt{constructor(i,e){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=(0,m.HM)(-this._previousScrollPosition.left),i.style.top=(0,m.HM)(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,o=i.style,r=this._document.body.style,s=o.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),st&&(o.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),st&&(o.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,o=this._viewportRuler.getViewportSize();return e.scrollHeight>o.height||e.scrollWidth>o.width}}class Yt{constructor(i,e,o,r){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=o,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class at{enable(){}disable(){}attach(){}}function V(n,i){return i.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function lt(n,i){return i.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Gt{constructor(i,e,o,r){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=o,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:r}=this._viewportRuler.getViewportSize();V(e,[{width:o,height:r,bottom:r,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ht=(()=>{class n{constructor(e,o,r,s){this._scrollDispatcher=e,this._viewportRuler=o,this._ngZone=r,this.noop=()=>new at,this.close=a=>new Yt(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new qt(this._viewportRuler,this._document),this.reposition=a=>new Gt(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(A.mF),t.LFG(A.rL),t.LFG(t.R0b),t.LFG(g.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ct{constructor(i){if(this.scrollStrategy=new at,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const e=Object.keys(i);for(const o of e)void 0!==i[o]&&(this[o]=i[o])}}}class jt{constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}}let dt=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const o=this._attachedOverlays.indexOf(e);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vt=(()=>{class n extends dt{constructor(e,o){super(e),this._ngZone=o,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.K0),t.LFG(t.R0b,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zt=(()=>{class n extends dt{constructor(e,o,r){super(e),this._platform=o,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=(0,C.sA)(s)},this._clickListener=s=>{const a=(0,C.sA)(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let u=h.length-1;u>-1;u--){const d=h[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(l))break;const p=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(s)):p.next(s)}}}add(e){if(super.add(e),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.K0),t.LFG(C.t4),t.LFG(t.R0b,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L=(()=>{class n{constructor(e,o){this._platform=o,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||(0,C.Oy)()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const o=this._document.createElement("div");o.classList.add(e),(0,C.Oy)()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.K0),t.LFG(C.t4))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class E{constructor(i,e,o,r,s,a,l,h,u,d=!1){this._portalOutlet=i,this._host=e,this._pane=o,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=l,this._location=h,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new x.x,this._attachments=new x.x,this._detachments=new x.x,this._locationChanges=nt.w0.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new x.x,this._outsidePointerEvents=new x.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,I.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=(0,m.HM)(this._config.width),i.height=(0,m.HM)(this._config.height),i.minWidth=(0,m.HM)(this._config.minWidth),i.minHeight=(0,m.HM)(this._config.minHeight),i.maxWidth=(0,m.HM)(this._config.maxWidth),i.maxHeight=(0,m.HM)(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,e,o){const r=(0,m.Eq)(e||[]).filter(s=>!!s);r.length&&(o?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe((0,Bt.R)((0,rt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ht="cdk-overlay-connected-position-bounding-box",Jt=/([A-Za-z%]+)$/;class Xt{constructor(i,e,o,r,s){this._viewportRuler=e,this._document=o,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new x.x,this._resizeSubscription=nt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(ht),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,e=this._overlayRect,o=this._viewportRect,r=this._containerRect,s=[];let a;for(let l of this._preferredPositions){let h=this._getOriginPoint(i,r,l),u=this._getOverlayPoint(h,e,l),d=this._getOverlayFit(u,e,o,l);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,h);this._canFitWithFlexibleDimensions(d,u,o)?s.push({position:l,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,l)}):(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:u,originPoint:h,position:l,overlayRect:e})}if(s.length){let l=null,h=-1;for(const u of s){const d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>h&&(h=d,l=u)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&D(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ht),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,o){let r,s;if("center"==o.originX)r=i.left+i.width/2;else{const a=this._isRtl()?i.right:i.left,l=this._isRtl()?i.left:i.right;r="start"==o.originX?a:l}return e.left<0&&(r-=e.left),s="center"==o.originY?i.top+i.height/2:"top"==o.originY?i.top:i.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(i,e,o){let r,s;return r="center"==o.overlayX?-e.width/2:"start"===o.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==o.overlayY?-e.height/2:"top"==o.overlayY?0:-e.height,{x:i.x+r,y:i.y+s}}_getOverlayFit(i,e,o,r){const s=pt(e);let{x:a,y:l}=i,h=this._getOffset(r,"x"),u=this._getOffset(r,"y");h&&(a+=h),u&&(l+=u);let O=0-l,y=l+s.height-o.height,b=this._subtractOverflows(s.width,0-a,a+s.width-o.width),_=this._subtractOverflows(s.height,O,y),R=b*_;return{visibleArea:R,isCompletelyWithinViewport:s.width*s.height===R,fitsInViewportVertically:_===s.height,fitsInViewportHorizontally:b==s.width}}_canFitWithFlexibleDimensions(i,e,o){if(this._hasFlexibleDimensions){const r=o.bottom-e.y,s=o.right-e.x,a=ut(this._overlayRef.getConfig().minHeight),l=ut(this._overlayRef.getConfig().minWidth),u=i.fitsInViewportHorizontally||null!=l&&l<=s;return(i.fitsInViewportVertically||null!=a&&a<=r)&&u}return!1}_pushOverlayOnScreen(i,e,o){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const r=pt(e),s=this._viewportRect,a=Math.max(i.x+r.width-s.width,0),l=Math.max(i.y+r.height-s.height,0),h=Math.max(s.top-o.top-i.y,0),u=Math.max(s.left-o.left-i.x,0);let d=0,p=0;return d=r.width<=s.width?u||-a:i.x<this._viewportMargin?s.left-o.left-i.x:0,p=r.height<=s.height?h||-l:i.y<this._viewportMargin?s.top-o.top-i.y:0,this._previousPushAmount={x:d,y:p},{x:i.x+d,y:i.y+p}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const o=this._getScrollVisibility(),r=new jt(i,o);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,r=i.overlayY;o="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${o} ${r}`}_calculateBoundingBoxRect(i,e){const o=this._viewportRect,r=this._isRtl();let s,a,l,d,p,O;if("top"===e.overlayY)a=i.y,s=o.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=o.height-i.y+2*this._viewportMargin,s=o.height-l+this._viewportMargin;else{const y=Math.min(o.bottom-i.y+o.top,i.y),b=this._lastBoundingBoxSize.height;s=2*y,a=i.y-y,s>b&&!this._isInitialRender&&!this._growAfterOpen&&(a=i.y-b/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=o.width-i.x+this._viewportMargin,d=i.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)p=i.x,d=o.right-i.x;else{const y=Math.min(o.right-i.x+o.left,i.x),b=this._lastBoundingBoxSize.width;d=2*y,p=i.x-y,d>b&&!this._isInitialRender&&!this._growAfterOpen&&(p=i.x-b/2)}return{top:a,left:p,bottom:l,right:O,width:d,height:s}}_setBoundingBoxStyles(i,e){const o=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=(0,m.HM)(o.height),r.top=(0,m.HM)(o.top),r.bottom=(0,m.HM)(o.bottom),r.width=(0,m.HM)(o.width),r.left=(0,m.HM)(o.left),r.right=(0,m.HM)(o.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=(0,m.HM)(s)),a&&(r.maxWidth=(0,m.HM)(a))}this._lastBoundingBoxSize=o,D(this._boundingBox.style,r)}_resetBoundingBoxStyles(){D(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){D(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){const o={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();D(o,this._getExactOverlayY(e,i,d)),D(o,this._getExactOverlayX(e,i,d))}else o.position="static";let l="",h=this._getOffset(e,"x"),u=this._getOffset(e,"y");h&&(l+=`translateX(${h}px) `),u&&(l+=`translateY(${u}px)`),o.transform=l.trim(),a.maxHeight&&(r?o.maxHeight=(0,m.HM)(a.maxHeight):s&&(o.maxHeight="")),a.maxWidth&&(r?o.maxWidth=(0,m.HM)(a.maxWidth):s&&(o.maxWidth="")),D(this._pane.style,o)}_getExactOverlayY(i,e,o){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,o)),"bottom"===i.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=(0,m.HM)(s.y),r}_getExactOverlayX(i,e,o){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,o)),a=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=(0,m.HM)(s.x),r}_getScrollVisibility(){const i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),o=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lt(i,o),isOriginOutsideView:V(i,o),isOverlayClipped:lt(e,o),isOverlayOutsideView:V(e,o)}}_subtractOverflows(i,...e){return e.reduce((o,r)=>o-Math.max(r,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+i-this._viewportMargin,bottom:o.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return"x"===e?i.offsetX??this._offsetX:i.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&(0,m.Eq)(i).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof t.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const e=i.width||0,o=i.height||0;return{top:i.y,bottom:i.y+o,left:i.x,right:i.x+e,height:o,width:e}}}function D(n,i){for(let e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n}function ut(n){if("number"!=typeof n&&null!=n){const[i,e]=n.split(Jt);return e&&"px"!==e?null:parseFloat(i)}return n||null}function pt(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gt="cdk-global-overlay-wrapper";class $t{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(gt),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:l}=o,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),u=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),d=this._xPosition,p=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let y="",b="",_="";h?_="flex-start":"center"===d?(_="center",O?b=p:y=p):O?"left"===d||"end"===d?(_="flex-end",y=p):("right"===d||"start"===d)&&(_="flex-start",b=p):"left"===d||"start"===d?(_="flex-start",y=p):("right"===d||"end"===d)&&(_="flex-end",b=p),i.position=this._cssPosition,i.marginLeft=h?"0":y,i.marginTop=u?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=h?"0":b,e.justifyContent=_,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,o=e.style;e.classList.remove(gt),o.justifyContent=o.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let Qt=(()=>{class n{constructor(e,o,r,s){this._viewportRuler=e,this._document=o,this._platform=r,this._overlayContainer=s}global(){return new $t}flexibleConnectedTo(e){return new Xt(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(A.rL),t.LFG(g.K0),t.LFG(C.t4),t.LFG(L))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wt=0,P=(()=>{class n{constructor(e,o,r,s,a,l,h,u,d,p,O,y){this.scrollStrategies=e,this._overlayContainer=o,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=h,this._document=u,this._directionality=d,this._location=p,this._outsideClickDispatcher=O,this._animationsModuleType=y}create(e){const o=this._createHostElement(),r=this._createPaneElement(o),s=this._createPortalOutlet(r),a=new ct(e);return a.direction=a.direction||this._directionality.value,new E(s,o,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const o=this._document.createElement("div");return o.id="cdk-overlay-"+Wt++,o.classList.add("cdk-overlay-pane"),e.appendChild(o),o}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(t.z2F)),new Ut(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ht),t.LFG(L),t.LFG(t._Vd),t.LFG(Qt),t.LFG(Vt),t.LFG(t.zs3),t.LFG(t.R0b),t.LFG(g.K0),t.LFG(k.Is),t.LFG(g.Ye),t.LFG(zt),t.LFG(t.QbO,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const ee={provide:new t.OlP("cdk-connected-overlay-scroll-strategy"),deps:[P],useFactory:function te(n){return()=>n.scrollStrategies.reposition()}};let ft=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[P,ee],imports:[k.vT,F,A.Cl,A.Cl]}),n})();var N=f(9521),mt=f(9770),ie=f(9646),_t=f(8675);function oe(n,i){}class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let vt=(()=>{class n extends H{constructor(e,o,r,s,a,l,h,u){super(),this._elementRef=e,this._focusTrapFactory=o,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=h,this._focusMonitor=u,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),p},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),o}attachTemplatePortal(e){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,o){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(o)}_focusByCssSelector(e,o){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,o)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let o=null;if("string"==typeof e?o=this._document.querySelector(e):"boolean"==typeof e?o=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(o=e),this._config.restoreFocus&&o&&"function"==typeof o.focus){const r=(0,C.ht)(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,o=(0,C.ht)();return e===o||e.contains(o)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,C.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(w.qV),t.Y36(g.K0,8),t.Y36(U),t.Y36(w.ic),t.Y36(t.R0b),t.Y36(E),t.Y36(w.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,o){if(1&e&&t.Gf(j,7),2&e){let r;t.iGM(r=t.CRH())&&(o._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,o){2&e&&t.uIk("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&t.YNc(0,oe,0,0,"ng-template",0)},dependencies:[j],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class z{constructor(i,e){this.overlayRef=i,this.config=e,this.closed=new x.x,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(o=>{o.keyCode===N.hY&&!this.disableClose&&!(0,N.Vb)(o)&&(o.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(i,e){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),o.next(i),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const yt=new t.OlP("DialogScrollStrategy"),ne=new t.OlP("DialogData"),re=new t.OlP("DefaultDialogConfig"),ae={provide:yt,deps:[P],useFactory:function se(n){return()=>n.scrollStrategies.block()}};let le=0,bt=(()=>{class n{constructor(e,o,r,s,a,l){this._overlay=e,this._injector=o,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x.x,this._afterOpenedAtThisLevel=new x.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,mt.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,_t.O)(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,o){(o={...this._defaultOptions||new U,...o}).id=o.id||"cdk-dialog-"+le++,o.id&&this.getDialogById(o.id);const s=this._getOverlayConfig(o),a=this._overlay.create(s),l=new z(a,o),h=this._attachContainer(a,l,o);return l.containerInstance=h,this._attachDialogContent(e,l,h,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){J(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){J(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),J(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const o=new ct({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(o.backdropClass=e.backdropClass),o}_attachContainer(e,o,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:U,useValue:r},{provide:z,useValue:o},{provide:E,useValue:e}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,a.push(...r.container.providers(r))):l=vt;const h=new G(l,r.viewContainerRef,t.zs3.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,o,r,s){if(e instanceof t.Rgc){const a=this._createInjector(s,o,r,void 0);let l={$implicit:s.data,dialogRef:o};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new ot(e,null,l,a))}else{const a=this._createInjector(s,o,r,this._injector),l=r.attachComponentPortal(new G(e,s.viewContainerRef,a,s.componentFactoryResolver));o.componentInstance=l.instance}}_createInjector(e,o,r,s){const a=e.injector||e.viewContainerRef?.injector,l=[{provide:ne,useValue:e.data},{provide:z,useValue:o}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(o,e,r)):l.push(...e.providers)),e.direction&&(!a||!a.get(k.Is,null,t.XFs.Optional))&&l.push({provide:k.Is,useValue:{value:e.direction,change:(0,ie.of)()}}),t.zs3.create({parent:a||s,providers:l})}_removeOpenDialog(e,o){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const o=e.parentElement.children;for(let r=o.length-1;r>-1;r--){const s=o[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(P),t.LFG(t.zs3),t.LFG(re,8),t.LFG(n,12),t.LFG(L),t.LFG(yt))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function J(n,i){let e=n.length;for(;e--;)i(n[e])}let ce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[bt,ae],imports:[ft,F,w.rt,F]}),n})();const he=new t.OlP("mat-sanity-checks",{providedIn:"root",factory:function de(){return!0}});let wt=(()=>{class n{constructor(e,o,r){this._sanityChecks=o,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(0,C.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(w.qm),t.LFG(he,8),t.LFG(g.K0))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[k.vT,k.vT]}),n})();var B=f(9300),v=f(7340);function me(n,i){}const T={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},_e={dialogContainer:(0,v.X$)("dialogContainer",[(0,v.SB)("void, exit",(0,v.oB)({opacity:0,transform:"scale(0.7)"})),(0,v.SB)("enter",(0,v.oB)({transform:"none"})),(0,v.eR)("* => enter",(0,v.ru)([(0,v.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,v.oB)({transform:"none",opacity:1})),(0,v.IO)("@*",(0,v.pV)(),{optional:!0})]),T),(0,v.eR)("* => void, * => exit",(0,v.ru)([(0,v.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,v.oB)({opacity:0})),(0,v.IO)("@*",(0,v.pV)(),{optional:!0})]),T)])};class q{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=T.params.enterAnimationDuration,this.exitAnimationDuration=T.params.exitAnimationDuration}}let ve=(()=>{class n extends vt{constructor(e,o,r,s,a,l,h,u){super(e,o,r,s,a,l,h,u),this._animationStateChanged=new t.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(w.qV),t.Y36(g.K0,8),t.Y36(q),t.Y36(w.ic),t.Y36(t.R0b),t.Y36(E),t.Y36(w.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})(),ye=(()=>{class n extends ve{constructor(e,o,r,s,a,l,h,u,d){super(e,o,r,s,a,l,h,d),this._changeDetectorRef=u,this._state="enter"}_onAnimationDone({toState:e,totalTime:o}){"enter"===e?this._openAnimationDone(o):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:o})}_onAnimationStart({toState:e,totalTime:o}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||T.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||T.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(w.qV),t.Y36(g.K0,8),t.Y36(q),t.Y36(w.ic),t.Y36(t.R0b),t.Y36(E),t.Y36(t.sBO),t.Y36(w.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,o){1&e&&t.WFA("@dialogContainer.start",function(s){return o._onAnimationStart(s)})("@dialogContainer.done",function(s){return o._onAnimationDone(s)}),2&e&&(t.Ikx("id",o._config.id),t.uIk("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),t.d8E("@dialogContainer",o._getAnimationState()))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&t.YNc(0,me,0,0,"ng-template",0)},dependencies:[j],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[_e.dialogContainer]}}),n})();class ${constructor(i,e,o){this._ref=i,this._containerInstance=o,this._afterOpened=new x.x,this._beforeClosed=new x.x,this._state=0,this.disableClose=e.disableClose,this.id=i.id,o._animationStateChanged.pipe((0,B.h)(r=>"opened"===r.state),(0,I.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe((0,B.h)(r=>"closed"===r.state),(0,I.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,rt.T)(this.backdropClick(),this.keydownEvents().pipe((0,B.h)(r=>r.keyCode===N.hY&&!this.disableClose&&!(0,N.Vb)(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function be(n,i,e){n._closeInteractionType=i,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe((0,B.h)(e=>"closing"===e.state),(0,I.q)(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Q=new t.OlP("MatDialogData"),Ce=new t.OlP("mat-dialog-default-options"),kt=new t.OlP("mat-dialog-scroll-strategy"),we={provide:kt,deps:[P],useFactory:function xe(n){return()=>n.scrollStrategies.block()}};let Me=0,Oe=(()=>{class n{constructor(e,o,r,s,a,l,h,u,d,p){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=u,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x.x,this._afterOpenedAtThisLevel=new x.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,mt.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,_t.O)(void 0))),this._scrollStrategy=l,this._dialog=o.get(bt)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,o){let r;(o={...this._defaultOptions||new q,...o}).id=o.id||`${this._idPrefix}${Me++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...o,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:q,useValue:o},{provide:U,useValue:o}]},templateContext:()=>({dialogRef:r}),providers:(a,l,h)=>(r=new this._dialogRefConstructor(a,o,h),r.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let o=e.length;for(;o--;)e[o].close()}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),W=(()=>{class n extends Oe{constructor(e,o,r,s,a,l,h,u){super(e,o,s,l,h,a,$,ye,Q,u)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(P),t.LFG(t.zs3),t.LFG(g.Ye,8),t.LFG(Ce,8),t.LFG(kt),t.LFG(n,12),t.LFG(L),t.LFG(t.QbO,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[W,we],imports:[ce,ft,F,wt,wt]}),n})();var K=f(2340),tt=f(529);let et=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${K.N.baseUrl}/group`}getGroups(){return this.http.get(this.apiUrl)}getGroup(e){return this.http.get(`${this.apiUrl}/${e}`)}createGroup(e){return this.http.post(this.apiUrl,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(tt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ke(n,i){1&n&&(t.TgZ(0,"div",19),t._uU(1," This field is required "),t.qZA())}function Pe(n,i){1&n&&(t.O4$(),t.TgZ(0,"svg",20),t._UZ(1,"circle",21)(2,"path",22),t.qZA())}const Te=function(n){return{"border-red-300 focus:ring-red-500 focus:border-red-500":n}};let Ae=(()=>{class n{constructor(e,o,r){this.dialogRef=e,this.fb=o,this.data=r,this.groupService=(0,t.f3M)(et),this.isLoading=!1}ngOnInit(){this.form=this.fb.group({name:["",c.kI.required]})}onSubmit(){console.log(this.form.value,this.form.valid),this.form.valid&&(this.isLoading=!0,this.groupService.createGroup(this.form.value).subscribe({next:e=>{this.dialogRef.close(e)},error:e=>{console.error(e)},complete:()=>{this.isLoading=!1}}))}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($),t.Y36(c.qu),t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-group-dialog"]],decls:24,vars:8,consts:[[1,"bg-white","rounded-lg","shadow-xl","max-w-4xl","w-full","mx-auto"],[1,"px-8","py-5","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-500","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-8"],[3,"formGroup","ngSubmit"],[1,"space-y-8"],[1,"grid","grid-cols-1","gap-6"],["for","name",1,"block","text-base","font-medium","text-gray-700","mb-2"],[1,"mt-1"],["type","text","id","name","formControlName","name","placeholder","Enter group name",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-md","shadow-sm","focus:ring-2","focus:ring-primary","focus:border-primary","text-black",3,"ngClass"],["class","mt-2 text-sm text-red-600",4,"ngIf"],[1,"mt-8","flex","justify-end","space-x-4"],["type","button",1,"inline-flex","justify-center","px-6","py-3","text-base","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary",3,"click"],["type","submit",1,"inline-flex","justify-center","px-6","py-3","text-base","font-medium","text-white","bg-primary","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"mt-2","text-sm","text-red-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Create New Group"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.onCancel()}),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"path",6),t.qZA()()()(),t.kcU(),t.TgZ(8,"div",7)(9,"form",8),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(10,"div",9)(11,"div",10)(12,"div")(13,"label",11),t._uU(14,"Group Name"),t.qZA(),t.TgZ(15,"div",12),t._UZ(16,"input",13),t.YNc(17,ke,2,0,"div",14),t.qZA()()()(),t.TgZ(18,"div",15)(19,"button",16),t.NdJ("click",function(){return o.onCancel()}),t._uU(20," Cancel "),t.qZA(),t.TgZ(21,"button",17),t.YNc(22,Pe,3,0,"svg",18),t._uU(23),t.qZA()()()()()),2&e){let r,s;t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngClass",t.VKq(6,Te,(null==(r=o.form.get("name"))?null:r.invalid)&&(null==(r=o.form.get("name"))?null:r.touched))),t.xp6(1),t.Q6J("ngIf",(null==(s=o.form.get("name"))?null:s.invalid)&&(null==(s=o.form.get("name"))?null:s.touched)),t.xp6(4),t.Q6J("disabled",!o.form.valid||o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.hij(" ",o.isLoading?"Creating...":"Create Group"," ")}},dependencies:[g.mk,g.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:["[_nghost-%COMP%]{display:block}.mat-dialog-container[_ngcontent-%COMP%]{padding:0!important;border-radius:.5rem;overflow:hidden}input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #6366f133}.transform[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:spin 1s linear infinite}.form-checkbox[_ngcontent-%COMP%]{border-color:#d1d5db;border-radius:.25rem;transition:all .2s ease-in-out}.form-checkbox[_ngcontent-%COMP%]:checked{background-color:#2563eb;border-color:#2563eb}.form-checkbox[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #2563eb1a}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{transition:all .2s ease-in-out}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #2563eb1a}input[type=text].border-red-500[_ngcontent-%COMP%], textarea.border-red-500[_ngcontent-%COMP%]{border-color:#ef4444}input[type=text].border-red-500[_ngcontent-%COMP%]:focus, textarea.border-red-500[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}"]}),n})();var M=(()=>{return(n=M||(M={})).Administrator="Administrator",n.HierarchicalLeader="HierarchicalLeader",n.TeamLeader="TeamLeader",n.PostLeader="PostLeader",n.QualityAgent="QualityAgent",n.Manager="Manager",n.Employee="Employee",M;var n})();const Ee=[M.Administrator,M.HierarchicalLeader,M.TeamLeader,M.PostLeader,M.QualityAgent,M.Manager,M.Employee];function Se(n,i){if(1&n&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.getErrorMessage("userName")," ")}}function Re(n,i){if(1&n&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.getErrorMessage("email")," ")}}function Ze(n,i){if(1&n&&(t.TgZ(0,"div",21),t._UZ(1,"input",33),t.TgZ(2,"label",34),t._uU(3),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e)("id","role-"+e),t.xp6(1),t.Q6J("for","role-"+e),t.xp6(1),t.hij(" ",e," ")}}function Fe(n,i){if(1&n&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.getErrorMessage("role")," ")}}function Ie(n,i){1&n&&(t.O4$(),t.TgZ(0,"svg",35),t._UZ(1,"circle",36)(2,"path",37),t.qZA())}const Pt=function(n){return{"border-red-300 focus:ring-red-500 focus:border-red-500":n}};let Le=(()=>{class n{constructor(e,o,r){this.dialogRef=e,this.fb=o,this.data=r,this.isLoading=!1,this.roles=Ee,this.UserRole=M}ngOnInit(){this.form=this.fb.group({userName:["",[c.kI.required,c.kI.minLength(3)]],email:["",[c.kI.required,c.kI.email]],role:["",c.kI.required],groupId:[this.data.selectedGroup?.id,c.kI.required]})}onSubmit(){if(this.form.valid){this.isLoading=!0;const e=this.form.value;this.dialogRef.close({username:e.userName,email:e.email,role:e.role,groupId:this.data.selectedGroup.id})}}onCancel(){this.dialogRef.close()}getErrorMessage(e){const o=this.form.get(e);if(!o?.errors)return"";const r=o.errors;return r.required?"This field is required":r.email?"Invalid email address":r.minlength?`Minimum length is ${r.minlength.requiredLength} characters`:"Invalid value"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($),t.Y36(c.qu),t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-user-dialog"]],decls:46,vars:15,consts:[[1,"bg-white","rounded-lg","shadow-xl","max-w-4xl","w-full","mx-auto"],[1,"px-8","py-5","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-500","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-8"],[3,"formGroup","ngSubmit"],[1,"space-y-6"],["for","userName",1,"block","text-base","font-medium","text-gray-700","mb-2"],[1,"mt-1"],["type","text","id","userName","formControlName","userName","placeholder","Enter username",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-md","shadow-sm","focus:ring-2","focus:ring-primary","focus:border-primary","text-black",3,"ngClass"],["class","mt-2 text-sm text-red-600",4,"ngIf"],["for","email",1,"block","text-base","font-medium","text-gray-700","mb-2"],["type","email","id","email","formControlName","email","placeholder","Enter email",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-md","shadow-sm","focus:ring-2","focus:ring-primary","focus:border-primary","text-black",3,"ngClass"],[1,"block","text-base","font-medium","text-gray-700","mb-2"],[1,"mt-1","space-y-2"],[1,"grid","grid-cols-2","gap-4"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"bg-gray-50","p-4","rounded-lg"],[1,"flex","items-center"],[1,"flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"mt-8","flex","justify-end","space-x-4"],["type","button",1,"inline-flex","justify-center","px-6","py-3","text-base","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary",3,"click"],["type","submit",1,"inline-flex","justify-center","px-6","py-3","text-base","font-medium","text-white","bg-primary","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"mt-2","text-sm","text-red-600"],["type","radio","formControlName","role",1,"h-4","w-4","text-primary","border-gray-300","focus:ring-primary",3,"value","id"],[1,"ml-2","text-gray-700",3,"for"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Create New User"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.onCancel()}),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"path",6),t.qZA()()()(),t.kcU(),t.TgZ(8,"div",7)(9,"form",8),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(10,"div",9)(11,"div")(12,"label",10),t._uU(13,"Username"),t.qZA(),t.TgZ(14,"div",11),t._UZ(15,"input",12),t.YNc(16,Se,2,1,"div",13),t.qZA()(),t.TgZ(17,"div")(18,"label",14),t._uU(19,"Email"),t.qZA(),t.TgZ(20,"div",11),t._UZ(21,"input",15),t.YNc(22,Re,2,1,"div",13),t.qZA()(),t.TgZ(23,"div")(24,"label",16),t._uU(25,"Role"),t.qZA(),t.TgZ(26,"div",17)(27,"div",18),t.YNc(28,Ze,4,4,"div",19),t.qZA(),t.YNc(29,Fe,2,1,"div",13),t.qZA()(),t.TgZ(30,"div",20)(31,"div",21)(32,"div",22),t.O4$(),t.TgZ(33,"svg",23),t._UZ(34,"path",24),t.qZA()(),t.kcU(),t.TgZ(35,"div",25)(36,"h3",26),t._uU(37,"Selected Group"),t.qZA(),t.TgZ(38,"p",27),t._uU(39),t.qZA()()()()(),t.TgZ(40,"div",28)(41,"button",29),t.NdJ("click",function(){return o.onCancel()}),t._uU(42," Cancel "),t.qZA(),t.TgZ(43,"button",30),t.YNc(44,Ie,3,0,"svg",31),t._uU(45),t.qZA()()()()()),2&e){let r,s,a,l,h;t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(6),t.Q6J("ngClass",t.VKq(11,Pt,(null==(r=o.form.get("userName"))?null:r.invalid)&&(null==(r=o.form.get("userName"))?null:r.touched))),t.xp6(1),t.Q6J("ngIf",(null==(s=o.form.get("userName"))?null:s.invalid)&&(null==(s=o.form.get("userName"))?null:s.touched)),t.xp6(5),t.Q6J("ngClass",t.VKq(13,Pt,(null==(a=o.form.get("email"))?null:a.invalid)&&(null==(a=o.form.get("email"))?null:a.touched))),t.xp6(1),t.Q6J("ngIf",(null==(l=o.form.get("email"))?null:l.invalid)&&(null==(l=o.form.get("email"))?null:l.touched)),t.xp6(6),t.Q6J("ngForOf",o.roles),t.xp6(1),t.Q6J("ngIf",(null==(h=o.form.get("role"))?null:h.invalid)&&(null==(h=o.form.get("role"))?null:h.touched)),t.xp6(10),t.Oqu(o.data.selectedGroup.name||"No group selected"),t.xp6(4),t.Q6J("disabled",!o.form.valid||o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.hij(" ",o.isLoading?"Creating...":"Create User"," ")}},dependencies:[g.mk,g.sg,g.O5,c._Y,c.Fj,c._,c.JJ,c.JL,c.sg,c.u],styles:["[_nghost-%COMP%]{display:block}.mat-dialog-container[_ngcontent-%COMP%]{padding:0!important;border-radius:.5rem;overflow:hidden}.form-checkbox[_ngcontent-%COMP%]{height:1rem;width:1rem;border-radius:.25rem;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));color:hsl(var(--primary));transition:all .2s ease-in-out}.form-checkbox[_ngcontent-%COMP%]:checked{border-color:hsl(var(--primary));background-color:hsl(var(--primary))}.form-checkbox[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: hsl(var(--primary));--tw-ring-opacity: .5}input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px rgba(var(--primary-rgb),.2)}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:spin 1s linear infinite}"]}),n})();function Ne(n,i){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",12),t._UZ(1,"div",13),t.qZA())}function Ue(n,i){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",14)(1,"strong",15),t._uU(2,"Error!"),t.qZA(),t.TgZ(3,"span",16),t._uU(4),t.qZA(),t.TgZ(5,"button",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.fetchGroups())}),t.O4$(),t.TgZ(6,"svg",18),t._UZ(7,"path",19),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.error)}}function Be(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",26),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.selectGroup(s))}),t.TgZ(1,"div",27)(2,"h3",28),t._uU(3),t.qZA(),t.TgZ(4,"span",29),t._uU(5),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.oxw(2);let r;t.ekj("bg-blue-50",(null==o.selectedGroup?null:o.selectedGroup.id)===e.id),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.hij(" ",null!==(r=e.count)&&void 0!==r?r:e.users.length," users ")}}const qe=function(n,i,e,o,r,s){return{"bg-purple-100 text-purple-800":n,"bg-blue-100 text-blue-800":i,"bg-green-100 text-green-800":e,"bg-yellow-100 text-yellow-800":o,"bg-red-100 text-red-800":r,"bg-gray-100 text-gray-800":s}},Ye=function(n,i,e,o,r,s){return{"bg-purple-500":n,"bg-blue-500":i,"bg-green-500":e,"bg-yellow-500":o,"bg-red-500":r,"bg-gray-500":s}};function Ge(n,i){if(1&n&&(t.TgZ(0,"tr",43)(1,"td",44)(2,"div",45)(3,"div",46),t._uU(4),t.qZA(),t.TgZ(5,"div",47)(6,"div",48),t._uU(7),t.qZA()()()(),t.TgZ(8,"td",44)(9,"div",49),t._uU(10),t.qZA()(),t.TgZ(11,"td",44)(12,"span",50),t._UZ(13,"span",51),t._uU(14),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(4),t.hij(" ",e.userName.charAt(0).toUpperCase()," "),t.xp6(3),t.Oqu(e.userName),t.xp6(3),t.Oqu(e.email),t.xp6(2),t.Q6J("ngClass",t.HTZ(6,qe,"Administrator"===(null==e.roles?null:e.roles[0]),"Manager"===(null==e.roles?null:e.roles[0]),"TeamLeader"===(null==e.roles?null:e.roles[0]),"PostLeader"===(null==e.roles?null:e.roles[0]),"QualityAgent"===(null==e.roles?null:e.roles[0]),"Employee"===(null==e.roles?null:e.roles[0]))),t.xp6(1),t.Q6J("ngClass",t.HTZ(13,Ye,"Administrator"===(null==e.roles?null:e.roles[0]),"Manager"===(null==e.roles?null:e.roles[0]),"TeamLeader"===(null==e.roles?null:e.roles[0]),"PostLeader"===(null==e.roles?null:e.roles[0]),"QualityAgent"===(null==e.roles?null:e.roles[0]),"Employee"===(null==e.roles?null:e.roles[0]))),t.xp6(1),t.hij(" ",null==e.roles?null:e.roles[0]," ")}}function He(n,i){1&n&&(t.TgZ(0,"tr")(1,"td",52)(2,"div",53),t.O4$(),t.TgZ(3,"svg",54),t._UZ(4,"path",55),t.qZA(),t.kcU(),t.TgZ(5,"p",56),t._uU(6,"No users in this group"),t.qZA()()()())}function je(n,i){if(1&n&&(t.TgZ(0,"div",30)(1,"div",31)(2,"div",27)(3,"div")(4,"h2",2),t._uU(5),t.qZA()(),t.TgZ(6,"div",32)(7,"span",33),t._uU(8," Active "),t.qZA(),t.TgZ(9,"span",34),t._uU(10),t.qZA()()()(),t.TgZ(11,"div",35)(12,"div",36)(13,"table",37)(14,"thead",38)(15,"tr")(16,"th",39),t._uU(17," User"),t.qZA(),t.TgZ(18,"th",39),t._uU(19," Email"),t.qZA(),t.TgZ(20,"th",39),t._uU(21," Role"),t.qZA()()(),t.TgZ(22,"tbody",40),t.YNc(23,Ge,15,20,"tr",41),t.YNc(24,He,7,0,"tr",42),t.qZA()()()()()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(e.selectedGroup.name),t.xp6(5),t.hij(" ",e.selectedGroup.count," Users "),t.xp6(13),t.Q6J("ngForOf",e.selectedGroup.users),t.xp6(1),t.Q6J("ngIf",0===e.selectedGroup.users.length)}}function Ve(n,i){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",20)(1,"div",21)(2,"h2",22),t._uU(3,"Groups"),t.qZA(),t.TgZ(4,"div",23),t.YNc(5,Be,6,4,"div",24),t.qZA()(),t.YNc(6,je,25,4,"div",25),t.qZA()),2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.groups),t.xp6(1),t.Q6J("ngIf",e.selectedGroup)}}let ze=(()=>{class n{constructor(e,o){this.groupService=e,this.dialog=o,this.groups=[],this.selectedGroup=null,this.showCreateUserModal=!1,this.loading=!0,this.error=null}ngOnInit(){this.fetchGroups()}fetchGroups(){this.loading=!0,this.error=null,this.groupService.getGroups().subscribe({next:e=>{this.groups=e,e.length>0&&(this.selectedGroup=e[0]),this.loading=!1},error:e=>{this.error="Failed to load groups. Please try again later.",this.loading=!1,console.error("Error fetching groups:",e)}})}selectGroup(e){this.selectedGroup=e}openCreateUserModal(){this.dialog.open(Le,{data:{selectedGroup:this.selectedGroup},width:"1000px"}).afterClosed().subscribe(o=>{o&&console.log(o)})}openCreateGroupModal(){this.dialog.open(Ae).afterClosed().subscribe(o=>{o&&(this.groups.push(o),this.selectedGroup=o)})}createUser(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et),t.Y36(W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-employees"]],decls:16,vars:3,consts:[[1,"container","mx-auto","p-2"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"flex","gap-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["d","M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"],[1,"px-4","py-2","bg-green-600","text-white","rounded-lg","hover:bg-green-700","transition-colors","flex","items-center","gap-2",3,"click"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-4 gap-6",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],["role","alert",1,"bg-red-50","border","border-red-200","text-red-700","px-4","py-3","rounded","relative"],[1,"font-bold"],[1,"block","sm:inline"],[1,"absolute","top-0","bottom-0","right-0","px-4","py-3",3,"click"],["role","button","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","h-6","w-6","text-red-500"],["d","M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6"],[1,"lg:col-span-1","bg-white","rounded-lg","shadow","p-4"],[1,"text-lg","font-semibold","mb-4","text-gray-700"],[1,"space-y-2"],["class","p-3 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors border border-gray-100",3,"bg-blue-50","click",4,"ngFor","ngForOf"],["class","lg:col-span-3 bg-white rounded-lg shadow",4,"ngIf"],[1,"p-3","rounded-lg","cursor-pointer","hover:bg-gray-50","transition-colors","border","border-gray-100",3,"click"],[1,"flex","justify-between","items-center"],[1,"font-medium","text-gray-800"],[1,"px-2","py-1","text-xs","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"lg:col-span-3","bg-white","rounded-lg","shadow"],[1,"p-6","border-b","border-gray-200"],[1,"flex","items-center","gap-2"],[1,"px-3","py-1","text-sm","font-semibold","rounded-full","bg-green-100","text-green-800"],[1,"px-3","py-1","text-sm","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"p-6"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"h-10","w-10","rounded-full","bg-gray-200","flex","items-center","justify-center","text-gray-600","font-semibold"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-900"],[1,"px-3","py-1.5","inline-flex","items-center","text-xs","leading-4","font-medium","rounded-full",3,"ngClass"],[1,"w-2","h-2","mr-1.5","rounded-full",3,"ngClass"],["colspan","3",1,"px-6","py-4","text-center","text-gray-500"],[1,"flex","flex-col","items-center","justify-center","py-8"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"mt-2","text-sm","font-medium","text-gray-500"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Groups Management"),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return o.openCreateUserModal()}),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"path",6),t.qZA(),t._uU(8," Create User "),t.qZA(),t.kcU(),t.TgZ(9,"button",7),t.NdJ("click",function(){return o.openCreateGroupModal()}),t.O4$(),t.TgZ(10,"svg",5),t._UZ(11,"path",8),t.qZA(),t._uU(12," Create Group "),t.qZA()()(),t.YNc(13,Ne,2,0,"div",9),t.YNc(14,Ue,8,1,"div",10),t.YNc(15,Ve,7,2,"div",11),t.qZA()),2&e&&(t.xp6(13),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",!o.loading&&!o.error))},dependencies:[g.mk,g.sg,g.O5],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.primary[_ngcontent-%COMP%]{background-color:#4a90e2}.primary-dark[_ngcontent-%COMP%]{background-color:#357abd}.form-input[_ngcontent-%COMP%]{width:100%;border-radius:var(--radius);border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.75rem}.form-input[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: hsl(var(--primary))}table[_ngcontent-%COMP%]{min-width:100%}table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse));--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 1.5rem}th[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));text-align:left;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}tr[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}td[_ngcontent-%COMP%]{white-space:nowrap;font-size:.875rem;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:10px}.groups-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;gap:20px}.groups-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.group-card[_ngcontent-%COMP%]{padding:15px;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;transition:all .3s ease}.group-card[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.group-card.selected[_ngcontent-%COMP%]{background-color:#e2e8f0;border-color:#94a3b8}.group-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.group-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:14px;color:#64748b}.group-details[_ngcontent-%COMP%]{padding:20px;border:1px solid #e2e8f0;border-radius:8px}.group-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:20px;font-weight:600}.users-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.user-card[_ngcontent-%COMP%]{padding:15px;border:1px solid #e2e8f0;border-radius:8px}.user-card[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.user-card[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px;color:#64748b}.roles[_ngcontent-%COMP%]{display:flex;gap:5px;margin-top:10px}.role-badge[_ngcontent-%COMP%]{padding:2px 8px;background-color:#e2e8f0;border-radius:4px;font-size:12px;color:#475569}.no-users[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#64748b}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;width:100%;max-width:500px}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:20px;font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #e2e8f0;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#94a3b8}.form-group[_ngcontent-%COMP%]   select[multiple][_ngcontent-%COMP%]{height:100px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#475569;border:none}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}"]}),n})();var Je=f(4004);let Xe=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${K.N.baseUrl}/session`}getAll(){return this.http.get(this.apiUrl).pipe((0,Je.U)(e=>e.map(o=>({...o,startDate:new Date(o.startDate),endDate:new Date(o.endDate),status:this.getSessionStatus(o)}))))}getSessionStatus(e){const o=new Date,r=new Date(e.startDate);return o>new Date(e.endDate)?"Termin\xe9e":o<r?"Pas encore":"En cours"}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(tt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $e(n,i){1&n&&t._UZ(0,"i",17)}function Qe(n,i){1&n&&(t.O4$(),t.TgZ(0,"svg",18),t._UZ(1,"circle",19)(2,"path",20),t.qZA())}function We(n,i){1&n&&(t.TgZ(0,"span",26),t._uU(1,"\u2713"),t.qZA())}function Ke(n,i){1&n&&(t.TgZ(0,"span",26),t._uU(1,"\u27f3"),t.qZA())}function ti(n,i){1&n&&(t.TgZ(0,"span",26),t._uU(1,"\u23f0"),t.qZA())}const ei=function(n,i,e){return{"text-green-500":n,"text-yellow-500":i,"text-gray-500":e}};function ii(n,i){if(1&n&&(t.TgZ(0,"tr",21)(1,"td",22),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.qZA(),t.TgZ(7,"td",23),t._uU(8),t.qZA(),t.TgZ(9,"td",23),t._uU(10),t.qZA(),t.TgZ(11,"td",23)(12,"span",24),t.YNc(13,We,2,0,"span",25),t.YNc(14,Ke,2,0,"span",25),t.YNc(15,ti,2,0,"span",25),t._uU(16),t.qZA()()()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.formation.title),t.xp6(2),t.Oqu(o.formatDate(e.startDate)),t.xp6(2),t.Oqu(o.formatDate(e.endDate)),t.xp6(2),t.Q6J("ngClass",t.kEZ(10,ei,"Termin\xe9e"===e.status,"En cours"===e.status,"Pas encore"===e.status)),t.xp6(1),t.Q6J("ngIf","Termin\xe9e"===e.status),t.xp6(1),t.Q6J("ngIf","En cours"===e.status),t.xp6(1),t.Q6J("ngIf","Pas encore"===e.status),t.xp6(1),t.hij(" ",e.status," ")}}let oi=(()=>{class n{constructor(e,o){this.fb=e,this.sessionService=o,this.sessions=[],this.currentPage=0,this.pageSize=5,this.isLoading=!1}ngOnInit(){this.loadSessions()}loadSessions(){this.isLoading=!0,this.sessionService.getAll().subscribe({next:e=>{this.sessions=e,this.isLoading=!1},error:e=>{console.error("Error loading sessions:",e),this.isLoading=!1}})}reloadSessions(){this.currentPage=0,this.loadSessions()}get paginatedSessions(){const e=this.currentPage*this.pageSize;return this.sessions.slice(e,e+this.pageSize)}get pageCount(){return Math.ceil(this.sessions.length/this.pageSize)}previousPage(){this.currentPage=Math.max(0,this.currentPage-1)}nextPage(){this.currentPage=Math.min(this.pageCount-1,this.currentPage+1)}formatDate(e){return new Intl.DateTimeFormat("fr",{day:"numeric",month:"short",year:"numeric"}).format(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(Xe))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-session"]],decls:38,vars:9,consts:[[1,"animate-fade-in","container","mx-auto","p-6"],[1,"mb-8","flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-gray-800","!mb-0"],[1,"flex","gap-3"],[1,"px-4","py-2","bg-gray-100","text-gray-700","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-gray-200","transition-colors","flex","items-center","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled","click"],["class","fa-solid fa-rotate-right mr-2",4,"ngIf"],["class","animate-spin h-4 w-4 mr-2","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"px-4","py-2","bg-primary","text-white","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-primary/90","transition-colors"],[1,"rounded-lg","border","shadow-md"],[1,"w-full"],[1,"bg-gray-100"],[1,"py-4","px-6","text-left","text-sm","font-medium","text-gray-700"],["class","border-t",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","space-x-4","py-6"],[1,"px-3","py-1","border","border-gray-300","rounded-lg","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"disabled","click"],[1,"inline-block"],[1,"text-sm","font-medium","text-gray-700"],[1,"fa-solid","fa-rotate-right","mr-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4","mr-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"border-t"],[1,"py-4","px-6","font-medium"],[1,"py-4","px-6"],[1,"flex","items-center",3,"ngClass"],["class","mr-2",4,"ngIf"],[1,"mr-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Sessions de formation"),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return o.reloadSessions()}),t.YNc(6,$e,1,0,"i",5),t.YNc(7,Qe,3,0,"svg",6),t._uU(8),t.qZA(),t.TgZ(9,"button",7),t._uU(10," Ajouter une session "),t.qZA()()(),t.TgZ(11,"div",8)(12,"table",9)(13,"thead")(14,"tr",10)(15,"th",11),t._uU(16,"ID"),t.qZA(),t.TgZ(17,"th",11),t._uU(18,"Nom de la session"),t.qZA(),t.TgZ(19,"th",11),t._uU(20,"Formation"),t.qZA(),t.TgZ(21,"th",11),t._uU(22,"Date de d\xe9but"),t.qZA(),t.TgZ(23,"th",11),t._uU(24,"Date de fin"),t.qZA(),t.TgZ(25,"th",11),t._uU(26,"Statut"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,ii,17,14,"tr",12),t.qZA()()(),t.TgZ(29,"div",13)(30,"button",14),t.NdJ("click",function(){return o.previousPage()}),t.TgZ(31,"span",15),t._uU(32,"<"),t.qZA()(),t.TgZ(33,"span",16),t._uU(34),t.qZA(),t.TgZ(35,"button",14),t.NdJ("click",function(){return o.nextPage()}),t.TgZ(36,"span",15),t._uU(37,">"),t.qZA()()()()),2&e&&(t.xp6(5),t.Q6J("disabled",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.hij(" ",o.isLoading?"Actualisation...":"Actualiser"," "),t.xp6(20),t.Q6J("ngForOf",o.paginatedSessions),t.xp6(2),t.Q6J("disabled",0===o.currentPage),t.xp6(4),t.AsE(" Page ",o.currentPage+1," sur ",o.pageCount," "),t.xp6(1),t.Q6J("disabled",o.currentPage>=o.pageCount-1))},dependencies:[g.mk,g.sg,g.O5],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.primary[_ngcontent-%COMP%]{background-color:#4a90e2}.primary-dark[_ngcontent-%COMP%]{background-color:#357abd}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 1.5rem}th[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));text-align:left;font-size:.875rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}tr[_ngcontent-%COMP%]{border-top-width:1px}td[_ngcontent-%COMP%]{font-size:.875rem;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}"]}),n})(),ni=(()=>{class n{constructor(e){this.fb=e}ngOnInit(){this.initializeForm()}initializeForm(){this.settingsForm=this.fb.group({companyName:["SUMITOMO ELECTRIC BORDNETZE SE",c.kI.required],logo:[null],emailNotifications:[!0],reminderDays:[7,[c.kI.min(1),c.kI.max(30)]],defaultSessionCapacity:[15,[c.kI.min(1)]],mandatoryTrainingReminders:[!0],reportEmail:["admin@example.com",[c.kI.email,c.kI.required]],language:["fr",c.kI.required]})}onSubmit(){this.settingsForm.valid?(console.log("Settings saved:",this.settingsForm.value),alert("Param\xe8tres enregistr\xe9s avec succ\xe8s!")):alert("Veuillez corriger les erreurs dans le formulaire.")}onCancel(){this.settingsForm.reset({companyName:"SUMITOMO ELECTRIC BORDNETZE SE",logo:null,emailNotifications:!0,reminderDays:7,defaultSessionCapacity:15,mandatoryTrainingReminders:!0,reportEmail:"admin@example.com",language:"fr"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings"]],decls:72,vars:2,consts:[[1,"animate-fade-in","container","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-white","rounded-xl","shadow-lg","overflow-hidden"],[1,"px-8","py-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"p-8",3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"text-lg","font-medium","text-gray-700","mb-6"],[1,"space-y-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","formControlName","companyName","placeholder","Entrez le nom de l'entreprise",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],[1,"flex","items-center","space-x-4"],[1,"h-20","w-20","rounded-lg","bg-gray-200","flex","items-center","justify-center"],[1,"text-gray-400"],["type","button",1,"px-4","py-2","bg-white","border","border-gray-300","rounded-lg","text-sm","font-medium","text-gray-700","hover:bg-gray-50","transition-colors"],[1,"text-lg","font-medium","text-gray-700","mt-8","mb-6"],["formControlName","language",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],["value","fr"],["value","en"],["value","de"],[1,"flex","items-center"],["type","checkbox","id","emailNotifications","formControlName","emailNotifications",1,"h-5","w-5","text-primary","border-gray-300","rounded","focus:ring-primary"],["for","emailNotifications",1,"ml-3","text-sm","text-gray-700"],["type","checkbox","id","mandatoryTrainingReminders","formControlName","mandatoryTrainingReminders",1,"h-5","w-5","text-primary","border-gray-300","rounded","focus:ring-primary"],["for","mandatoryTrainingReminders",1,"ml-3","text-sm","text-gray-700"],["type","number","formControlName","reminderDays","min","1","max","30",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],["type","email","formControlName","reportEmail","placeholder","Entrez l'email pour les rapports",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],["type","number","formControlName","defaultSessionCapacity","min","1",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],[1,"mt-10","pt-6","border-t","border-gray-200","flex","justify-end","space-x-4"],["type","button",1,"px-4","py-2","bg-white","border","border-gray-300","rounded-lg","shadow-sm","text-sm","font-medium","text-gray-700","hover:bg-gray-50","flex","items-center","space-x-2","transition-colors",3,"click"],[1,"inline-block"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-primary-dark","flex","items-center","space-x-2","transition-colors",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Param\xe8tres"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"h2",5),t._uU(7,"Configuration g\xe9n\xe9rale"),t.qZA()(),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(9,"div",7)(10,"div")(11,"h3",8),t._uU(12,"Informations de l'entreprise"),t.qZA(),t.TgZ(13,"div",9)(14,"div")(15,"label",10),t._uU(16," Nom de l'entreprise "),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"div")(19,"label",10),t._uU(20," Logo de l'entreprise "),t.qZA(),t.TgZ(21,"div",12)(22,"div",13)(23,"span",14),t._uU(24,"Logo"),t.qZA()(),t.TgZ(25,"button",15),t._uU(26," Parcourir... "),t.qZA()()()(),t.TgZ(27,"h3",16),t._uU(28,"Pr\xe9f\xe9rences de langue"),t.qZA(),t.TgZ(29,"div")(30,"label",10),t._uU(31," Langue par d\xe9faut "),t.qZA(),t.TgZ(32,"select",17)(33,"option",18),t._uU(34,"Fran\xe7ais"),t.qZA(),t.TgZ(35,"option",19),t._uU(36,"English"),t.qZA(),t.TgZ(37,"option",20),t._uU(38,"Deutsch"),t.qZA()()()(),t.TgZ(39,"div")(40,"h3",8),t._uU(41,"Notifications et rappels"),t.qZA(),t.TgZ(42,"div",9)(43,"div",21),t._UZ(44,"input",22),t.TgZ(45,"label",23),t._uU(46," Activer les notifications par email "),t.qZA()(),t.TgZ(47,"div",21),t._UZ(48,"input",24),t.TgZ(49,"label",25),t._uU(50," Rappels pour les formations obligatoires "),t.qZA()(),t.TgZ(51,"div")(52,"label",10),t._uU(53," Jours avant la formation pour envoyer un rappel "),t.qZA(),t._UZ(54,"input",26),t.qZA(),t.TgZ(55,"div")(56,"label",10),t._uU(57," Email pour les rapports "),t.qZA(),t._UZ(58,"input",27),t.qZA()(),t.TgZ(59,"h3",16),t._uU(60,"Param\xe8tres par d\xe9faut"),t.qZA(),t.TgZ(61,"div")(62,"label",10),t._uU(63," Capacit\xe9 par d\xe9faut des sessions "),t.qZA(),t._UZ(64,"input",28),t.qZA()()(),t.TgZ(65,"div",29)(66,"button",30),t.NdJ("click",function(){return o.onCancel()}),t.TgZ(67,"span",31),t._uU(68,"Annuler"),t.qZA()(),t.TgZ(69,"button",32)(70,"span",31),t._uU(71,"Enregistrer"),t.qZA()()()()()()),2&e&&(t.xp6(8),t.Q6J("formGroup",o.settingsForm),t.xp6(61),t.Q6J("disabled",o.settingsForm.invalid))},dependencies:[c._Y,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c.JJ,c.JL,c.qQ,c.Fd,c.sg,c.u],styles:[".form-input[_ngcontent-%COMP%]{width:100%;border-radius:var(--radius);border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.75rem}.form-input[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: hsl(var(--primary))}.animate-fade-in[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.primary[_ngcontent-%COMP%]{background-color:#4a90e2}.primary-dark[_ngcontent-%COMP%]{background-color:#357abd}"]}),n})(),ri=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"test works!"),t.qZA())}}),n})();const si=["Technical Training","Soft Skills","Leadership","Compliance","Project Management","Customer Service","Sales Training","Safety Training"];var ai=f(1206);let li=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${K.N.baseUrl}/formation`}createFormation(e){return this.http.post(this.apiUrl,e)}getFormations(){return this.http.get(this.apiUrl)}getFormation(e){return this.http.get(`${this.apiUrl}/${e}`)}updateFormation(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}deleteFormation(e){return this.http.delete(`${this.apiUrl}/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(tt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ci(n,i){if(1&n&&(t.TgZ(0,"div",28),t._UZ(1,"input",29),t.TgZ(2,"label",30)(3,"div",31)(4,"span",32),t._uU(5),t.qZA()(),t.TgZ(6,"div",33),t._UZ(7,"i",34),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("id","category-"+e)("value",e),t.xp6(1),t.Q6J("for","category-"+e),t.xp6(3),t.Oqu(e)}}function di(n,i){if(1&n&&(t.TgZ(0,"span",42),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.description)}}function hi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",35)(1,"input",36),t.NdJ("change",function(r){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onGroupSelectionChange(a.id,r))}),t.qZA(),t.TgZ(2,"label",37)(3,"div",38)(4,"span",39),t._uU(5),t.qZA(),t.YNc(6,di,2,1,"span",40),t.qZA(),t.TgZ(7,"div",41),t._UZ(8,"i",34),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("id","group-"+e.id)("value",e.id),t.xp6(1),t.Q6J("for","group-"+e.id),t.xp6(3),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",e.description)}}function ui(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"div")(5,"label",11),t._uU(6,"Title"),t.qZA(),t._UZ(7,"input",12),t.qZA(),t.TgZ(8,"div")(9,"label",11),t._uU(10,"Description"),t.qZA(),t._UZ(11,"textarea",47),t.qZA()()(),t.TgZ(12,"div",48)(13,"div",49),t._UZ(14,"i",50),t.qZA(),t.TgZ(15,"button",51),t.NdJ("click",function(){const s=t.CHM(e).index,a=t.oxw();return t.KtG(a.moveModule(s,s-1))}),t._UZ(16,"i",52),t.qZA(),t.TgZ(17,"button",51),t.NdJ("click",function(){const s=t.CHM(e).index,a=t.oxw();return t.KtG(a.moveModule(s,s+1))}),t._UZ(18,"i",53),t.qZA(),t.TgZ(19,"button",54),t.NdJ("click",function(){const s=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeModule(s))}),t._UZ(20,"i",55),t.qZA()()(),t.TgZ(21,"div",56),t._uU(22),t.qZA()()}if(2&n){const e=i.$implicit,o=i.index,r=t.oxw();let s;t.Q6J("formGroupName",o),t.xp6(15),t.Q6J("disabled",0===o),t.xp6(2),t.Q6J("disabled",o===r.modules.length-1),t.xp6(5),t.hij(" Position: ",null==(s=e.get("position"))?null:s.value," ")}}function pi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",57)(1,"div",15)(2,"div")(3,"label",11),t._uU(4,"Title"),t.qZA(),t._UZ(5,"input",12),t.qZA(),t.TgZ(6,"div")(7,"label",11),t._uU(8,"Start Date"),t.qZA(),t._UZ(9,"input",58),t.qZA(),t.TgZ(10,"div")(11,"label",11),t._uU(12,"End Date"),t.qZA(),t._UZ(13,"input",59),t.qZA()(),t.TgZ(14,"div",60)(15,"button",61),t.NdJ("click",function(){const s=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeSession(s))}),t._UZ(16,"i",55),t.qZA()()()}2&n&&t.Q6J("formGroupName",i.index)}const gi=[{path:"",component:Et},{path:"formations",component:Lt},{path:"formations/create",component:(()=>{class n{constructor(e,o,r,s,a){this.fb=e,this.formationService=o,this.groupService=r,this.router=s,this.dialog=a,this.groups=[],this.categories=si,this.selectedCategory="",this.selectedGroupIds=[],this.isLoadingGroups=!0,this.formationForm=this.fb.group({title:["",[c.kI.required,c.kI.minLength(3)]],description:["",[c.kI.required,c.kI.minLength(10)]],content:["",[c.kI.required,c.kI.minLength(20)]],category:["",c.kI.required],groupIds:[[]],sessions:this.fb.array([]),modules:this.fb.array([])})}ngOnInit(){this.isLoadingGroups=!0,this.groupService.getGroups().subscribe({next:e=>{this.groups=e,this.isLoadingGroups=!1},error:e=>{console.error("Error loading groups:",e),this.isLoadingGroups=!1}})}get modules(){return this.formationForm.get("modules")}get sessions(){return this.formationForm.get("sessions")}createModuleFormGroup(){return this.fb.group({title:["",[c.kI.required,c.kI.minLength(3)]],description:["",[c.kI.required,c.kI.minLength(10)]],position:[this.modules.length+1,c.kI.required],formationId:[0]})}addModule(){const e=this.createModuleFormGroup();this.modules.push(e),this.updateModulePositions()}removeModule(e){this.modules.removeAt(e),this.updateModulePositions()}updateModulePositions(){this.modules.controls.forEach((e,o)=>{e.patchValue({position:o+1})})}moveModule(e,o){const r=this.modules.at(e);this.modules.removeAt(e),this.modules.insert(o,r),this.updateModulePositions()}createSessionFormGroup(){return this.fb.group({title:["",[c.kI.required,c.kI.minLength(3)]],startDate:["",c.kI.required],endDate:["",c.kI.required],formationId:[0]})}addSession(){const e=this.createSessionFormGroup();this.sessions.push(e)}removeSession(e){this.sessions.removeAt(e)}onGroupSelectionChange(e,o){o.target.checked?this.selectedGroupIds.includes(e)||this.selectedGroupIds.push(e):this.selectedGroupIds=this.selectedGroupIds.filter(s=>s!==e),this.formationForm.patchValue({groupIds:this.selectedGroupIds})}onCategorySelectionChange(e){this.selectedCategory=e,this.formationForm.patchValue({category:e})}onSubmit(){if(this.formationForm.valid){const e={...this.formationForm.value,groupIds:this.selectedGroupIds};this.formationService.createFormation(e).subscribe({next:o=>{this.router.navigate(["/admin/formations"])},error:o=>{console.error("Error creating formation:",o)}})}else this.formationForm.markAllAsTouched()}dropModule(e){(0,ai.bA)(this.modules.controls,e.previousIndex,e.currentIndex),this.updateModulePositions()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(li),t.Y36(et),t.Y36(Z.F0),t.Y36(W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-formation"]],decls:57,vars:6,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"max-w-4xl"],[1,"rounded-2xl","overflow-hidden"],[1,"px-8","py-6"],[1,""],[1,"mt-1","text-sm"],[1,"p-8"],[1,"space-y-8",3,"formGroup","ngSubmit"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"text-2xl","font-bold","mb-6"],[1,"grid","grid-cols-1","gap-6"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","formControlName","title",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],["formControlName","description","rows","3",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],["formControlName","content","rows","5",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["class","category-item",4,"ngFor","ngForOf"],["class","group-item",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold"],["type","button",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary",3,"click"],[1,"fas","fa-plus","mr-2"],["formArrayName","modules","cdkDropList","",1,"space-y-4",3,"cdkDropListDropped"],["class","module-item","cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","sessions",1,"space-y-4"],["class","session-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","items-center","px-6","py-3","border","border-transparent","text-base","font-medium","rounded-md","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50",3,"disabled"],[1,"category-item"],["type","radio","formControlName","category",1,"category-radio",3,"id","value"],[1,"category-label",3,"for"],[1,"category-content"],[1,"category-name"],[1,"category-icon"],[1,"fas","fa-check"],[1,"group-item"],["type","checkbox",1,"group-checkbox",3,"id","value","change"],[1,"group-label",3,"for"],[1,"group-content"],[1,"group-name"],["class","group-description",4,"ngIf"],[1,"group-icon"],[1,"group-description"],["cdkDrag","",1,"module-item",3,"formGroupName"],[1,"flex","items-start","space-x-4"],[1,"flex-1"],[1,"grid","grid-cols-1","gap-4"],["formControlName","description","rows","2",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],[1,"flex","flex-col","space-y-2"],["cdkDragHandle","",1,"drag-handle"],[1,"fas","fa-grip-vertical"],["type","button",1,"p-2","text-gray-500","hover:text-gray-700","disabled:opacity-50",3,"disabled","click"],[1,"fas","fa-arrow-up"],[1,"fas","fa-arrow-down"],["type","button",1,"p-2","text-red-500","hover:text-red-700",3,"click"],[1,"fas","fa-trash"],[1,"mt-2","text-sm","text-gray-500"],[1,"session-item",3,"formGroupName"],["type","date","formControlName","startDate",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],["type","date","formControlName","endDate",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],[1,"mt-2","flex","justify-end"],["type","button",1,"text-red-500","hover:text-red-700",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Create New Formation"),t.qZA(),t.TgZ(6,"p",5),t._uU(7,"Fill in the details below to create a new training formation"),t.qZA()(),t.TgZ(8,"div",6)(9,"form",7),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(10,"div",8)(11,"h2",9),t._uU(12,"Basic Information"),t.qZA(),t.TgZ(13,"div",10)(14,"div")(15,"label",11),t._uU(16,"Title"),t.qZA(),t._UZ(17,"input",12),t.qZA(),t.TgZ(18,"div")(19,"label",11),t._uU(20,"Description"),t.qZA(),t._UZ(21,"textarea",13),t.qZA(),t.TgZ(22,"div")(23,"label",11),t._uU(24,"Content"),t.qZA(),t._UZ(25,"textarea",14),t.qZA()()(),t.TgZ(26,"div",8)(27,"h2",9),t._uU(28,"Category"),t.qZA(),t.TgZ(29,"div",15),t.YNc(30,ci,8,4,"div",16),t.qZA()(),t.TgZ(31,"div",8)(32,"h2",9),t._uU(33,"Target Groups"),t.qZA(),t.TgZ(34,"div",15),t.YNc(35,hi,9,5,"div",17),t.qZA()(),t.TgZ(36,"div",8)(37,"div",18)(38,"h2",19),t._uU(39,"Modules"),t.qZA(),t.TgZ(40,"button",20),t.NdJ("click",function(){return o.addModule()}),t._UZ(41,"i",21),t._uU(42," Add Module "),t.qZA()(),t.TgZ(43,"div",22),t.NdJ("cdkDropListDropped",function(s){return o.dropModule(s)}),t.YNc(44,ui,23,4,"div",23),t.qZA()(),t.TgZ(45,"div",8)(46,"div",18)(47,"h2",19),t._uU(48,"Sessions"),t.qZA(),t.TgZ(49,"button",20),t.NdJ("click",function(){return o.addSession()}),t._UZ(50,"i",21),t._uU(51," Add Session "),t.qZA()(),t.TgZ(52,"div",24),t.YNc(53,pi,17,1,"div",25),t.qZA()(),t.TgZ(54,"div",26)(55,"button",27),t._uU(56," Create Formation "),t.qZA()()()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.formationForm),t.xp6(21),t.Q6J("ngForOf",o.categories),t.xp6(5),t.Q6J("ngForOf",o.groups),t.xp6(9),t.Q6J("ngForOf",o.modules.controls),t.xp6(9),t.Q6J("ngForOf",o.sessions.controls),t.xp6(2),t.Q6J("disabled",o.formationForm.invalid))},dependencies:[g.sg,g.O5,c._Y,c.Fj,c._,c.JJ,c.JL,c.sg,c.u,c.x0,c.CE],styles:[".group-checkbox[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]{position:absolute;opacity:0;height:0;width:0;cursor:pointer}.group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]{border-color:var(--primary-color);background-color:rgba(var(--primary-color-rgb),.05)}.group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1);color:var(--primary-color)}.group-label[_ngcontent-%COMP%], .category-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;border:2px solid #e5e7eb;border-radius:.5rem;transition:all .2s ease;cursor:pointer}.group-label[_ngcontent-%COMP%]:hover, .category-label[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);background-color:rgba(var(--primary-color-rgb),.02)}.group-content[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]{flex:1}.group-name[_ngcontent-%COMP%], .category-name[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#111827}.group-description[_ngcontent-%COMP%], .category-description[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#6b7280;margin-top:.25rem}.group-icon[_ngcontent-%COMP%], .category-icon[_ngcontent-%COMP%]{margin-left:1rem;opacity:0;transform:scale(.8);transition:all .2s ease;color:var(--primary-color)}[_ngcontent-%COMP%]:root{--primary-color: #3b82f6;--primary-color-rgb: 59, 130, 246}@keyframes shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}.shimmer[_ngcontent-%COMP%]{overflow:hidden;position:relative}.shimmer-bg[_ngcontent-%COMP%]{animation:shimmer 2s infinite linear;background:linear-gradient(to right,#f6f7f8 8%,#edeef1 18%,#f6f7f8 33%);background-size:1000px 100%;position:relative}.module-item[_ngcontent-%COMP%]{border-radius:var(--radius);border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}.module-item[_ngcontent-%COMP%]:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.module-item[_ngcontent-%COMP%]{cursor:move;position:relative}.module-item.dragging[_ngcontent-%COMP%]{opacity:.5;background-color:#f3f4f6}.module-item[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#9ca3af;cursor:move}.module-item[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:hover{color:#4f46e5}.module-item[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.module-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:calc(var(--radius) - 2px);padding:.5rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}.module-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.module-item[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}.group-item[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.group-checkbox[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;cursor:pointer;opacity:0}.group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]{border-color:hsl(var(--primary));background-color:hsl(var(--primary) / .05)}.group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));color:hsl(var(--primary));opacity:1}.group-label[_ngcontent-%COMP%], .category-label[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center;border-radius:var(--radius);border-width:2px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding:1rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}.group-label[_ngcontent-%COMP%]:hover, .category-label[_ngcontent-%COMP%]:hover{border-color:hsl(var(--primary));background-color:hsl(var(--primary) / .05)}.group-content[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]{flex:1 1 0%}.group-name[_ngcontent-%COMP%], .category-name[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.group-description[_ngcontent-%COMP%], .category-description[_ngcontent-%COMP%]{margin-top:.25rem;display:block;font-size:.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.group-icon[_ngcontent-%COMP%], .category-icon[_ngcontent-%COMP%]{margin-left:.5rem;--tw-scale-x: .9;--tw-scale-y: .9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));color:hsl(var(--primary));opacity:0;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin-top:.25rem;display:block;width:100%;border-radius:calc(var(--radius) - 2px);--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:hsl(var(--primary));--tw-ring-color: hsl(var(--primary))}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin-top:.25rem;display:block;width:100%;border-radius:var(--radius);--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:hsl(var(--primary));--tw-ring-color: hsl(var(--primary))}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.75rem 1rem;background-color:#f9fafb;transition:all .2s ease}input[type=text][_ngcontent-%COMP%]:hover, textarea[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{background-color:#fff;box-shadow:0 0 0 3px #4f46e51a}.category-item[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.category-radio[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.category-radio[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]{border-color:#4f46e5;background-color:#f3f4f6}.category-radio[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.category-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;border:2px solid #e5e7eb;border-radius:.5rem;cursor:pointer;transition:all .2s ease}.category-label[_ngcontent-%COMP%]:hover{border-color:#4f46e5;background-color:#f3f4f6}.category-content[_ngcontent-%COMP%]{flex:1}.category-name[_ngcontent-%COMP%]{font-weight:500;color:#374151}.category-icon[_ngcontent-%COMP%]{opacity:0;transform:scale(0);transition:all .2s ease;color:#4f46e5}"]}),n})()},{path:"employees",component:ze},{path:"sessions",component:oi},{path:"settings",component:ni},{path:"test",component:ri}];let fi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Z.Bz.forChild(gi),Z.Bz]}),n})();var mi=f(4466);let _i=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,fi,c.UX,De,c.u5,mi.m]}),n})()}}]);