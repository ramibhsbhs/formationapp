"use strict";(self.webpackChunkformationApp=self.webpackChunkformationApp||[]).push([[124],{8124:(Le,y,d)=>{d.r(y),d.d(y,{AdminModule:()=>Ge});var c=d(6895),m=d(1174),e=d(1571);let M=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"home works!"),e.qZA())}}),o})();const v=["Technical Training","Soft Skills","Leadership","Compliance","Project Management","Customer Service","Sales Training","Safety Training"];var u=d(5412),i=d(433),f=d(2340),h=d(529);let x=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${f.N.baseUrl}/formation`}createFormation(t){return this.http.post(this.apiUrl,t)}getFormations(){return this.http.get(this.apiUrl)}getFormation(t){return this.http.get(`${this.apiUrl}/${t}`)}updateFormation(t,n){return this.http.put(`${this.apiUrl}/${t}`,n)}deleteFormation(t){return this.http.delete(`${this.apiUrl}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var C=d(4004);let w=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${f.N.baseUrl}/session`}getAll(){return this.http.get(this.apiUrl).pipe((0,C.U)(t=>t.map(n=>({...n,startDate:new Date(n.startDate),endDate:new Date(n.endDate),status:this.getSessionStatus(n)}))))}createSession(t){return this.http.post(this.apiUrl,t).pipe((0,C.U)(n=>({...n,startDate:new Date(n.startDate),endDate:new Date(n.endDate),status:this.getSessionStatus(n)})))}getSessionStatus(t){const n=new Date,r=new Date(t.startDate);return n>new Date(t.endDate)?"Termin\xe9e":n<r?"Pas encore":"En cours"}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function O(o,a){1&o&&(e.TgZ(0,"div",22),e._uU(1," Title is required "),e.qZA())}function k(o,a){if(1&o&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.title," ")}}function q(o,a){1&o&&(e.O4$(),e.kcU(),e.TgZ(0,"div",22),e._uU(1," Formation is required "),e.qZA())}function A(o,a){1&o&&(e.TgZ(0,"div",22),e._uU(1," Start date is required "),e.qZA())}function P(o,a){1&o&&(e.TgZ(0,"div",22),e._uU(1," End date is required "),e.qZA())}function U(o,a){1&o&&e._UZ(0,"i",24)}let Z=(()=>{class o{constructor(t,n,r){this.dialogRef=t,this.data=n,this.fb=r,this.formations=[],this.isLoading=!1,this.formationsService=(0,e.f3M)(x),this.sessionsService=(0,e.f3M)(w),this.sessionForm=this.fb.group({title:["",i.kI.required],startDate:["",i.kI.required],endDate:["",i.kI.required],formationId:[n.formationId?.toString()??"",i.kI.required]})}ngOnInit(){this.formationsService.getFormations().subscribe({next:t=>{this.formations=t},error:t=>{console.log(t),this.dialogRef.close()}})}onNoClick(){this.dialogRef.close()}onSubmit(){this.sessionForm.valid&&(this.isLoading=!0,this.sessionsService.createSession(this.sessionForm.value).subscribe({next:t=>{this.dialogRef.close(t),this.isLoading=!1},error:t=>{console.log(t),this.isLoading=!1,this.dialogRef.close()}}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.so),e.Y36(u.WI),e.Y36(i.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-session-popup"]],decls:39,vars:9,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","p-6","w-full","max-w-md"],[1,"text-xl","font-semibold","text-gray-800","mb-4"],[1,"space-y-4",3,"formGroup"],[1,"space-y-2"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","formControlName","title","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-gray-50","text-gray-900","placeholder-gray-400"],["class","text-red-500 text-sm",4,"ngIf"],[1,"relative"],["formControlName","formationId","required",""],["value","","disabled","","selected","",1,"text-gray-400"],["class","text-gray-900",3,"value",4,"ngFor","ngForOf"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","px-2","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","h-4","w-4"],["d","M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"],[1,"grid","grid-cols-2","gap-4"],["type","date","formControlName","startDate","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-gray-50","text-gray-900"],["type","date","formControlName","endDate","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-gray-50","text-gray-900"],[1,"flex","justify-end","space-x-3","mt-6"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-blue-500","disabled:cursor-not-allowed",3,"disabled","click"],["class","fa-solid fa-spinner animate-spin",4,"ngIf"],[1,"text-red-500","text-sm"],[1,"text-gray-900",3,"value"],[1,"fa-solid","fa-spinner","animate-spin"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Create New Session"),e.qZA(),e.TgZ(4,"form",3)(5,"div",4)(6,"label",5),e._uU(7,"Title"),e.qZA(),e._UZ(8,"input",6),e.YNc(9,O,2,0,"div",7),e.qZA(),e.TgZ(10,"div",4)(11,"label",5),e._uU(12,"Formation"),e.qZA(),e.TgZ(13,"div",8)(14,"select",9)(15,"option",10),e._uU(16,"Select a formation"),e.qZA(),e.YNc(17,k,2,2,"option",11),e.qZA(),e.TgZ(18,"div",12),e.O4$(),e.TgZ(19,"svg",13),e._UZ(20,"path",14),e.qZA()()(),e.YNc(21,q,2,0,"div",7),e.qZA(),e.kcU(),e.TgZ(22,"div",15)(23,"div",4)(24,"label",5),e._uU(25,"Start Date"),e.qZA(),e._UZ(26,"input",16),e.YNc(27,A,2,0,"div",7),e.qZA(),e.TgZ(28,"div",4)(29,"label",5),e._uU(30,"End Date"),e.qZA(),e._UZ(31,"input",17),e.YNc(32,P,2,0,"div",7),e.qZA()()(),e.TgZ(33,"div",18)(34,"button",19),e.NdJ("click",function(){return n.onNoClick()}),e._uU(35," Cancel "),e.qZA(),e.TgZ(36,"button",20),e.NdJ("click",function(){return n.onSubmit()}),e._uU(37),e.YNc(38,U,1,0,"i",21),e.qZA()()()()),2&t){let r,s,l,p;e.xp6(4),e.Q6J("formGroup",n.sessionForm),e.xp6(5),e.Q6J("ngIf",(null==(r=n.sessionForm.get("title"))?null:r.invalid)&&(null==(r=n.sessionForm.get("title"))?null:r.touched)),e.xp6(8),e.Q6J("ngForOf",n.formations),e.xp6(4),e.Q6J("ngIf",(null==(s=n.sessionForm.get("formationId"))?null:s.invalid)&&(null==(s=n.sessionForm.get("formationId"))?null:s.touched)),e.xp6(6),e.Q6J("ngIf",(null==(l=n.sessionForm.get("startDate"))?null:l.invalid)&&(null==(l=n.sessionForm.get("startDate"))?null:l.touched)),e.xp6(5),e.Q6J("ngIf",(null==(p=n.sessionForm.get("endDate"))?null:p.invalid)&&(null==(p=n.sessionForm.get("endDate"))?null:p.touched)),e.xp6(4),e.Q6J("disabled",!n.sessionForm.valid||n.isLoading),e.xp6(1),e.hij(" ",n.isLoading?"Loading...":"Create Session"," "),e.xp6(1),e.Q6J("ngIf",n.isLoading)}},dependencies:[c.sg,c.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.Q7,i.sg,i.u],styles:["[_nghost-%COMP%]{display:block}.popup-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:all .2s ease-in-out;background-color:#f9fafb;border-color:#e5e7eb;color:#111827}input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background-color:#f3f4f6}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;background-color:#fff;box-shadow:0 0 0 2px #3b82f680}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;color:#9ca3af;cursor:not-allowed}input[_ngcontent-%COMP%]::placeholder, select[_ngcontent-%COMP%]::placeholder{color:#9ca3af}select[_ngcontent-%COMP%]{background-image:none;appearance:none;cursor:pointer}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem;background-color:#fff}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:disabled{color:#9ca3af}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer;opacity:.7}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator:hover{opacity:1}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem;margin-top:.25rem}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f680}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}  .mat-mdc-dialog-container{--mdc-dialog-container-color: white}  .mat-mdc-form-field{width:100%}  .mat-mdc-form-field-subscript-wrapper{display:none}  .mat-mdc-form-field-infix{padding-top:8px!important;padding-bottom:8px!important}  .mat-mdc-text-field-wrapper{background-color:#fff!important}  .mat-mdc-form-field-flex{background-color:#fff!important}  .mat-mdc-form-field-outline{color:#e5e7eb!important}  .mat-mdc-form-field-outline-thick{color:#3b82f6!important}  .mat-mdc-form-field:hover .mat-mdc-form-field-outline{color:#d1d5db!important}  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-outline-thick{color:#3b82f6!important}  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-label{color:#3b82f6!important}  .mat-mdc-form-field-error{color:#ef4444!important}  .mat-mdc-raised-button{--mdc-protected-button-container-color: #3b82f6;--mdc-protected-button-label-text-color: white}  .mat-mdc-raised-button:hover{--mdc-protected-button-container-color: #2563eb}  .mat-mdc-raised-button:disabled{--mdc-protected-button-container-color: #93c5fd;--mdc-protected-button-label-text-color: white}"]}),o})(),F=(()=>{class o{constructor(){this.edit=new e.vpe,this.delete=new e.vpe,this.addSession=new e.vpe,this.usersCount=0}ngOnInit(){this.training.groups.forEach(t=>{this.usersCount+=t.users?.length||0})}getCategoryColor(t){switch(t){case"technical":return"bg-blue-100 text-blue-800";case"safety":return"bg-red-100 text-red-800";case"quality":return"bg-green-100 text-green-800";case"management":return"bg-purple-100 text-purple-800";case"communication":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}getCategoryLabel(t){switch(t){case"technical":return"Technique";case"safety":return"S\xe9curit\xe9";case"quality":return"Qualit\xe9";case"management":return"Management";case"communication":return"Communication";default:return t}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-training-card"]],inputs:{training:"training"},outputs:{edit:"edit",delete:"delete",addSession:"addSession"},decls:32,vars:7,consts:[[1,"bg-white","rounded-lg","shadow-md","overflow-hidden","border","border-gray-200","hover:shadow-lg","transition-shadow"],[1,"p-4"],[1,"flex","justify-between","items-start","mb-3"],[1,"font-semibold","text-gray-800","text-lg"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"text-gray-600","text-sm","mb-4","line-clamp-2","line-coverage"],[1,"grid","grid-cols-2","gap-2","mb-3"],[1,"flex","items-center","text-gray-600","text-sm"],[1,"fa-solid","fa-clock","w-4","h-4","mr-2","text-gray-400"],[1,"fa-solid","fa-calendar","text-gray-300","mr-2"],[1,"fa-solid","fa-users","mr-2","text-gray-400"],[1,"px-4","py-3","bg-gray-50","border-t","border-gray-200","flex","justify-between"],[1,"text-primary","text-sm","font-medium","flex","items-center","hover:text-primary-dark",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],[1,"flex","space-x-2"],[1,"text-gray-600","hover:text-gray-900",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["d","M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"],["fill-rule","evenodd","d","M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule","evenodd"],[1,"text-gray-600","hover:text-red-600",3,"click"],["fill-rule","evenodd","d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule","evenodd"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.qZA()(),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6)(10,"div",7),e._UZ(11,"i",8),e._uU(12),e.qZA(),e.TgZ(13,"div",7),e._UZ(14,"i",9),e._uU(15),e.qZA(),e.TgZ(16,"div",7),e._UZ(17,"i",10),e._uU(18),e.qZA()()(),e.TgZ(19,"div",11)(20,"button",12),e.NdJ("click",function(){return n.addSession.emit(n.training.id)}),e.O4$(),e.TgZ(21,"svg",13),e._UZ(22,"path",14),e.qZA(),e._uU(23," Session "),e.qZA(),e.kcU(),e.TgZ(24,"div",15)(25,"button",16),e.NdJ("click",function(){return n.edit.emit(n.training.id)}),e.O4$(),e.TgZ(26,"svg",17),e._UZ(27,"path",18)(28,"path",19),e.qZA()(),e.kcU(),e.TgZ(29,"button",20),e.NdJ("click",function(){return n.delete.emit(n.training.id)}),e.O4$(),e.TgZ(30,"svg",17),e._UZ(31,"path",21),e.qZA()()()()()),2&t&&(e.xp6(4),e.Oqu(n.training.title),e.xp6(1),e.Q6J("ngClass",n.getCategoryColor(n.training.category)),e.xp6(1),e.hij(" ",n.getCategoryLabel(n.training.category)," "),e.xp6(2),e.hij(" ",n.training.description," "),e.xp6(4),e.hij(" ",n.training.groups.length," groupes "),e.xp6(3),e.hij(" ",n.training.sessions.length," sessions "),e.xp6(3),e.hij(" ",n.usersCount," participants "))},dependencies:[c.mk]}),o})();function N(o,a){1&o&&e._UZ(0,"i",11)}function I(o,a){1&o&&(e.O4$(),e.TgZ(0,"svg",12),e._UZ(1,"circle",13)(2,"path",14),e.qZA())}function J(o,a){if(1&o&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function S(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-training-card",32),e.NdJ("edit",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleEditTraining(r))})("delete",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleDeleteTraining(r))})("addSession",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleAddSession(r))}),e.qZA()()}if(2&o){const t=a.$implicit;e.xp6(1),e.Q6J("training",t)}}function Q(o,a){1&o&&(e.TgZ(0,"div",33)(1,"p",34),e._uU(2,"Aucune formation ne correspond \xe0 votre recherche."),e.qZA()())}function z(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),e.O4$(),e.TgZ(4,"svg",19),e._UZ(5,"path",20),e.qZA()(),e.kcU(),e.TgZ(6,"input",21),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.searchTerm=r)})("input",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onSearch(r))}),e.qZA()(),e.TgZ(7,"div",22)(8,"div",18),e.O4$(),e.TgZ(9,"svg",19),e._UZ(10,"path",23),e.qZA()(),e.kcU(),e.TgZ(11,"select",24),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.filterCategory=r)})("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onFilterCategory(r))}),e.TgZ(12,"option",25),e._uU(13,"Toutes les cat\xe9gories"),e.qZA(),e.YNc(14,J,2,2,"option",26),e.qZA()()(),e.TgZ(15,"div",27),e.YNc(16,S,2,1,"div",28),e.qZA(),e.YNc(17,Q,3,0,"div",29),e.qZA()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.searchTerm),e.xp6(5),e.Q6J("ngModel",t.filterCategory),e.xp6(3),e.Q6J("ngForOf",t.categories),e.xp6(2),e.Q6J("ngForOf",t.filteredTrainings),e.xp6(1),e.Q6J("ngIf",0===t.filteredTrainings.length&&!t.isLoading)}}let E=(()=>{class o{constructor(t,n){this.formationService=t,this.dialog=n,this.categories=v,this.trainings=[],this.searchTerm="",this.isFormOpen=!1,this.currentTraining=null,this.filterCategory="",this.isLoading=!1}get filteredTrainings(){return this.trainings.filter(t=>t.title.toLowerCase().includes(this.searchTerm.toLowerCase())&&(""===this.filterCategory||t.category===this.filterCategory))}onSearch(t){this.searchTerm=t.target.value}onFilterCategory(t){this.filterCategory=t.target.value}handleEditTraining(t){}handleDeleteTraining(t){}handleAddSession(t){this.dialog.open(Z,{data:{formationId:t}}).afterClosed().subscribe(r=>{r&&this.fetchFormations()})}ngOnInit(){this.fetchFormations()}fetchFormations(){this.isLoading=!0,this.formationService.getFormations().subscribe(t=>{this.trainings=t,this.isLoading=!1},t=>{this.isLoading=!1,console.error("Erreur lors de la r\xe9cup\xe9ration des formations",t)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x),e.Y36(u.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-training"]],decls:15,vars:6,consts:[[1,"animate-fade-in","container","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"flex","gap-3"],[1,"px-4","py-2","bg-gray-100","text-gray-700","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-gray-200","transition-colors","flex","items-center","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled","click"],["class","fa-solid fa-rotate-right mr-2",4,"ngIf"],["class","animate-spin h-4 w-4 mr-2","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"px-4","py-2","bg-primary","text-white","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-primary-dark","flex","items-center","space-x-2","transition-colors",3,"routerLink"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],["class","space-y-6",4,"ngIf"],[1,"fa-solid","fa-rotate-right","mr-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4","mr-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"space-y-6"],[1,"flex","flex-col","md:flex-row","space-y-3","md:space-y-0","md:space-x-4"],[1,"relative","flex-grow"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["type","text","placeholder","Rechercher une formation...",1,"pl-10","w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent",3,"ngModel","ngModelChange","input"],[1,"relative"],["fill-rule","evenodd","d","M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3.586L3.293 6.707A1 1 0 013 6V3z","clip-rule","evenodd"],[1,"h-full","w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","appearance-none","bg-gray-50","text-gray-900","pr-10",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","col-span-1",4,"ngFor","ngForOf"],["class","text-center py-10",4,"ngIf"],[3,"value"],[1,"col-span-1"],[3,"training","edit","delete","addSession"],[1,"text-center","py-10"],[1,"text-gray-500","text-lg"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Gestion des formations"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return n.fetchFormations()}),e.YNc(6,N,1,0,"i",5),e.YNc(7,I,3,0,"svg",6),e._uU(8),e.qZA(),e.TgZ(9,"button",7),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA(),e.kcU(),e.TgZ(12,"span"),e._uU(13,"Nouvelle formation"),e.qZA()()()(),e.YNc(14,z,18,5,"div",10),e.qZA()),2&t&&(e.xp6(5),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.hij(" ",n.isLoading?"Actualisation...":"Actualiser"," "),e.xp6(1),e.Q6J("routerLink","create"),e.xp6(5),e.Q6J("ngIf",!n.isFormOpen))},dependencies:[c.sg,c.O5,m.rH,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.On,F],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.primary[_ngcontent-%COMP%]{background-color:#4a90e2}.primary-dark[_ngcontent-%COMP%]{background-color:#357abd}.form-input[_ngcontent-%COMP%]{width:100%;border-radius:var(--radius);border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.75rem}.form-input[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: hsl(var(--primary))}"]}),o})(),_=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${f.N.baseUrl}/group`}getGroups(){return this.http.get(this.apiUrl)}getGroup(t){return this.http.get(`${this.apiUrl}/${t}`)}createGroup(t){return this.http.post(this.apiUrl,t)}createUser(t){return this.http.post(`${f.N.baseUrl}/users/create-user`,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function G(o,a){1&o&&(e.TgZ(0,"div",19),e._uU(1," This field is required "),e.qZA())}function L(o,a){1&o&&(e.O4$(),e.TgZ(0,"svg",20),e._UZ(1,"circle",21)(2,"path",22),e.qZA())}const D=function(o){return{"border-red-300 focus:ring-red-500 focus:border-red-500":o}};let Y=(()=>{class o{constructor(t,n,r){this.dialogRef=t,this.fb=n,this.data=r,this.groupService=(0,e.f3M)(_),this.isLoading=!1}ngOnInit(){this.form=this.fb.group({name:["",i.kI.required]})}onSubmit(){console.log(this.form.value,this.form.valid),this.form.valid&&(this.isLoading=!0,this.groupService.createGroup(this.form.value).subscribe({next:t=>{this.dialogRef.close(t)},error:t=>{console.error(t)},complete:()=>{this.isLoading=!1}}))}onCancel(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.so),e.Y36(i.qu),e.Y36(u.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-group-dialog"]],decls:24,vars:8,consts:[[1,"bg-white","rounded-lg","shadow-xl","max-w-4xl","w-full","mx-auto"],[1,"px-8","py-5","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-500","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-8"],[3,"formGroup","ngSubmit"],[1,"space-y-8"],[1,"grid","grid-cols-1","gap-6"],["for","name",1,"block","text-base","font-medium","text-gray-700","mb-2"],[1,"mt-1"],["type","text","id","name","formControlName","name","placeholder","Enter group name",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-md","shadow-sm","focus:ring-2","focus:ring-primary","focus:border-primary","text-black",3,"ngClass"],["class","mt-2 text-sm text-red-600",4,"ngIf"],[1,"mt-8","flex","justify-end","space-x-4"],["type","button",1,"inline-flex","justify-center","px-6","py-3","text-base","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary",3,"click"],["type","submit",1,"inline-flex","justify-center","px-6","py-3","text-base","font-medium","text-white","bg-primary","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"mt-2","text-sm","text-red-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Create New Group"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.onCancel()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6),e.qZA()()()(),e.kcU(),e.TgZ(8,"div",7)(9,"form",8),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(10,"div",9)(11,"div",10)(12,"div")(13,"label",11),e._uU(14,"Group Name"),e.qZA(),e.TgZ(15,"div",12),e._UZ(16,"input",13),e.YNc(17,G,2,0,"div",14),e.qZA()()()(),e.TgZ(18,"div",15)(19,"button",16),e.NdJ("click",function(){return n.onCancel()}),e._uU(20," Cancel "),e.qZA(),e.TgZ(21,"button",17),e.YNc(22,L,3,0,"svg",18),e._uU(23),e.qZA()()()()()),2&t){let r,s;e.xp6(9),e.Q6J("formGroup",n.form),e.xp6(7),e.Q6J("ngClass",e.VKq(6,D,(null==(r=n.form.get("name"))?null:r.invalid)&&(null==(r=n.form.get("name"))?null:r.touched))),e.xp6(1),e.Q6J("ngIf",(null==(s=n.form.get("name"))?null:s.invalid)&&(null==(s=n.form.get("name"))?null:s.touched)),e.xp6(4),e.Q6J("disabled",!n.form.valid||n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.hij(" ",n.isLoading?"Creating...":"Create Group"," ")}},dependencies:[c.mk,c.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["[_nghost-%COMP%]{display:block}.mat-dialog-container[_ngcontent-%COMP%]{padding:0!important;border-radius:.5rem;overflow:hidden}input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #6366f133}.transform[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:spin 1s linear infinite}.form-checkbox[_ngcontent-%COMP%]{border-color:#d1d5db;border-radius:.25rem;transition:all .2s ease-in-out}.form-checkbox[_ngcontent-%COMP%]:checked{background-color:#2563eb;border-color:#2563eb}.form-checkbox[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #2563eb1a}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{transition:all .2s ease-in-out}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #2563eb1a}input[type=text].border-red-500[_ngcontent-%COMP%], textarea.border-red-500[_ngcontent-%COMP%]{border-color:#ef4444}input[type=text].border-red-500[_ngcontent-%COMP%]:focus, textarea.border-red-500[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}"]}),o})();var g=(()=>{return(o=g||(g={})).Administrator="Administrator",o.HierarchicalLeader="HierarchicalLeader",o.TeamLeader="TeamLeader",o.PostLeader="PostLeader",o.QualityAgent="QualityAgent",o.Manager="Manager",o.Employee="Employee",g;var o})();const j=[g.Administrator,g.HierarchicalLeader,g.TeamLeader,g.PostLeader,g.QualityAgent,g.Manager,g.Employee];function $(o,a){if(1&o&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.getErrorMessage("userName")," ")}}function H(o,a){if(1&o&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.getErrorMessage("email")," ")}}function R(o,a){if(1&o&&(e.TgZ(0,"div",21),e._UZ(1,"input",33),e.TgZ(2,"label",34),e._uU(3),e.qZA()()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("value",t)("id","role-"+t),e.xp6(1),e.Q6J("for","role-"+t),e.xp6(1),e.hij(" ",t," ")}}function V(o,a){if(1&o&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.getErrorMessage("role")," ")}}function B(o,a){1&o&&(e.O4$(),e.TgZ(0,"svg",35),e._UZ(1,"circle",36)(2,"path",37),e.qZA())}const T=function(o){return{"border-red-300 focus:ring-red-500 focus:border-red-500":o}};let K=(()=>{class o{constructor(t,n,r,s){this.dialogRef=t,this.fb=n,this.groupService=r,this.data=s,this.isLoading=!1,this.roles=j,this.UserRole=g}ngOnInit(){this.form=this.fb.group({userName:["",[i.kI.required,i.kI.minLength(3)]],email:["",[i.kI.required,i.kI.email]],role:["",i.kI.required],groupId:[this.data.selectedGroup?.id,i.kI.required]})}onSubmit(){if(this.form.valid){this.isLoading=!0;const t=this.form.value;this.groupService.createUser({username:t.userName,email:t.email,role:t.role,groupId:this.data.selectedGroup.id}).subscribe({next:r=>{this.isLoading=!1,this.dialogRef.close(r)},error:r=>{this.isLoading=!1,console.error("Error creating user:",r)}})}}onCancel(){this.dialogRef.close()}getErrorMessage(t){const n=this.form.get(t);if(!n?.errors)return"";const r=n.errors;return r.required?"This field is required":r.email?"Invalid email address":r.minlength?`Minimum length is ${r.minlength.requiredLength} characters`:"Invalid value"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.so),e.Y36(i.qu),e.Y36(_),e.Y36(u.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-user-dialog"]],decls:46,vars:15,consts:[[1,"bg-white","rounded-lg","shadow-xl","max-w-4xl","w-full","mx-auto"],[1,"px-8","py-5","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-500","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-8"],[3,"formGroup","ngSubmit"],[1,"space-y-6"],["for","userName",1,"block","text-base","font-medium","text-gray-700","mb-2"],[1,"mt-1"],["type","text","id","userName","formControlName","userName","placeholder","Enter username",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-md","shadow-sm","focus:ring-2","focus:ring-primary","focus:border-primary","text-black",3,"ngClass"],["class","mt-2 text-sm text-red-600",4,"ngIf"],["for","email",1,"block","text-base","font-medium","text-gray-700","mb-2"],["type","email","id","email","formControlName","email","placeholder","Enter email",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-md","shadow-sm","focus:ring-2","focus:ring-primary","focus:border-primary","text-black",3,"ngClass"],[1,"block","text-base","font-medium","text-gray-700","mb-2"],[1,"mt-1","space-y-2"],[1,"grid","grid-cols-2","gap-4"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"bg-gray-50","p-4","rounded-lg"],[1,"flex","items-center"],[1,"flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"mt-8","flex","justify-end","space-x-4"],["type","button",1,"inline-flex","justify-center","px-6","py-3","text-base","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary",3,"click"],["type","submit",1,"inline-flex","justify-center","px-6","py-3","text-base","font-medium","text-white","bg-primary","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"mt-2","text-sm","text-red-600"],["type","radio","formControlName","role",1,"h-4","w-4","text-primary","border-gray-300","focus:ring-primary",3,"value","id"],[1,"ml-2","text-gray-700",3,"for"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Create New User"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.onCancel()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6),e.qZA()()()(),e.kcU(),e.TgZ(8,"div",7)(9,"form",8),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(10,"div",9)(11,"div")(12,"label",10),e._uU(13,"Username"),e.qZA(),e.TgZ(14,"div",11),e._UZ(15,"input",12),e.YNc(16,$,2,1,"div",13),e.qZA()(),e.TgZ(17,"div")(18,"label",14),e._uU(19,"Email"),e.qZA(),e.TgZ(20,"div",11),e._UZ(21,"input",15),e.YNc(22,H,2,1,"div",13),e.qZA()(),e.TgZ(23,"div")(24,"label",16),e._uU(25,"Role"),e.qZA(),e.TgZ(26,"div",17)(27,"div",18),e.YNc(28,R,4,4,"div",19),e.qZA(),e.YNc(29,V,2,1,"div",13),e.qZA()(),e.TgZ(30,"div",20)(31,"div",21)(32,"div",22),e.O4$(),e.TgZ(33,"svg",23),e._UZ(34,"path",24),e.qZA()(),e.kcU(),e.TgZ(35,"div",25)(36,"h3",26),e._uU(37,"Selected Group"),e.qZA(),e.TgZ(38,"p",27),e._uU(39),e.qZA()()()()(),e.TgZ(40,"div",28)(41,"button",29),e.NdJ("click",function(){return n.onCancel()}),e._uU(42," Cancel "),e.qZA(),e.TgZ(43,"button",30),e.YNc(44,B,3,0,"svg",31),e._uU(45),e.qZA()()()()()),2&t){let r,s,l,p,b;e.xp6(9),e.Q6J("formGroup",n.form),e.xp6(6),e.Q6J("ngClass",e.VKq(11,T,(null==(r=n.form.get("userName"))?null:r.invalid)&&(null==(r=n.form.get("userName"))?null:r.touched))),e.xp6(1),e.Q6J("ngIf",(null==(s=n.form.get("userName"))?null:s.invalid)&&(null==(s=n.form.get("userName"))?null:s.touched)),e.xp6(5),e.Q6J("ngClass",e.VKq(13,T,(null==(l=n.form.get("email"))?null:l.invalid)&&(null==(l=n.form.get("email"))?null:l.touched))),e.xp6(1),e.Q6J("ngIf",(null==(p=n.form.get("email"))?null:p.invalid)&&(null==(p=n.form.get("email"))?null:p.touched)),e.xp6(6),e.Q6J("ngForOf",n.roles),e.xp6(1),e.Q6J("ngIf",(null==(b=n.form.get("role"))?null:b.invalid)&&(null==(b=n.form.get("role"))?null:b.touched)),e.xp6(10),e.Oqu(n.data.selectedGroup.name||"No group selected"),e.xp6(4),e.Q6J("disabled",!n.form.valid||n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.hij(" ",n.isLoading?"Creating...":"Create User"," ")}},dependencies:[c.mk,c.sg,c.O5,i._Y,i.Fj,i._,i.JJ,i.JL,i.sg,i.u],styles:["[_nghost-%COMP%]{display:block}.mat-dialog-container[_ngcontent-%COMP%]{padding:0!important;border-radius:.5rem;overflow:hidden}.form-checkbox[_ngcontent-%COMP%]{height:1rem;width:1rem;border-radius:.25rem;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));color:hsl(var(--primary));transition:all .2s ease-in-out}.form-checkbox[_ngcontent-%COMP%]:checked{border-color:hsl(var(--primary));background-color:hsl(var(--primary))}.form-checkbox[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: hsl(var(--primary));--tw-ring-opacity: .5}input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px rgba(var(--primary-rgb),.2)}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:spin 1s linear infinite}"]}),o})();function X(o,a){1&o&&(e.O4$(),e.kcU(),e.TgZ(0,"div",12),e._UZ(1,"div",13),e.qZA())}function W(o,a){if(1&o){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"div",14)(1,"strong",15),e._uU(2,"Error!"),e.qZA(),e.TgZ(3,"span",16),e._uU(4),e.qZA(),e.TgZ(5,"button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.fetchGroups())}),e.O4$(),e.TgZ(6,"svg",18),e._UZ(7,"path",19),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.error)}}function ee(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.selectGroup(s))}),e.TgZ(1,"div",27)(2,"h3",28),e._uU(3),e.qZA(),e.TgZ(4,"span",29),e._uU(5),e.qZA()()()}if(2&o){const t=a.$implicit,n=e.oxw(2);let r;e.ekj("bg-blue-50",(null==n.selectedGroup?null:n.selectedGroup.id)===t.id),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.hij(" ",null!==(r=t.count)&&void 0!==r?r:t.users.length," users ")}}const te=function(o,a,t,n,r,s){return{"bg-purple-100 text-purple-800":o,"bg-blue-100 text-blue-800":a,"bg-green-100 text-green-800":t,"bg-yellow-100 text-yellow-800":n,"bg-red-100 text-red-800":r,"bg-gray-100 text-gray-800":s}},oe=function(o,a,t,n,r,s){return{"bg-purple-500":o,"bg-blue-500":a,"bg-green-500":t,"bg-yellow-500":n,"bg-red-500":r,"bg-gray-500":s}};function ne(o,a){if(1&o&&(e.TgZ(0,"tr",43)(1,"td",44)(2,"div",45)(3,"div",46),e._uU(4),e.qZA(),e.TgZ(5,"div",47)(6,"div",48),e._uU(7),e.qZA()()()(),e.TgZ(8,"td",44)(9,"div",49),e._uU(10),e.qZA()(),e.TgZ(11,"td",44)(12,"span",50),e._UZ(13,"span",51),e._uU(14),e.qZA()()()),2&o){const t=a.$implicit;e.xp6(4),e.hij(" ",t.userName.charAt(0).toUpperCase()," "),e.xp6(3),e.Oqu(t.userName),e.xp6(3),e.Oqu(t.email),e.xp6(2),e.Q6J("ngClass",e.HTZ(6,te,"Administrator"===(null==t.roles?null:t.roles[0]),"Manager"===(null==t.roles?null:t.roles[0]),"TeamLeader"===(null==t.roles?null:t.roles[0]),"PostLeader"===(null==t.roles?null:t.roles[0]),"QualityAgent"===(null==t.roles?null:t.roles[0]),"Employee"===(null==t.roles?null:t.roles[0]))),e.xp6(1),e.Q6J("ngClass",e.HTZ(13,oe,"Administrator"===(null==t.roles?null:t.roles[0]),"Manager"===(null==t.roles?null:t.roles[0]),"TeamLeader"===(null==t.roles?null:t.roles[0]),"PostLeader"===(null==t.roles?null:t.roles[0]),"QualityAgent"===(null==t.roles?null:t.roles[0]),"Employee"===(null==t.roles?null:t.roles[0]))),e.xp6(1),e.hij(" ",null==t.roles?null:t.roles[0]," ")}}function re(o,a){1&o&&(e.TgZ(0,"tr")(1,"td",52)(2,"div",53),e.O4$(),e.TgZ(3,"svg",54),e._UZ(4,"path",55),e.qZA(),e.kcU(),e.TgZ(5,"p",56),e._uU(6,"No users in this group"),e.qZA()()()())}function ie(o,a){if(1&o&&(e.TgZ(0,"div",30)(1,"div",31)(2,"div",27)(3,"div")(4,"h2",2),e._uU(5),e.qZA()(),e.TgZ(6,"div",32)(7,"span",33),e._uU(8," Active "),e.qZA(),e.TgZ(9,"span",34),e._uU(10),e.qZA()()()(),e.TgZ(11,"div",35)(12,"div",36)(13,"table",37)(14,"thead",38)(15,"tr")(16,"th",39),e._uU(17," User"),e.qZA(),e.TgZ(18,"th",39),e._uU(19," Email"),e.qZA(),e.TgZ(20,"th",39),e._uU(21," Role"),e.qZA()()(),e.TgZ(22,"tbody",40),e.YNc(23,ne,15,20,"tr",41),e.YNc(24,re,7,0,"tr",42),e.qZA()()()()()),2&o){const t=e.oxw(2);e.xp6(5),e.Oqu(t.selectedGroup.name),e.xp6(5),e.hij(" ",t.selectedGroup.count," Users "),e.xp6(13),e.Q6J("ngForOf",t.selectedGroup.users),e.xp6(1),e.Q6J("ngIf",0===t.selectedGroup.users.length)}}function ae(o,a){if(1&o&&(e.O4$(),e.kcU(),e.TgZ(0,"div",20)(1,"div",21)(2,"h2",22),e._uU(3,"Groups"),e.qZA(),e.TgZ(4,"div",23),e.YNc(5,ee,6,4,"div",24),e.qZA()(),e.YNc(6,ie,25,4,"div",25),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.groups),e.xp6(1),e.Q6J("ngIf",t.selectedGroup)}}let se=(()=>{class o{constructor(t,n){this.groupService=t,this.dialog=n,this.groups=[],this.selectedGroup=null,this.showCreateUserModal=!1,this.loading=!0,this.error=null}ngOnInit(){this.fetchGroups()}fetchGroups(){this.loading=!0,this.error=null,this.groupService.getGroups().subscribe({next:t=>{this.groups=t,t.length>0&&(this.selectedGroup=t[0]),this.loading=!1},error:t=>{this.error="Failed to load groups. Please try again later.",this.loading=!1,console.error("Error fetching groups:",t)}})}selectGroup(t){this.selectedGroup=t}openCreateUserModal(){this.dialog.open(K,{data:{selectedGroup:this.selectedGroup},width:"1000px"}).afterClosed().subscribe(n=>{n&&(console.log(n),this.groups.find(r=>r.id===this.selectedGroup?.id)?.users.push(n))})}openCreateGroupModal(){this.dialog.open(Y).afterClosed().subscribe(n=>{n&&(this.groups.push(n),this.selectedGroup=n)})}createUser(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_),e.Y36(u.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-employees"]],decls:16,vars:3,consts:[[1,"container","mx-auto","p-2"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"flex","gap-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["d","M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"],[1,"px-4","py-2","bg-green-600","text-white","rounded-lg","hover:bg-green-700","transition-colors","flex","items-center","gap-2",3,"click"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-4 gap-6",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],["role","alert",1,"bg-red-50","border","border-red-200","text-red-700","px-4","py-3","rounded","relative"],[1,"font-bold"],[1,"block","sm:inline"],[1,"absolute","top-0","bottom-0","right-0","px-4","py-3",3,"click"],["role","button","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","h-6","w-6","text-red-500"],["d","M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6"],[1,"lg:col-span-1","bg-white","rounded-lg","shadow","p-4"],[1,"text-lg","font-semibold","mb-4","text-gray-700"],[1,"space-y-2"],["class","p-3 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors border border-gray-100",3,"bg-blue-50","click",4,"ngFor","ngForOf"],["class","lg:col-span-3 bg-white rounded-lg shadow",4,"ngIf"],[1,"p-3","rounded-lg","cursor-pointer","hover:bg-gray-50","transition-colors","border","border-gray-100",3,"click"],[1,"flex","justify-between","items-center"],[1,"font-medium","text-gray-800"],[1,"px-2","py-1","text-xs","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"lg:col-span-3","bg-white","rounded-lg","shadow"],[1,"p-6","border-b","border-gray-200"],[1,"flex","items-center","gap-2"],[1,"px-3","py-1","text-sm","font-semibold","rounded-full","bg-green-100","text-green-800"],[1,"px-3","py-1","text-sm","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"p-6"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"h-10","w-10","rounded-full","bg-gray-200","flex","items-center","justify-center","text-gray-600","font-semibold"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-900"],[1,"px-3","py-1.5","inline-flex","items-center","text-xs","leading-4","font-medium","rounded-full",3,"ngClass"],[1,"w-2","h-2","mr-1.5","rounded-full",3,"ngClass"],["colspan","3",1,"px-6","py-4","text-center","text-gray-500"],[1,"flex","flex-col","items-center","justify-center","py-8"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"mt-2","text-sm","font-medium","text-gray-500"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Groups Management"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return n.openCreateUserModal()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6),e.qZA(),e._uU(8," Create User "),e.qZA(),e.kcU(),e.TgZ(9,"button",7),e.NdJ("click",function(){return n.openCreateGroupModal()}),e.O4$(),e.TgZ(10,"svg",5),e._UZ(11,"path",8),e.qZA(),e._uU(12," Create Group "),e.qZA()()(),e.YNc(13,X,2,0,"div",9),e.YNc(14,W,8,1,"div",10),e.YNc(15,ae,7,2,"div",11),e.qZA()),2&t&&(e.xp6(13),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("ngIf",!n.loading&&!n.error))},dependencies:[c.mk,c.sg,c.O5],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.primary[_ngcontent-%COMP%]{background-color:#4a90e2}.primary-dark[_ngcontent-%COMP%]{background-color:#357abd}.form-input[_ngcontent-%COMP%]{width:100%;border-radius:var(--radius);border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.75rem}.form-input[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: hsl(var(--primary))}table[_ngcontent-%COMP%]{min-width:100%}table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse));--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 1.5rem}th[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));text-align:left;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}tr[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}td[_ngcontent-%COMP%]{white-space:nowrap;font-size:.875rem;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:10px}.groups-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;gap:20px}.groups-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.group-card[_ngcontent-%COMP%]{padding:15px;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;transition:all .3s ease}.group-card[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.group-card.selected[_ngcontent-%COMP%]{background-color:#e2e8f0;border-color:#94a3b8}.group-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.group-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:14px;color:#64748b}.group-details[_ngcontent-%COMP%]{padding:20px;border:1px solid #e2e8f0;border-radius:8px}.group-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:20px;font-weight:600}.users-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.user-card[_ngcontent-%COMP%]{padding:15px;border:1px solid #e2e8f0;border-radius:8px}.user-card[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.user-card[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px;color:#64748b}.roles[_ngcontent-%COMP%]{display:flex;gap:5px;margin-top:10px}.role-badge[_ngcontent-%COMP%]{padding:2px 8px;background-color:#e2e8f0;border-radius:4px;font-size:12px;color:#475569}.no-users[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#64748b}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;width:100%;max-width:500px}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:20px;font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #e2e8f0;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#94a3b8}.form-group[_ngcontent-%COMP%]   select[multiple][_ngcontent-%COMP%]{height:100px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.btn-secondary[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#475569;border:none}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cbd5e1}"]}),o})();function le(o,a){1&o&&e._UZ(0,"i",13)}function ce(o,a){1&o&&(e.O4$(),e.TgZ(0,"svg",14),e._UZ(1,"circle",15)(2,"path",16),e.qZA())}function de(o,a){1&o&&(e.TgZ(0,"span",22),e._uU(1,"\u2713"),e.qZA())}function ue(o,a){1&o&&(e.TgZ(0,"span",22),e._uU(1,"\u27f3"),e.qZA())}function ge(o,a){1&o&&(e.TgZ(0,"span",22),e._uU(1,"\u23f0"),e.qZA())}const pe=function(o,a,t){return{"text-green-500":o,"text-yellow-500":a,"text-gray-500":t}};function me(o,a){if(1&o&&(e.TgZ(0,"tr",17)(1,"td",18),e._uU(2),e.qZA(),e.TgZ(3,"td",19),e._uU(4),e.qZA(),e.TgZ(5,"td",19),e._uU(6),e.qZA(),e.TgZ(7,"td",19),e._uU(8),e.qZA(),e.TgZ(9,"td",19),e._uU(10),e.qZA(),e.TgZ(11,"td",19)(12,"span",20),e.YNc(13,de,2,0,"span",21),e.YNc(14,ue,2,0,"span",21),e.YNc(15,ge,2,0,"span",21),e._uU(16),e.qZA()()()),2&o){const t=a.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.formation.title),e.xp6(2),e.Oqu(n.formatDate(t.startDate)),e.xp6(2),e.Oqu(n.formatDate(t.endDate)),e.xp6(2),e.Q6J("ngClass",e.kEZ(10,pe,"Termin\xe9e"===t.status,"En cours"===t.status,"Pas encore"===t.status)),e.xp6(1),e.Q6J("ngIf","Termin\xe9e"===t.status),e.xp6(1),e.Q6J("ngIf","En cours"===t.status),e.xp6(1),e.Q6J("ngIf","Pas encore"===t.status),e.xp6(1),e.hij(" ",t.status," ")}}let fe=(()=>{class o{constructor(t,n,r){this.fb=t,this.sessionService=n,this.dialog=r,this._sessions=[],this.isLoading=!1}ngOnInit(){this.loadSessions()}get sessions(){return this._sessions.sort((t,n)=>t.startDate.getTime()-n.startDate.getTime())}loadSessions(){this.isLoading=!0,this.sessionService.getAll().subscribe({next:t=>{this._sessions=t,this.isLoading=!1},error:t=>{console.error("Error loading sessions:",t),this.isLoading=!1}})}reloadSessions(){this.loadSessions()}formatDate(t){return new Intl.DateTimeFormat("fr",{day:"numeric",month:"short",year:"numeric"}).format(t)}openCreateSessionDialog(){this.dialog.open(Z,{width:"500px",data:{}}).afterClosed().subscribe(n=>{n&&this.sessions.push(n)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(w),e.Y36(u.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-session"]],decls:29,vars:5,consts:[[1,"animate-fade-in","container","mx-auto","p-6"],[1,"mb-8","flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-gray-800","!mb-0"],[1,"flex","gap-3"],[1,"px-4","py-2","bg-gray-100","text-gray-700","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-gray-200","transition-colors","flex","items-center","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled","click"],["class","fa-solid fa-rotate-right mr-2",4,"ngIf"],["class","animate-spin h-4 w-4 mr-2","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"px-4","py-2","bg-primary","text-white","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-primary/90","transition-colors",3,"click"],[1,"rounded-lg","border","shadow-md"],[1,"w-full"],[1,"bg-gray-100"],[1,"py-4","px-6","text-left","text-sm","font-medium","text-gray-700"],["class","border-t",4,"ngFor","ngForOf"],[1,"fa-solid","fa-rotate-right","mr-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4","mr-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"border-t"],[1,"py-4","px-6","font-medium"],[1,"py-4","px-6"],[1,"flex","items-center",3,"ngClass"],["class","mr-2",4,"ngIf"],[1,"mr-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Sessions de formation"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return n.reloadSessions()}),e.YNc(6,le,1,0,"i",5),e.YNc(7,ce,3,0,"svg",6),e._uU(8),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return n.openCreateSessionDialog()}),e._uU(10," Ajouter une session "),e.qZA()()(),e.TgZ(11,"div",8)(12,"table",9)(13,"thead")(14,"tr",10)(15,"th",11),e._uU(16,"ID"),e.qZA(),e.TgZ(17,"th",11),e._uU(18,"Nom de la session"),e.qZA(),e.TgZ(19,"th",11),e._uU(20,"Formation"),e.qZA(),e.TgZ(21,"th",11),e._uU(22,"Date de d\xe9but"),e.qZA(),e.TgZ(23,"th",11),e._uU(24,"Date de fin"),e.qZA(),e.TgZ(25,"th",11),e._uU(26,"Statut"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,me,17,14,"tr",12),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.hij(" ",n.isLoading?"Actualisation...":"Actualiser"," "),e.xp6(20),e.Q6J("ngForOf",n.sessions))},dependencies:[c.mk,c.sg,c.O5],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.primary[_ngcontent-%COMP%]{background-color:#4a90e2}.primary-dark[_ngcontent-%COMP%]{background-color:#357abd}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 1.5rem}th[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));text-align:left;font-size:.875rem;font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}tr[_ngcontent-%COMP%]{border-top-width:1px}td[_ngcontent-%COMP%]{font-size:.875rem;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}"]}),o})(),_e=(()=>{class o{constructor(t){this.fb=t}ngOnInit(){this.initializeForm()}initializeForm(){this.settingsForm=this.fb.group({companyName:["SUMITOMO ELECTRIC BORDNETZE SE",i.kI.required],logo:[null],emailNotifications:[!0],reminderDays:[7,[i.kI.min(1),i.kI.max(30)]],defaultSessionCapacity:[15,[i.kI.min(1)]],mandatoryTrainingReminders:[!0],reportEmail:["admin@example.com",[i.kI.email,i.kI.required]],language:["fr",i.kI.required]})}onSubmit(){this.settingsForm.valid?(console.log("Settings saved:",this.settingsForm.value),alert("Param\xe8tres enregistr\xe9s avec succ\xe8s!")):alert("Veuillez corriger les erreurs dans le formulaire.")}onCancel(){this.settingsForm.reset({companyName:"SUMITOMO ELECTRIC BORDNETZE SE",logo:null,emailNotifications:!0,reminderDays:7,defaultSessionCapacity:15,mandatoryTrainingReminders:!0,reportEmail:"admin@example.com",language:"fr"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-settings"]],decls:72,vars:2,consts:[[1,"animate-fade-in","container","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-white","rounded-xl","shadow-lg","overflow-hidden"],[1,"px-8","py-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"p-8",3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"text-lg","font-medium","text-gray-700","mb-6"],[1,"space-y-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","formControlName","companyName","placeholder","Entrez le nom de l'entreprise",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],[1,"flex","items-center","space-x-4"],[1,"h-20","w-20","rounded-lg","bg-gray-200","flex","items-center","justify-center"],[1,"text-gray-400"],["type","button",1,"px-4","py-2","bg-white","border","border-gray-300","rounded-lg","text-sm","font-medium","text-gray-700","hover:bg-gray-50","transition-colors"],[1,"text-lg","font-medium","text-gray-700","mt-8","mb-6"],["formControlName","language",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],["value","fr"],["value","en"],["value","de"],[1,"flex","items-center"],["type","checkbox","id","emailNotifications","formControlName","emailNotifications",1,"h-5","w-5","text-primary","border-gray-300","rounded","focus:ring-primary"],["for","emailNotifications",1,"ml-3","text-sm","text-gray-700"],["type","checkbox","id","mandatoryTrainingReminders","formControlName","mandatoryTrainingReminders",1,"h-5","w-5","text-primary","border-gray-300","rounded","focus:ring-primary"],["for","mandatoryTrainingReminders",1,"ml-3","text-sm","text-gray-700"],["type","number","formControlName","reminderDays","min","1","max","30",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],["type","email","formControlName","reportEmail","placeholder","Entrez l'email pour les rapports",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],["type","number","formControlName","defaultSessionCapacity","min","1",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-transparent"],[1,"mt-10","pt-6","border-t","border-gray-200","flex","justify-end","space-x-4"],["type","button",1,"px-4","py-2","bg-white","border","border-gray-300","rounded-lg","shadow-sm","text-sm","font-medium","text-gray-700","hover:bg-gray-50","flex","items-center","space-x-2","transition-colors",3,"click"],[1,"inline-block"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded-lg","shadow-sm","text-sm","font-medium","hover:bg-primary-dark","flex","items-center","space-x-2","transition-colors",3,"disabled"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Param\xe8tres"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"h2",5),e._uU(7,"Configuration g\xe9n\xe9rale"),e.qZA()(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(9,"div",7)(10,"div")(11,"h3",8),e._uU(12,"Informations de l'entreprise"),e.qZA(),e.TgZ(13,"div",9)(14,"div")(15,"label",10),e._uU(16," Nom de l'entreprise "),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"div")(19,"label",10),e._uU(20," Logo de l'entreprise "),e.qZA(),e.TgZ(21,"div",12)(22,"div",13)(23,"span",14),e._uU(24,"Logo"),e.qZA()(),e.TgZ(25,"button",15),e._uU(26," Parcourir... "),e.qZA()()()(),e.TgZ(27,"h3",16),e._uU(28,"Pr\xe9f\xe9rences de langue"),e.qZA(),e.TgZ(29,"div")(30,"label",10),e._uU(31," Langue par d\xe9faut "),e.qZA(),e.TgZ(32,"select",17)(33,"option",18),e._uU(34,"Fran\xe7ais"),e.qZA(),e.TgZ(35,"option",19),e._uU(36,"English"),e.qZA(),e.TgZ(37,"option",20),e._uU(38,"Deutsch"),e.qZA()()()(),e.TgZ(39,"div")(40,"h3",8),e._uU(41,"Notifications et rappels"),e.qZA(),e.TgZ(42,"div",9)(43,"div",21),e._UZ(44,"input",22),e.TgZ(45,"label",23),e._uU(46," Activer les notifications par email "),e.qZA()(),e.TgZ(47,"div",21),e._UZ(48,"input",24),e.TgZ(49,"label",25),e._uU(50," Rappels pour les formations obligatoires "),e.qZA()(),e.TgZ(51,"div")(52,"label",10),e._uU(53," Jours avant la formation pour envoyer un rappel "),e.qZA(),e._UZ(54,"input",26),e.qZA(),e.TgZ(55,"div")(56,"label",10),e._uU(57," Email pour les rapports "),e.qZA(),e._UZ(58,"input",27),e.qZA()(),e.TgZ(59,"h3",16),e._uU(60,"Param\xe8tres par d\xe9faut"),e.qZA(),e.TgZ(61,"div")(62,"label",10),e._uU(63," Capacit\xe9 par d\xe9faut des sessions "),e.qZA(),e._UZ(64,"input",28),e.qZA()()(),e.TgZ(65,"div",29)(66,"button",30),e.NdJ("click",function(){return n.onCancel()}),e.TgZ(67,"span",31),e._uU(68,"Annuler"),e.qZA()(),e.TgZ(69,"button",32)(70,"span",31),e._uU(71,"Enregistrer"),e.qZA()()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.settingsForm),e.xp6(61),e.Q6J("disabled",n.settingsForm.invalid))},dependencies:[i._Y,i.YN,i.Kr,i.Fj,i.wV,i.Wl,i.EJ,i.JJ,i.JL,i.qQ,i.Fd,i.sg,i.u],styles:[".form-input[_ngcontent-%COMP%]{width:100%;border-radius:var(--radius);border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.75rem}.form-input[_ngcontent-%COMP%]:focus{border-color:transparent;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: hsl(var(--primary))}.animate-fade-in[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.primary[_ngcontent-%COMP%]{background-color:#4a90e2}.primary-dark[_ngcontent-%COMP%]{background-color:#357abd}"]}),o})();var be=d(1206);function he(o,a){if(1&o&&(e.TgZ(0,"div",28),e._UZ(1,"input",29),e.TgZ(2,"label",30)(3,"div",31)(4,"span",32),e._uU(5),e.qZA()(),e.TgZ(6,"div",33),e._UZ(7,"i",34),e.qZA()()()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("id","category-"+t)("value",t),e.xp6(1),e.Q6J("for","category-"+t),e.xp6(3),e.Oqu(t)}}function xe(o,a){if(1&o&&(e.TgZ(0,"span",42),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function ye(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",35)(1,"input",36),e.NdJ("change",function(r){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.onGroupSelectionChange(l.id,r))}),e.qZA(),e.TgZ(2,"label",37)(3,"div",38)(4,"span",39),e._uU(5),e.qZA(),e.YNc(6,xe,2,1,"span",40),e.qZA(),e.TgZ(7,"div",41),e._UZ(8,"i",34),e.qZA()()()}if(2&o){const t=a.$implicit;e.xp6(1),e.Q6J("id","group-"+t.id)("value",t.id),e.xp6(1),e.Q6J("for","group-"+t.id),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.description)}}function ve(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"div")(5,"label",11),e._uU(6,"Title"),e.qZA(),e._UZ(7,"input",12),e.qZA(),e.TgZ(8,"div")(9,"label",11),e._uU(10,"Description"),e.qZA(),e._UZ(11,"textarea",47),e.qZA()()(),e.TgZ(12,"div",48)(13,"div",49),e._UZ(14,"i",50),e.qZA(),e.TgZ(15,"button",51),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.moveModule(s,s-1))}),e._UZ(16,"i",52),e.qZA(),e.TgZ(17,"button",51),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.moveModule(s,s+1))}),e._UZ(18,"i",53),e.qZA(),e.TgZ(19,"button",54),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.removeModule(s))}),e._UZ(20,"i",55),e.qZA()()(),e.TgZ(21,"div",56),e._uU(22),e.qZA()()}if(2&o){const t=a.$implicit,n=a.index,r=e.oxw();let s;e.Q6J("formGroupName",n),e.xp6(15),e.Q6J("disabled",0===n),e.xp6(2),e.Q6J("disabled",n===r.modules.length-1),e.xp6(5),e.hij(" Position: ",null==(s=t.get("position"))?null:s.value," ")}}function Ce(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",57)(1,"div",15)(2,"div")(3,"label",11),e._uU(4,"Title"),e.qZA(),e._UZ(5,"input",12),e.qZA(),e.TgZ(6,"div")(7,"label",11),e._uU(8,"Start Date"),e.qZA(),e._UZ(9,"input",58),e.qZA(),e.TgZ(10,"div")(11,"label",11),e._uU(12,"End Date"),e.qZA(),e._UZ(13,"input",59),e.qZA()(),e.TgZ(14,"div",60)(15,"button",61),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.removeSession(s))}),e._UZ(16,"i",55),e.qZA()()()}2&o&&e.Q6J("formGroupName",a.index)}const Ze=function(o){return["/admin/quizs/edit",o]},Te=function(o){return["/admin/quizs/comments",o]};function Me(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr",19)(1,"td",20),e._uU(2),e.qZA(),e.TgZ(3,"td",21)(4,"div",22),e._uU(5),e.qZA()(),e.TgZ(6,"td",21)(7,"span",23),e._uU(8),e.qZA()(),e.TgZ(9,"td",24),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",25)(13,"div",26)(14,"button",27),e._UZ(15,"i",28),e.qZA(),e.TgZ(16,"button",29),e._UZ(17,"i",30),e.qZA(),e.TgZ(18,"button",31),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteQuiz(s))}),e._UZ(19,"i",32),e.qZA()()()()}if(2&o){const t=a.$implicit;e.xp6(2),e.hij(" ",t.id," "),e.xp6(3),e.Oqu(t.title),e.xp6(3),e.hij(" ",t.questions.length," questions "),e.xp6(2),e.hij(" ",e.xi3(11,6,t.createdAt,"dd MMM yyyy")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(9,Ze,t.id)),e.xp6(2),e.Q6J("routerLink",e.VKq(11,Te,t.id))}}function Oe(o,a){1&o&&(e.TgZ(0,"tr")(1,"td",33)(2,"div",34),e._UZ(3,"i",35),e.TgZ(4,"p",36),e._uU(5,"Aucun quiz trouv\xe9"),e.qZA()()()())}const ke=function(){return["create"]};function Ae(o,a){1&o&&(e.TgZ(0,"div",15),e._uU(1," Le titre doit contenir au moins 3 caract\xe8res "),e.qZA())}function Pe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,s=e.oxw();return e.KtG(s.removeQuestion(r))}),e._UZ(1,"i",29),e.qZA()}}function Ue(o,a){1&o&&(e.TgZ(0,"div",15),e._uU(1," Le titre ne peut pas \xeatre vide "),e.qZA())}function Fe(o,a){1&o&&(e.TgZ(0,"div",15),e._uU(1," Le nombre de points doit \xeatre sup\xe9rieur \xe0 0 "),e.qZA())}function Ne(o,a){1&o&&(e.TgZ(0,"div",15),e._uU(1," La r\xe9ponse ne peut pas \xeatre vide "),e.qZA())}function Ie(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,s=e.oxw().index,l=e.oxw();return e.KtG(l.removeAnswer(s,r))}),e._UZ(1,"i",29),e.qZA()}}function Je(o,a){if(1&o&&(e.TgZ(0,"div",30)(1,"div",31),e._UZ(2,"input",32),e.YNc(3,Ne,2,0,"div",5),e.qZA(),e.TgZ(4,"div",33),e._UZ(5,"input",34),e.qZA(),e.YNc(6,Ie,2,0,"button",19),e.qZA()),2&o){const t=a.index,n=e.oxw().index,r=e.oxw();let s;e.Q6J("formGroupName",t),e.xp6(2),e.Q6J("placeholder","R\xe9ponse "+(t+1)),e.xp6(1),e.Q6J("ngIf",(null==(s=r.getAnswers(n).at(t).get("text"))?null:s.invalid)&&(null==(s=r.getAnswers(n).at(t).get("text"))?null:s.touched)),e.xp6(3),e.Q6J("ngIf",r.getAnswers(n).length>2)}}function Se(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"h4",18),e._uU(3),e.qZA(),e.YNc(4,Pe,2,0,"button",19),e.qZA(),e.TgZ(5,"div",20)(6,"div",21)(7,"label",22),e._uU(8,"Titre de la question"),e.qZA(),e._UZ(9,"input",23),e.YNc(10,Ue,2,0,"div",5),e.qZA(),e.TgZ(11,"div",24)(12,"label",22),e._uU(13,"Points"),e.qZA(),e._UZ(14,"input",25),e.YNc(15,Fe,2,0,"div",5),e.qZA()(),e.TgZ(16,"div",6)(17,"div",7)(18,"h5",18),e._uU(19,"R\xe9ponses"),e.qZA(),e.TgZ(20,"button",9),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.addAnswer(s))}),e._UZ(21,"i",10),e._uU(22," Ajouter une r\xe9ponse "),e.qZA()(),e.TgZ(23,"div",26),e.YNc(24,Je,7,4,"div",27),e.qZA()()()}if(2&o){const t=a.index,n=e.oxw();let r,s;e.Q6J("formGroupName",t),e.xp6(3),e.hij("Question ",t+1,""),e.xp6(1),e.Q6J("ngIf",n.questions.length>1),e.xp6(6),e.Q6J("ngIf",(null==(r=n.questions.at(t).get("title"))?null:r.invalid)&&(null==(r=n.questions.at(t).get("title"))?null:r.touched)),e.xp6(5),e.Q6J("ngIf",(null==(s=n.questions.at(t).get("points"))?null:s.invalid)&&(null==(s=n.questions.at(t).get("points"))?null:s.touched)),e.xp6(9),e.Q6J("ngForOf",n.getAnswers(t).controls)}}const Qe=[{path:"",component:M},{path:"formations",component:E},{path:"formations/create",component:(()=>{class o{constructor(t,n,r,s,l){this.fb=t,this.formationService=n,this.groupService=r,this.router=s,this.dialog=l,this.groups=[],this.categories=v,this.selectedCategory="",this.selectedGroupIds=[],this.isLoadingGroups=!0,this.formationForm=this.fb.group({title:["",[i.kI.required,i.kI.minLength(3)]],description:["",[i.kI.required,i.kI.minLength(10)]],content:["",[i.kI.required,i.kI.minLength(20)]],category:["",i.kI.required],groupIds:[[]],sessions:this.fb.array([]),modules:this.fb.array([])})}ngOnInit(){this.isLoadingGroups=!0,this.groupService.getGroups().subscribe({next:t=>{this.groups=t,this.isLoadingGroups=!1},error:t=>{console.error("Error loading groups:",t),this.isLoadingGroups=!1}})}get modules(){return this.formationForm.get("modules")}get sessions(){return this.formationForm.get("sessions")}createModuleFormGroup(){return this.fb.group({title:["",[i.kI.required,i.kI.minLength(3)]],description:["",[i.kI.required,i.kI.minLength(10)]],position:[this.modules.length+1,i.kI.required],formationId:[0]})}addModule(){const t=this.createModuleFormGroup();this.modules.push(t),this.updateModulePositions()}removeModule(t){this.modules.removeAt(t),this.updateModulePositions()}updateModulePositions(){this.modules.controls.forEach((t,n)=>{t.patchValue({position:n+1})})}moveModule(t,n){const r=this.modules.at(t);this.modules.removeAt(t),this.modules.insert(n,r),this.updateModulePositions()}createSessionFormGroup(){return this.fb.group({title:["",[i.kI.required,i.kI.minLength(3)]],startDate:["",i.kI.required],endDate:["",i.kI.required],formationId:[0]})}addSession(){const t=this.createSessionFormGroup();this.sessions.push(t)}removeSession(t){this.sessions.removeAt(t)}onGroupSelectionChange(t,n){n.target.checked?this.selectedGroupIds.includes(t)||this.selectedGroupIds.push(t):this.selectedGroupIds=this.selectedGroupIds.filter(s=>s!==t),this.formationForm.patchValue({groupIds:this.selectedGroupIds})}onCategorySelectionChange(t){this.selectedCategory=t,this.formationForm.patchValue({category:t})}onSubmit(){if(this.formationForm.valid){const t={...this.formationForm.value,groupIds:this.selectedGroupIds};this.formationService.createFormation(t).subscribe({next:n=>{this.router.navigate(["/admin/formations"])},error:n=>{console.error("Error creating formation:",n)}})}else this.formationForm.markAllAsTouched()}dropModule(t){(0,be.bA)(this.modules.controls,t.previousIndex,t.currentIndex),this.updateModulePositions()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(x),e.Y36(_),e.Y36(m.F0),e.Y36(u.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-formation"]],decls:57,vars:6,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"max-w-4xl"],[1,"rounded-2xl","overflow-hidden"],[1,"px-8","py-6"],[1,""],[1,"mt-1","text-sm"],[1,"p-8"],[1,"space-y-8",3,"formGroup","ngSubmit"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"text-2xl","font-bold","mb-6"],[1,"grid","grid-cols-1","gap-6"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","formControlName","title",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],["formControlName","description","rows","3",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],["formControlName","content","rows","5",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["class","category-item",4,"ngFor","ngForOf"],["class","group-item",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold"],["type","button",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary",3,"click"],[1,"fas","fa-plus","mr-2"],["formArrayName","modules","cdkDropList","",1,"space-y-4",3,"cdkDropListDropped"],["class","module-item","cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","sessions",1,"space-y-4"],["class","session-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","items-center","px-6","py-3","border","border-transparent","text-base","font-medium","rounded-md","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50",3,"disabled"],[1,"category-item"],["type","radio","formControlName","category",1,"category-radio",3,"id","value"],[1,"category-label",3,"for"],[1,"category-content"],[1,"category-name"],[1,"category-icon"],[1,"fas","fa-check"],[1,"group-item"],["type","checkbox",1,"group-checkbox",3,"id","value","change"],[1,"group-label",3,"for"],[1,"group-content"],[1,"group-name"],["class","group-description",4,"ngIf"],[1,"group-icon"],[1,"group-description"],["cdkDrag","",1,"module-item",3,"formGroupName"],[1,"flex","items-start","space-x-4"],[1,"flex-1"],[1,"grid","grid-cols-1","gap-4"],["formControlName","description","rows","2",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],[1,"flex","flex-col","space-y-2"],["cdkDragHandle","",1,"drag-handle"],[1,"fas","fa-grip-vertical"],["type","button",1,"p-2","text-gray-500","hover:text-gray-700","disabled:opacity-50",3,"disabled","click"],[1,"fas","fa-arrow-up"],[1,"fas","fa-arrow-down"],["type","button",1,"p-2","text-red-500","hover:text-red-700",3,"click"],[1,"fas","fa-trash"],[1,"mt-2","text-sm","text-gray-500"],[1,"session-item",3,"formGroupName"],["type","date","formControlName","startDate",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],["type","date","formControlName","endDate",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-primary","focus:ring-primary"],[1,"mt-2","flex","justify-end"],["type","button",1,"text-red-500","hover:text-red-700",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Create New Formation"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Fill in the details below to create a new training formation"),e.qZA()(),e.TgZ(8,"div",6)(9,"form",7),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(10,"div",8)(11,"h2",9),e._uU(12,"Basic Information"),e.qZA(),e.TgZ(13,"div",10)(14,"div")(15,"label",11),e._uU(16,"Title"),e.qZA(),e._UZ(17,"input",12),e.qZA(),e.TgZ(18,"div")(19,"label",11),e._uU(20,"Description"),e.qZA(),e._UZ(21,"textarea",13),e.qZA(),e.TgZ(22,"div")(23,"label",11),e._uU(24,"Content"),e.qZA(),e._UZ(25,"textarea",14),e.qZA()()(),e.TgZ(26,"div",8)(27,"h2",9),e._uU(28,"Category"),e.qZA(),e.TgZ(29,"div",15),e.YNc(30,he,8,4,"div",16),e.qZA()(),e.TgZ(31,"div",8)(32,"h2",9),e._uU(33,"Target Groups"),e.qZA(),e.TgZ(34,"div",15),e.YNc(35,ye,9,5,"div",17),e.qZA()(),e.TgZ(36,"div",8)(37,"div",18)(38,"h2",19),e._uU(39,"Modules"),e.qZA(),e.TgZ(40,"button",20),e.NdJ("click",function(){return n.addModule()}),e._UZ(41,"i",21),e._uU(42," Add Module "),e.qZA()(),e.TgZ(43,"div",22),e.NdJ("cdkDropListDropped",function(s){return n.dropModule(s)}),e.YNc(44,ve,23,4,"div",23),e.qZA()(),e.TgZ(45,"div",8)(46,"div",18)(47,"h2",19),e._uU(48,"Sessions"),e.qZA(),e.TgZ(49,"button",20),e.NdJ("click",function(){return n.addSession()}),e._UZ(50,"i",21),e._uU(51," Add Session "),e.qZA()(),e.TgZ(52,"div",24),e.YNc(53,Ce,17,1,"div",25),e.qZA()(),e.TgZ(54,"div",26)(55,"button",27),e._uU(56," Create Formation "),e.qZA()()()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",n.formationForm),e.xp6(21),e.Q6J("ngForOf",n.categories),e.xp6(5),e.Q6J("ngForOf",n.groups),e.xp6(9),e.Q6J("ngForOf",n.modules.controls),e.xp6(9),e.Q6J("ngForOf",n.sessions.controls),e.xp6(2),e.Q6J("disabled",n.formationForm.invalid))},dependencies:[c.sg,c.O5,i._Y,i.Fj,i._,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE],styles:[".group-checkbox[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]{position:absolute;opacity:0;height:0;width:0;cursor:pointer}.group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]{border-color:var(--primary-color);background-color:rgba(var(--primary-color-rgb),.05)}.group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1);color:var(--primary-color)}.group-label[_ngcontent-%COMP%], .category-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;border:2px solid #e5e7eb;border-radius:.5rem;transition:all .2s ease;cursor:pointer}.group-label[_ngcontent-%COMP%]:hover, .category-label[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);background-color:rgba(var(--primary-color-rgb),.02)}.group-content[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]{flex:1}.group-name[_ngcontent-%COMP%], .category-name[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#111827}.group-description[_ngcontent-%COMP%], .category-description[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#6b7280;margin-top:.25rem}.group-icon[_ngcontent-%COMP%], .category-icon[_ngcontent-%COMP%]{margin-left:1rem;opacity:0;transform:scale(.8);transition:all .2s ease;color:var(--primary-color)}[_ngcontent-%COMP%]:root{--primary-color: #3b82f6;--primary-color-rgb: 59, 130, 246}@keyframes shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}.shimmer[_ngcontent-%COMP%]{overflow:hidden;position:relative}.shimmer-bg[_ngcontent-%COMP%]{animation:shimmer 2s infinite linear;background:linear-gradient(to right,#f6f7f8 8%,#edeef1 18%,#f6f7f8 33%);background-size:1000px 100%;position:relative}.module-item[_ngcontent-%COMP%]{border-radius:var(--radius);border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}.module-item[_ngcontent-%COMP%]:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.module-item[_ngcontent-%COMP%]{cursor:move;position:relative}.module-item.dragging[_ngcontent-%COMP%]{opacity:.5;background-color:#f3f4f6}.module-item[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#9ca3af;cursor:move}.module-item[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:hover{color:#4f46e5}.module-item[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.module-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:calc(var(--radius) - 2px);padding:.5rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}.module-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.module-item[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}.group-item[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.group-checkbox[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;cursor:pointer;opacity:0}.group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]{border-color:hsl(var(--primary));background-color:hsl(var(--primary) / .05)}.group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .group-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .group-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%], .category-checkbox[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));color:hsl(var(--primary));opacity:1}.group-label[_ngcontent-%COMP%], .category-label[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center;border-radius:var(--radius);border-width:2px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding:1rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}.group-label[_ngcontent-%COMP%]:hover, .category-label[_ngcontent-%COMP%]:hover{border-color:hsl(var(--primary));background-color:hsl(var(--primary) / .05)}.group-content[_ngcontent-%COMP%], .category-content[_ngcontent-%COMP%]{flex:1 1 0%}.group-name[_ngcontent-%COMP%], .category-name[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.group-description[_ngcontent-%COMP%], .category-description[_ngcontent-%COMP%]{margin-top:.25rem;display:block;font-size:.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.group-icon[_ngcontent-%COMP%], .category-icon[_ngcontent-%COMP%]{margin-left:.5rem;--tw-scale-x: .9;--tw-scale-y: .9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));color:hsl(var(--primary));opacity:0;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;animation-duration:.2s}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin-top:.25rem;display:block;width:100%;border-radius:calc(var(--radius) - 2px);--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:hsl(var(--primary));--tw-ring-color: hsl(var(--primary))}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin-top:.25rem;display:block;width:100%;border-radius:var(--radius);--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:hsl(var(--primary));--tw-ring-color: hsl(var(--primary))}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.75rem 1rem;background-color:#f9fafb;transition:all .2s ease}input[type=text][_ngcontent-%COMP%]:hover, textarea[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{background-color:#fff;box-shadow:0 0 0 3px #4f46e51a}.category-item[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.category-radio[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.category-radio[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]{border-color:#4f46e5;background-color:#f3f4f6}.category-radio[_ngcontent-%COMP%]:checked + .category-label[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.category-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;border:2px solid #e5e7eb;border-radius:.5rem;cursor:pointer;transition:all .2s ease}.category-label[_ngcontent-%COMP%]:hover{border-color:#4f46e5;background-color:#f3f4f6}.category-content[_ngcontent-%COMP%]{flex:1}.category-name[_ngcontent-%COMP%]{font-weight:500;color:#374151}.category-icon[_ngcontent-%COMP%]{opacity:0;transform:scale(0);transition:all .2s ease;color:#4f46e5}"]}),o})()},{path:"employees",component:se},{path:"sessions",component:fe},{path:"settings",component:_e},{path:"quizs",component:(()=>{class o{constructor(){this.quizzes=[{id:1,title:"Quiz de s\xe9curit\xe9",createdAt:new Date("2024-03-10"),updatedAt:null,deletedAt:null,enable:!0,questions:[{id:1,quizId:1,points:1,order:0,createdAt:new Date("2024-03-10"),updatedAt:null,deletedAt:null,enable:!0,answers:[{id:1,text:"Casque",isCorrect:!1,questionId:1,createdAt:new Date("2024-03-10"),updatedAt:null,deletedAt:null,enable:!0},{id:2,text:"Tous ces \xe9l\xe9ments",isCorrect:!0,questionId:1,createdAt:new Date("2024-03-10"),updatedAt:null,deletedAt:null,enable:!0}]},{id:2,quizId:1,points:1,order:1,createdAt:new Date("2024-03-10"),updatedAt:null,deletedAt:null,enable:!0,answers:[{id:3,text:"\xc9vacuer",isCorrect:!0,questionId:2,createdAt:new Date("2024-03-10"),updatedAt:null,deletedAt:null,enable:!0},{id:4,text:"Utiliser un extincteur",isCorrect:!1,questionId:2,createdAt:new Date("2024-03-10"),updatedAt:null,deletedAt:null,enable:!0}]}]},{id:2,title:"Quiz de maintenance pr\xe9ventive",createdAt:new Date("2024-02-15"),updatedAt:null,deletedAt:null,enable:!0,questions:[{id:3,quizId:2,points:1,order:0,createdAt:new Date("2024-02-15"),updatedAt:null,deletedAt:null,enable:!0,answers:[{id:5,text:"Tous les jours",isCorrect:!1,questionId:3,createdAt:new Date("2024-02-15"),updatedAt:null,deletedAt:null,enable:!0},{id:6,text:"Toutes les semaines",isCorrect:!0,questionId:3,createdAt:new Date("2024-02-15"),updatedAt:null,deletedAt:null,enable:!0}]}]}],this.searchTerm=""}ngOnInit(){}get filteredQuizzes(){return this.quizzes.filter(t=>t.title.toLowerCase().includes(this.searchTerm.toLowerCase()))}openCreateQuizDialog(){}editQuiz(t){}deleteQuiz(t){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-quizs"]],decls:31,vars:5,consts:[[1,"container","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"flex","gap-4"],[1,"px-4","py-2","bg-primary","text-white","rounded-lg","hover:bg-blue-600","transition-colors","flex","items-center","gap-2",3,"routerLink"],[1,"fas","fa-plus"],[1,"mb-6"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"fas","fa-search","text-gray-400"],["type","text","placeholder","Rechercher un quiz...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModel","ngModelChange"],[1,"bg-white","shadow","rounded-lg","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","items-center","space-x-3"],[1,"text-blue-600","hover:text-blue-900",3,"routerLink"],[1,"fas","fa-edit"],[1,"text-gray-500","hover:text-gray-600",3,"routerLink"],[1,"fas","fa-comment-dots"],[1,"text-red-600","hover:text-red-900",3,"click"],[1,"fas","fa-trash"],["colspan","5",1,"px-6","py-4","text-center","text-gray-500"],[1,"flex","flex-col","items-center","justify-center","py-8"],[1,"fas","fa-file-alt","text-gray-400","text-4xl","mb-2"],[1,"mt-2","text-sm","font-medium","text-gray-500"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Gestion des Quiz"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e._UZ(6,"i",5),e._uU(7," Cr\xe9er un quiz "),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8),e._UZ(11,"i",9),e.qZA(),e.TgZ(12,"input",10),e.NdJ("ngModelChange",function(s){return n.searchTerm=s}),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",12)(15,"table",13)(16,"thead",14)(17,"tr")(18,"th",15),e._uU(19," ID "),e.qZA(),e.TgZ(20,"th",15),e._uU(21," Titre "),e.qZA(),e.TgZ(22,"th",15),e._uU(23," Questions "),e.qZA(),e.TgZ(24,"th",15),e._uU(25," Date de cr\xe9ation "),e.qZA(),e.TgZ(26,"th",15),e._uU(27," Actions "),e.qZA()()(),e.TgZ(28,"tbody",16),e.YNc(29,Me,20,13,"tr",17),e.YNc(30,Oe,6,0,"tr",18),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLink",e.DdM(4,ke)),e.xp6(7),e.Q6J("ngModel",n.searchTerm),e.xp6(17),e.Q6J("ngForOf",n.filteredQuizzes),e.xp6(1),e.Q6J("ngIf",0===n.filteredQuizzes.length))},dependencies:[c.sg,c.O5,m.rH,i.Fj,i.JJ,i.On,c.uU]}),o})()},{path:"quizs/create",component:(()=>{class o{constructor(t,n){this.fb=t,this.router=n,this.quizForm=this.fb.group({title:["",[i.kI.required,i.kI.minLength(3)]],questions:this.fb.array([this.createQuestion()])})}ngOnInit(){}get questions(){return this.quizForm.get("questions")}createQuestion(){return this.fb.group({points:[1,[i.kI.required,i.kI.min(1)]],order:[0],answers:this.fb.array([this.createAnswer(),this.createAnswer()])})}createAnswer(){return this.fb.group({text:["",i.kI.required],isCorrect:[!1]})}addQuestion(){this.questions.push(this.createQuestion())}removeQuestion(t){this.questions.length>1&&this.questions.removeAt(t)}getAnswers(t){return this.questions.at(t).get("answers")}addAnswer(t){this.getAnswers(t).push(this.createAnswer())}removeAnswer(t,n){const r=this.getAnswers(t);r.length>2&&r.removeAt(n)}onSubmit(){this.quizForm.valid&&console.log("Quiz form values:",this.quizForm.value)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-quizs"]],decls:19,vars:3,consts:[[1,"max-w-4xl","p-6"],[1,"space-y-6",3,"formGroup","ngSubmit"],[1,"space-y-2"],[1,"block","font-medium","text-gray-700"],["type","text","formControlName","title","placeholder","Entrez le titre du quiz",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","sm:text-sm"],["class","text-red-500 text-sm",4,"ngIf"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-medium"],["type","button",1,"inline-flex","items-center","px-3","py-1","border","border-gray-300","shadow-sm","text-sm","leading-4","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"fas","fa-plus-circle","mr-2"],["formArrayName","questions",1,"space-y-4"],["class","p-4 border rounded-md space-y-4",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","items-center","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-primary","hover:bg-blue-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"text-red-500","text-sm"],[1,"p-4","border","rounded-md","space-y-4",3,"formGroupName"],[1,"flex","justify-between","items-center"],[1,"font-medium"],["type","button","class","text-red-500 hover:text-red-700",3,"click",4,"ngIf"],[1,"flex","gap-4"],[1,"space-y-2","w-3/4"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","formControlName","title","placeholder","Entrez le titre de la question",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","sm:text-sm"],[1,"space-y-2","w-1/4"],["type","number","formControlName","points","min","1",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","sm:text-sm"],["formArrayName","answers",1,"space-y-2"],["class","flex items-start space-x-4",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"text-red-500","hover:text-red-700",3,"click"],[1,"fas","fa-trash"],[1,"flex","items-start","space-x-4",3,"formGroupName"],[1,"flex-1"],["type","text","formControlName","text",1,"block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-blue-500","focus:ring-blue-500","sm:text-sm",3,"placeholder"],[1,"flex","items-center","h-5"],["type","checkbox","formControlName","isCorrect",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(2,"div",2)(3,"label",3),e._uU(4,"Titre du quiz"),e.qZA(),e._UZ(5,"input",4),e.YNc(6,Ae,2,0,"div",5),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"h3",8),e._uU(10,"Questions"),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.addQuestion()}),e._UZ(12,"i",10),e._uU(13," Ajouter une question "),e.qZA()(),e.TgZ(14,"div",11),e.YNc(15,Se,25,6,"div",12),e.qZA()(),e.TgZ(16,"div",13)(17,"button",14),e._uU(18," Cr\xe9er le quiz "),e.qZA()()()()),2&t){let r;e.xp6(1),e.Q6J("formGroup",n.quizForm),e.xp6(5),e.Q6J("ngIf",(null==(r=n.quizForm.get("title"))?null:r.invalid)&&(null==(r=n.quizForm.get("title"))?null:r.touched)),e.xp6(9),e.Q6J("ngForOf",n.questions.controls)}},dependencies:[c.sg,c.O5,i._Y,i.Fj,i.wV,i.Wl,i.JJ,i.JL,i.qQ,i.sg,i.u,i.x0,i.CE],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}input[type=checkbox][_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:.25rem}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#3b82f6;border-color:#3b82f6}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}.space-y-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1rem}.space-y-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.5rem}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{padding:.5rem;border:1px solid #e5e7eb;border-radius:.375rem;width:100%}.text-red-500[_ngcontent-%COMP%]{color:#ef4444}.border[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:.375rem;padding:1rem}.fas[_ngcontent-%COMP%]{font-size:1rem}"]}),o})()}];let ze=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(Qe),m.Bz]}),o})();var Ee=d(6191);let Ge=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,ze,i.UX,u.Is,i.u5,Ee.m]}),o})()}}]);